/*! For license information please see main.8d1bd0df.js.LICENSE.txt */
!function(){var t={694:function(t,e){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var o=typeof n;if("string"===o||"number"===o)t.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&t.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&t.push(s);else t.push(n.toString())}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(n=function(){return i}.apply(e,[]))||(t.exports=n)}()},176:function(t){"use strict";t.exports=function(t,e,n,r,i,o,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;(u=new Error(e.replace(/%s/g,(function(){return l[c++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},559:function(t,e){!function(t){"use strict";var e="1.8.0";function n(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(e in i=arguments[n])t[e]=i[e];return t}var r=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function i(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var r=n.call(arguments,2);return function(){return t.apply(e,r.length?r.concat(n.call(arguments)):arguments)}}var o=0;function a(t){return"_leaflet_id"in t||(t._leaflet_id=++o),t._leaflet_id}function s(t,e,n){var r,i,o,a;return a=function(){r=!1,i&&(o.apply(n,i),i=!1)},o=function(){r?i=arguments:(t.apply(n,arguments),setTimeout(a,e),r=!0)},o}function u(t,e,n){var r=e[1],i=e[0],o=r-i;return t===r&&n?t:((t-i)%o+o)%o+i}function l(){return!1}function c(t,e){if(!1===e)return t;var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function h(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function f(t){return h(t).split(/\s+/)}function d(t,e){for(var n in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?r(t.options):{}),e)t.options[n]=e[n];return t.options}function p(t,e,n){var r=[];for(var i in t)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(t[i]));return(e&&-1!==e.indexOf("?")?"&":"?")+r.join("&")}var m=/\{ *([\w_ -]+) *\}/g;function v(t,e){return t.replace(m,(function(t,n){var r=e[n];if(void 0===r)throw new Error("No value provided for variable "+t);return"function"===typeof r&&(r=r(e)),r}))}var g=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function y(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var _="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var w=0;function x(t){var e=+new Date,n=Math.max(0,16-(e-w));return w=e+n,window.setTimeout(t,n)}var E=window.requestAnimationFrame||b("RequestAnimationFrame")||x,S=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function T(t,e,n){if(!n||E!==x)return E.call(window,i(t,e));t.call(e)}function k(t){t&&S.call(window,t)}var I={__proto__:null,extend:n,create:r,bind:i,get lastId(){return o},stamp:a,throttle:s,wrapNum:u,falseFn:l,formatNum:c,trim:h,splitWords:f,setOptions:d,getParamString:p,template:v,isArray:g,indexOf:y,emptyImageUrl:_,requestFn:E,cancelFn:S,requestAnimFrame:T,cancelAnimFrame:k};function C(){}function P(t){if("undefined"!==typeof L&&L&&L.Mixin){t=g(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}C.extend=function(t){var e=function(){d(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=e.__super__=this.prototype,o=r(i);for(var a in o.constructor=e,e.prototype=o,this)Object.prototype.hasOwnProperty.call(this,a)&&"prototype"!==a&&"__super__"!==a&&(e[a]=this[a]);return t.statics&&n(e,t.statics),t.includes&&(P(t.includes),n.apply(null,[o].concat(t.includes))),n(o,t),delete o.statics,delete o.includes,o.options&&(o.options=i.options?r(i.options):{},n(o.options,t.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=o._initHooks.length;t<e;t++)o._initHooks[t].call(this)}},e},C.include=function(t){var e=this.prototype.options;return n(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},C.mergeOptions=function(t){return n(this.prototype.options,t),this},C.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"===typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var N={on:function(t,e,n){if("object"===typeof t)for(var r in t)this._on(r,t[r],e);else for(var i=0,o=(t=f(t)).length;i<o;i++)this._on(t[i],e,n);return this},off:function(t,e,n){if(arguments.length)if("object"===typeof t)for(var r in t)this._off(r,t[r],e);else{t=f(t);for(var i=1===arguments.length,o=0,a=t.length;o<a;o++)i?this._off(t[o]):this._off(t[o],e,n)}else delete this._events;return this},_on:function(t,e,n){if("function"===typeof e){this._events=this._events||{};var r=this._events[t];r||(r=[],this._events[t]=r),n===this&&(n=void 0);for(var i={fn:e,ctx:n},o=r,a=0,s=o.length;a<s;a++)if(o[a].fn===e&&o[a].ctx===n)return;o.push(i)}else console.warn("wrong listener type: "+typeof e)},_off:function(t,e,n){var r,i,o;if(this._events&&(r=this._events[t]))if(1!==arguments.length)if(n===this&&(n=void 0),"function"===typeof e){for(i=0,o=r.length;i<o;i++){var a=r[i];if(a.ctx===n&&a.fn===e)return this._firingCount&&(a.fn=l,this._events[t]=r=r.slice()),void r.splice(i,1)}console.warn("listener not found")}else console.warn("wrong listener type: "+typeof e);else{if(this._firingCount)for(i=0,o=r.length;i<o;i++)r[i].fn=l;delete this._events[t]}},fire:function(t,e,r){if(!this.listens(t,r))return this;var i=n({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var a=0,s=o.length;a<s;a++){var u=o[a];u.fn.call(u.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(t,e){"string"!==typeof t&&console.warn('"string" type argument expected');var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var r in this._eventParents)if(this._eventParents[r].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"===typeof t){for(var r in t)this.once(r,t[r],e);return this}var o=i((function(){this.off(t,e,n).off(t,o,n)}),this);return this.on(t,e,n).on(t,o,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[a(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[a(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};N.addEventListener=N.on,N.removeEventListener=N.clearAllEventListeners=N.off,N.addOneTimeEventListener=N.once,N.fireEvent=N.fire,N.hasEventListeners=N.listens;var A=C.extend(N);function O(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var D=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function R(t,e,n){return t instanceof O?t:g(t)?new O(t[0],t[1]):void 0===t||null===t?t:"object"===typeof t&&"x"in t&&"y"in t?new O(t.x,t.y):new O(t,e,n)}function M(t,e){if(t)for(var n=e?[t,e]:t,r=0,i=n.length;r<i;r++)this.extend(n[r])}function z(t,e){return!t||t instanceof M?t:new M(t,e)}function j(t,e){if(t)for(var n=e?[t,e]:t,r=0,i=n.length;r<i;r++)this.extend(n[r])}function F(t,e){return t instanceof j?t:new j(t,e)}function B(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function V(t,e,n){return t instanceof B?t:g(t)&&"object"!==typeof t[0]?3===t.length?new B(t[0],t[1],t[2]):2===t.length?new B(t[0],t[1]):null:void 0===t||null===t?t:"object"===typeof t&&"lat"in t?new B(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new B(t,e,n)}O.prototype={clone:function(){return new O(this.x,this.y)},add:function(t){return this.clone()._add(R(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(R(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new O(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new O(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=D(this.x),this.y=D(this.y),this},distanceTo:function(t){var e=(t=R(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=R(t)).x===this.x&&t.y===this.y},contains:function(t){return t=R(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}},M.prototype={extend:function(t){return t=R(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new O((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new O(this.min.x,this.max.y)},getTopRight:function(){return new O(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"===typeof t[0]||t instanceof O?R(t):z(t))instanceof M?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=z(t);var e=this.min,n=this.max,r=t.min,i=t.max,o=i.x>=e.x&&r.x<=n.x,a=i.y>=e.y&&r.y<=n.y;return o&&a},overlaps:function(t){t=z(t);var e=this.min,n=this.max,r=t.min,i=t.max,o=i.x>e.x&&r.x<n.x,a=i.y>e.y&&r.y<n.y;return o&&a},isValid:function(){return!(!this.min||!this.max)}},j.prototype={extend:function(t){var e,n,r=this._southWest,i=this._northEast;if(t instanceof B)e=t,n=t;else{if(!(t instanceof j))return t?this.extend(V(t)||F(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return r||i?(r.lat=Math.min(e.lat,r.lat),r.lng=Math.min(e.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new B(e.lat,e.lng),this._northEast=new B(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,r=Math.abs(e.lat-n.lat)*t,i=Math.abs(e.lng-n.lng)*t;return new j(new B(e.lat-r,e.lng-i),new B(n.lat+r,n.lng+i))},getCenter:function(){return new B((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new B(this.getNorth(),this.getWest())},getSouthEast:function(){return new B(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"===typeof t[0]||t instanceof B||"lat"in t?V(t):F(t);var e,n,r=this._southWest,i=this._northEast;return t instanceof j?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=r.lat&&n.lat<=i.lat&&e.lng>=r.lng&&n.lng<=i.lng},intersects:function(t){t=F(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),i=t.getNorthEast(),o=i.lat>=e.lat&&r.lat<=n.lat,a=i.lng>=e.lng&&r.lng<=n.lng;return o&&a},overlaps:function(t){t=F(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),i=t.getNorthEast(),o=i.lat>e.lat&&r.lat<n.lat,a=i.lng>e.lng&&r.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=F(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},B.prototype={equals:function(t,e){return!!t&&(t=V(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+c(this.lat,t)+", "+c(this.lng,t)+")"},distanceTo:function(t){return q.distance(this,V(t))},wrap:function(){return q.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return F([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new B(this.lat,this.lng,this.alt)}};var U={latLngToPoint:function(t,e){var n=this.projection.project(t),r=this.scale(e);return this.transformation._transform(n,r)},pointToLatLng:function(t,e){var n=this.scale(e),r=this.transformation.untransform(t,n);return this.projection.unproject(r)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new M(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?u(t.lng,this.wrapLng,!0):t.lng;return new B(this.wrapLat?u(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),r=e.lat-n.lat,i=e.lng-n.lng;if(0===r&&0===i)return t;var o=t.getSouthWest(),a=t.getNorthEast();return new j(new B(o.lat-r,o.lng-i),new B(a.lat-r,a.lng-i))}},q=n({},U,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,r=t.lat*n,i=e.lat*n,o=Math.sin((e.lat-t.lat)*n/2),a=Math.sin((e.lng-t.lng)*n/2),s=o*o+Math.cos(r)*Math.cos(i)*a*a,u=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*u}}),H=6378137,W={R:H,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,t.lat),-n),i=Math.sin(r*e);return new O(this.R*t.lng*e,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(t){var e=180/Math.PI;return new B((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=H*Math.PI;return new M([-t,-t],[t,t])}()};function Z(t,e,n,r){if(g(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=r}function K(t,e,n,r){return new Z(t,e,n,r)}Z.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new O((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var G=n({},q,{code:"EPSG:3857",projection:W,transformation:function(){var t=.5/(Math.PI*W.R);return K(t,.5,-t,.5)}()}),Q=n({},G,{code:"EPSG:900913"});function $(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Y(t,e){var n,r,i,o,a,s,u="";for(n=0,i=t.length;n<i;n++){for(r=0,o=(a=t[n]).length;r<o;r++)u+=(r?"L":"M")+(s=a[r]).x+" "+s.y;u+=e?Dt.svg?"z":"x":""}return u||"M0 0"}var X=document.documentElement.style,J="ActiveXObject"in window,tt=J&&!document.addEventListener,et="msLaunchUri"in navigator&&!("documentMode"in document),nt=Ot("webkit"),rt=Ot("android"),it=Ot("android 2")||Ot("android 3"),ot=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),at=rt&&Ot("Google")&&ot<537&&!("AudioNode"in window),st=!!window.opera,ut=!et&&Ot("chrome"),lt=Ot("gecko")&&!nt&&!st&&!J,ct=!ut&&Ot("safari"),ht=Ot("phantom"),ft="OTransition"in X,dt=0===navigator.platform.indexOf("Win"),pt=J&&"transition"in X,mt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!it,vt="MozPerspective"in X,gt=!window.L_DISABLE_3D&&(pt||mt||vt)&&!ft&&!ht,yt="undefined"!==typeof orientation||Ot("mobile"),_t=yt&&nt,bt=yt&&mt,wt=!window.PointerEvent&&window.MSPointerEvent,xt=!(!window.PointerEvent&&!wt),Et="ontouchstart"in window||!!window.TouchEvent,St=!window.L_NO_TOUCH&&(Et||xt),Tt=yt&&st,kt=yt&&lt,It=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ct=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",l,e),window.removeEventListener("testPassiveEventSupport",l,e)}catch(n){}return t}(),Pt=!!document.createElement("canvas").getContext,Lt=!(!document.createElementNS||!$("svg").createSVGRect),Nt=!!Lt&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(t.firstChild&&t.firstChild.namespaceURI)}(),At=!Lt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"===typeof e.adj}catch(n){return!1}}();function Ot(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Dt={ie:J,ielt9:tt,edge:et,webkit:nt,android:rt,android23:it,androidStock:at,opera:st,chrome:ut,gecko:lt,safari:ct,phantom:ht,opera12:ft,win:dt,ie3d:pt,webkit3d:mt,gecko3d:vt,any3d:gt,mobile:yt,mobileWebkit:_t,mobileWebkit3d:bt,msPointer:wt,pointer:xt,touch:St,touchNative:Et,mobileOpera:Tt,mobileGecko:kt,retina:It,passiveEvents:Ct,canvas:Pt,svg:Lt,vml:At,inlineSvg:Nt},Rt=Dt.msPointer?"MSPointerDown":"pointerdown",Mt=Dt.msPointer?"MSPointerMove":"pointermove",zt=Dt.msPointer?"MSPointerUp":"pointerup",jt=Dt.msPointer?"MSPointerCancel":"pointercancel",Ft={touchstart:Rt,touchmove:Mt,touchend:zt,touchcancel:jt},Bt={touchstart:$t,touchmove:Qt,touchend:Qt,touchcancel:Qt},Vt={},Ut=!1;function qt(t,e,n){return"touchstart"===e&&Gt(),Bt[e]?(n=Bt[e].bind(this,n),t.addEventListener(Ft[e],n,!1),n):(console.warn("wrong event specified:",e),L.Util.falseFn)}function Ht(t,e,n){Ft[e]?t.removeEventListener(Ft[e],n,!1):console.warn("wrong event specified:",e)}function Wt(t){Vt[t.pointerId]=t}function Zt(t){Vt[t.pointerId]&&(Vt[t.pointerId]=t)}function Kt(t){delete Vt[t.pointerId]}function Gt(){Ut||(document.addEventListener(Rt,Wt,!0),document.addEventListener(Mt,Zt,!0),document.addEventListener(zt,Kt,!0),document.addEventListener(jt,Kt,!0),Ut=!0)}function Qt(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in e.touches=[],Vt)e.touches.push(Vt[n]);e.changedTouches=[e],t(e)}}function $t(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&We(e),Qt(t,e)}function Yt(t){var e,n,r={};for(n in t)e=t[n],r[n]=e&&e.bind?e.bind(t):e;return t=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var Xt=200;function Jt(t,e){t.addEventListener("dblclick",e);var n,r=0;function i(t){if(1===t.detail){if("mouse"!==t.pointerType&&(!t.sourceCapabilities||t.sourceCapabilities.firesTouchEvents)){var i=Date.now();i-r<=Xt?2===++n&&e(Yt(t)):n=1,r=i}}else n=t.detail}return t.addEventListener("click",i),{dblclick:e,simDblclick:i}}function te(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var ee,ne,re,ie,oe,ae=Ee(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),se=Ee(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ue="webkitTransition"===se||"OTransition"===se?se+"End":"transitionend";function le(t){return"string"===typeof t?document.getElementById(t):t}function ce(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(t,null);n=r?r[e]:null}return"auto"===n?null:n}function he(t,e,n){var r=document.createElement(t);return r.className=e||"",n&&n.appendChild(r),r}function fe(t){var e=t.parentNode;e&&e.removeChild(t)}function de(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function pe(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function me(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ve(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=be(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function ge(t,e){if(void 0!==t.classList)for(var n=f(e),r=0,i=n.length;r<i;r++)t.classList.add(n[r]);else if(!ve(t,e)){var o=be(t);_e(t,(o?o+" ":"")+e)}}function ye(t,e){void 0!==t.classList?t.classList.remove(e):_e(t,h((" "+be(t)+" ").replace(" "+e+" "," ")))}function _e(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function be(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function we(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&xe(t,e)}function xe(t,e){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(r)}catch(i){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+r+"(opacity="+e+")"}function Ee(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function Se(t,e,n){var r=e||new O(0,0);t.style[ae]=(Dt.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function Te(t,e){t._leaflet_pos=e,Dt.any3d?Se(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function ke(t){return t._leaflet_pos||new O(0,0)}if("onselectstart"in document)ee=function(){Re(window,"selectstart",We)},ne=function(){ze(window,"selectstart",We)};else{var Ie=Ee(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ee=function(){if(Ie){var t=document.documentElement.style;re=t[Ie],t[Ie]="none"}},ne=function(){Ie&&(document.documentElement.style[Ie]=re,re=void 0)}}function Ce(){Re(window,"dragstart",We)}function Pe(){ze(window,"dragstart",We)}function Le(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Ne(),ie=t,oe=t.style.outline,t.style.outline="none",Re(window,"keydown",Ne))}function Ne(){ie&&(ie.style.outline=oe,ie=void 0,oe=void 0,ze(window,"keydown",Ne))}function Ae(t){do{t=t.parentNode}while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Oe(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var De={__proto__:null,TRANSFORM:ae,TRANSITION:se,TRANSITION_END:ue,get:le,getStyle:ce,create:he,remove:fe,empty:de,toFront:pe,toBack:me,hasClass:ve,addClass:ge,removeClass:ye,setClass:_e,getClass:be,setOpacity:we,testProp:Ee,setTransform:Se,setPosition:Te,getPosition:ke,get disableTextSelection(){return ee},get enableTextSelection(){return ne},disableImageDrag:Ce,enableImageDrag:Pe,preventOutline:Le,restoreOutline:Ne,getSizedParentNode:Ae,getScale:Oe};function Re(t,e,n,r){if(e&&"object"===typeof e)for(var i in e)Be(t,i,e[i],n);else for(var o=0,a=(e=f(e)).length;o<a;o++)Be(t,e[o],n,r);return this}var Me="_leaflet_events";function ze(t,e,n,r){if(1===arguments.length)je(t),delete t[Me];else if(e&&"object"===typeof e)for(var i in e)Ve(t,i,e[i],n);else if(e=f(e),2===arguments.length)je(t,(function(t){return-1!==y(e,t)}));else for(var o=0,a=e.length;o<a;o++)Ve(t,e[o],n,r);return this}function je(t,e){for(var n in t[Me]){var r=n.split(/\d/)[0];e&&!e(r)||Ve(t,r,null,null,n)}}var Fe={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Be(t,e,n,r){var i=e+a(n)+(r?"_"+a(r):"");if(t[Me]&&t[Me][i])return this;var o=function(e){return n.call(r||t,e||window.event)},s=o;!Dt.touchNative&&Dt.pointer&&0===e.indexOf("touch")?o=qt(t,e,o):Dt.touch&&"dblclick"===e?o=Jt(t,o):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(Fe[e]||e,o,!!Dt.passiveEvents&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(o=function(e){e=e||window.event,$e(t,e)&&s(e)},t.addEventListener(Fe[e],o,!1)):t.addEventListener(e,s,!1):t.attachEvent("on"+e,o),t[Me]=t[Me]||{},t[Me][i]=o}function Ve(t,e,n,r,i){i=i||e+a(n)+(r?"_"+a(r):"");var o=t[Me]&&t[Me][i];if(!o)return this;!Dt.touchNative&&Dt.pointer&&0===e.indexOf("touch")?Ht(t,e,o):Dt.touch&&"dblclick"===e?te(t,o):"removeEventListener"in t?t.removeEventListener(Fe[e]||e,o,!1):t.detachEvent("on"+e,o),t[Me][i]=null}function Ue(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function qe(t){return Be(t,"wheel",Ue),this}function He(t){return Re(t,"mousedown touchstart dblclick contextmenu",Ue),t._leaflet_disable_click=!0,this}function We(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ze(t){return We(t),Ue(t),this}function Ke(t,e){if(!e)return new O(t.clientX,t.clientY);var n=Oe(e),r=n.boundingClientRect;return new O((t.clientX-r.left)/n.x-e.clientLeft,(t.clientY-r.top)/n.y-e.clientTop)}var Ge=Dt.win&&Dt.chrome?2*window.devicePixelRatio:Dt.gecko?window.devicePixelRatio:1;function Qe(t){return Dt.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Ge:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function $e(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(r){return!1}return n!==t}var Ye={__proto__:null,on:Re,off:ze,stopPropagation:Ue,disableScrollPropagation:qe,disableClickPropagation:He,preventDefault:We,stop:Ze,getMousePosition:Ke,getWheelDelta:Qe,isExternalTarget:$e,addListener:Re,removeListener:ze},Xe=A.extend({run:function(t,e,n,r){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=ke(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=T(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),Te(this._el,n),this.fire("step")},_complete:function(){k(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Je=A.extend({options:{crs:G,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=d(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(V(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=se&&Dt.any3d&&!Dt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Re(this._proxy,ue,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,r){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(V(t),e,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r&&(void 0!==r.animate&&(r.zoom=n({animate:r.animate},r.zoom),r.pan=n({animate:r.animate,duration:r.duration},r.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,r.zoom):this._tryAnimatedPan(t,r.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(Dt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(Dt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var r=this.getZoomScale(e),i=this.getSize().divideBy(2),o=(t instanceof O?t:this.latLngToContainerPoint(t)).subtract(i).multiplyBy(1-1/r),a=this.containerPointToLatLng(i.add(o));return this.setView(a,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():F(t);var n=R(e.paddingTopLeft||e.padding||[0,0]),r=R(e.paddingBottomRight||e.padding||[0,0]),i=this.getBoundsZoom(t,!1,n.add(r));if((i="number"===typeof e.maxZoom?Math.min(e.maxZoom,i):i)===1/0)return{center:t.getCenter(),zoom:i};var o=r.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),i),s=this.project(t.getNorthEast(),i);return{center:this.unproject(a.add(s).divideBy(2).add(o),i),zoom:i}},fitBounds:function(t,e){if(!(t=F(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=R(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Xe,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){ge(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!Dt.any3d)return this.setView(t,e,n);this._stop();var r=this.project(this.getCenter()),i=this.project(t),o=this.getSize(),a=this._zoom;t=V(t),e=void 0===e?a:e;var s=Math.max(o.x,o.y),u=s*this.getZoomScale(a,e),l=i.distanceTo(r)||1,c=1.42,h=c*c;function f(t){var e=(u*u-s*s+(t?-1:1)*h*h*l*l)/(2*(t?u:s)*h*l),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function d(t){return(Math.exp(t)-Math.exp(-t))/2}function p(t){return(Math.exp(t)+Math.exp(-t))/2}function m(t){return d(t)/p(t)}var v=f(0);function g(t){return s*(p(v)/p(v+c*t))}function y(t){return s*(p(v)*m(v+c*t)-d(v))/h}function _(t){return 1-Math.pow(1-t,1.5)}var b=Date.now(),w=(f(1)-v)/c,x=n.duration?1e3*n.duration:1e3*w*.8;function E(){var n=(Date.now()-b)/x,o=_(n)*w;n<=1?(this._flyToFrame=T(E,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(y(o)/l)),a),this.getScaleZoom(s/g(o),a),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),E.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return(t=F(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,F(t));return n.equals(r)||this.panTo(r,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=R((e=e||{}).paddingTopLeft||e.padding||[0,0]),r=R(e.paddingBottomRight||e.padding||[0,0]),i=this.project(this.getCenter()),o=this.project(t),a=this.getPixelBounds(),s=z([a.min.add(n),a.max.subtract(r)]),u=s.getSize();if(!s.contains(o)){this._enforcingBounds=!0;var l=o.subtract(s.getCenter()),c=s.extend(o).getSize().subtract(u);i.x+=l.x<0?-c.x:c.x,i.y+=l.y<0?-c.y:c.y,this.panTo(this.unproject(i),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=e.divideBy(2).round(),a=r.divideBy(2).round(),s=o.subtract(a);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=i(this._handleGeolocationResponse,this),r=i(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,r,t):navigator.geolocation.getCurrentPosition(e,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=new B(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),r=this._locateOptions;if(r.setView){var i=this.getBoundsZoom(n);this.setView(e,r.maxZoom?Math.min(i,r.maxZoom):i)}var o={latlng:e,bounds:n,timestamp:t.timestamp};for(var a in t.coords)"number"===typeof t.coords[a]&&(o[a]=t.coords[a]);this.fire("locationfound",o)}},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),fe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(k(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)fe(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=he("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new j(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=F(t),n=R(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),o=this.getMaxZoom(),a=t.getNorthWest(),s=t.getSouthEast(),u=this.getSize().subtract(n),l=z(this.project(s,r),this.project(a,r)).getSize(),c=Dt.any3d?this.options.zoomSnap:1,h=u.x/l.x,f=u.y/l.y,d=e?Math.max(h,f):Math.min(h,f);return r=this.getScaleZoom(d,r),c&&(r=Math.round(r/(c/100))*(c/100),r=e?Math.ceil(r/c)*c:Math.floor(r/c)*c),Math.max(i,Math.min(o,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new O(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new M(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"===typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var r=n.zoom(t*n.scale(e));return isNaN(r)?1/0:r},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(V(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(R(t),e)},layerPointToLatLng:function(t){var e=R(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(V(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(V(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(F(t))},distance:function(t,e){return this.options.crs.distance(V(t),V(e))},containerPointToLayerPoint:function(t){return R(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return R(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(R(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(V(t)))},mouseEventToContainerPoint:function(t){return Ke(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=le(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Re(e,"scroll",this._onScroll,this),this._containerId=a(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Dt.any3d,ge(t,"leaflet-container"+(Dt.touch?" leaflet-touch":"")+(Dt.retina?" leaflet-retina":"")+(Dt.ielt9?" leaflet-oldie":"")+(Dt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=ce(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Te(this._mapPane,new O(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ge(t.markerPane,"leaflet-zoom-hide"),ge(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){Te(this._mapPane,new O(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var r=this._zoom!==e;this._moveStart(r,!1)._move(t,e)._moveEnd(r),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n,r){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),r?n&&n.pinch&&this.fire("zoom",n):((i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return k(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Te(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[a(this._container)]=this;var e=t?ze:Re;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),Dt.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){k(this._resizeRequest),this._resizeRequest=T((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,r=[],i="mouseout"===e||"mouseover"===e,o=t.target||t.srcElement,s=!1;o;){if((n=this._targets[a(o)])&&("click"===e||"preclick"===e)&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(e,!0)){if(i&&!$e(o,t))break;if(r.push(n),i)break}if(o===this._container)break;o=o.parentNode}return r.length||s||i||!this.listens(e,!0)||(r=[this]),r},_isClickDisabled:function(t){for(;t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||"click"===t.type&&this._isClickDisabled(e))){var n=t.type;"mousedown"===n&&Le(e),this._fireDOMEvent(t,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,r){if("click"===t.type){var i=n({},t);i.type="preclick",this._fireDOMEvent(i,i.type,r)}var o=this._findEventTargets(t,e);if(r){for(var a=[],s=0;s<r.length;s++)r[s].listens(e,!0)&&a.push(r[s]);o=a.concat(o)}if(o.length){"contextmenu"===e&&We(t);var u=o[0],l={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var c=u.getLatLng&&(!u._radius||u._radius<=10);l.containerPoint=c?this.latLngToContainerPoint(u.getLatLng()):this.mouseEventToContainerPoint(t),l.layerPoint=this.containerPointToLayerPoint(l.containerPoint),l.latlng=c?u.getLatLng():this.layerPointToLatLng(l.layerPoint)}for(s=0;s<o.length;s++)if(o[s].fire(e,l,!0),l.originalEvent._stopped||!1===o[s].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return ke(this._mapPane)||new O(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var r=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(r)},_latLngBoundsToNewLayerBounds:function(t,e,n){var r=this._getNewPixelOrigin(n,e);return z([this.project(t.getSouthWest(),e)._subtract(r),this.project(t.getNorthWest(),e)._subtract(r),this.project(t.getSouthEast(),e)._subtract(r),this.project(t.getNorthEast(),e)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var r=this.project(t,e),i=this.getSize().divideBy(2),o=new M(r.subtract(i),r.add(i)),a=this._getBoundsOffset(o,n,e);return a.round().equals([0,0])?t:this.unproject(r.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),r=new M(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(r,e))},_getBoundsOffset:function(t,e,n){var r=z(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),i=r.min.subtract(t.min),o=r.max.subtract(t.max);return new O(this._rebound(i.x,-o.x),this._rebound(i.y,-o.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),r=Dt.any3d?this.options.zoomSnap:1;return r&&(t=Math.round(t/r)*r),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ye(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n))&&(this.panBy(n,e),!0)},_createAnimProxy:function(){var t=this._proxy=he("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=ae,n=this._proxy.style[e];Se(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){fe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Se(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(e),i=this._getCenterOffset(t)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i))&&(T((function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)}),this),!0)},_animateZoom:function(t,e,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,ge(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:r}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ye(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function tn(t,e){return new Je(t,e)}var en=C.extend({options:{position:"topright"},initialize:function(t){d(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),r=t._controlCorners[n];return ge(e,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(e,r.firstChild):r.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(fe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),nn=function(t){return new en(t)};Je.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=he("div",e+"control-container",this._container);function r(r,i){var o=e+r+" "+e+i;t[r+i]=he("div",o,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)fe(this._controlCorners[t]);fe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var rn=en.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,r){return n<r?-1:r<n?1:0}},initialize:function(t,e,n){for(var r in d(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[r],r);for(r in e)this._addLayer(e[r],r,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return en.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(a(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){ge(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(ge(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):ye(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ye(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=he("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),He(e),qe(e);var r=this._section=he("section",t+"-list");n&&(this._map.on("click",this.collapse,this),Re(e,{mouseenter:function(){Re(r,"click",We),this.expand(),setTimeout((function(){ze(r,"click",We)}))},mouseleave:this.collapse},this));var i=this._layersLink=he("a",t+"-toggle",e);i.href="#",i.title="Layers",i.setAttribute("role","button"),Re(i,"click",We),Re(i,"focus",this.expand,this),n||this.expand(),this._baseLayersList=he("div",t+"-base",r),this._separator=he("div",t+"-separator",r),this._overlaysList=he("div",t+"-overlays",r),e.appendChild(r)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&a(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(i((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;de(this._baseLayersList),de(this._overlaysList),this._layerControlInputs=[];var t,e,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),e=e||r.overlay,t=t||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(t=t&&i>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(a(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(t){var e,n=document.createElement("label"),r=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=r):e=this._createRadioElement("leaflet-base-layers_"+a(this),r),this._layerControlInputs.push(e),e.layerId=a(t.layer),Re(e,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+t.name;var o=document.createElement("span");return n.appendChild(o),o.appendChild(e),o.appendChild(i),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.checked?r.push(e):t.checked||i.push(e);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])&&this._map.removeLayer(i[o]);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])||this._map.addLayer(r[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)t=n[i],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&r<e.options.minZoom||void 0!==e.options.maxZoom&&r>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this}}),on=function(t,e,n){return new rn(t,e,n)},an=en.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=he("div",e+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,r,i){var o=he("a",n,r);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),He(o),Re(o,"click",Ze),Re(o,"click",i,this),Re(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";ye(this._zoomInButton,e),ye(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(ge(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(ge(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});Je.mergeOptions({zoomControl:!0}),Je.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new an,this.addControl(this.zoomControl))}));var sn=function(t){return new an(t)},un=en.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=he("div",e),r=this.options;return this._addScales(r,e+"-line",n),t.on(r.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=he("div",e,n)),t.imperial&&(this._iScale=he("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,r,i=3.2808399*t;i>5280?(e=i/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),ln=function(t){return new un(t)},cn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',hn=en.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Dt.inlineSvg?cn+" ":"")+"Leaflet</a>"},initialize:function(t){d(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=he("div","leaflet-control-attribution"),He(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",(function(){this.removeAttribution(t.layer.getAttribution())}),this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});Je.mergeOptions({attributionControl:!0}),Je.addInitHook((function(){this.options.attributionControl&&(new hn).addTo(this)}));var fn=function(t){return new hn(t)};en.Layers=rn,en.Zoom=an,en.Scale=un,en.Attribution=hn,nn.layers=on,nn.zoom=sn,nn.scale=ln,nn.attribution=fn;var dn=C.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});dn.addTo=function(t,e){return t.addHandler(e,this),this};var pn,mn={Events:N},vn=Dt.touch?"touchstart mousedown":"mousedown",gn=A.extend({options:{clickTolerance:3},initialize:function(t,e,n,r){d(this,r),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Re(this._dragStartTarget,vn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(gn._dragging===this&&this.finishDrag(!0),ze(this._dragStartTarget,vn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!ve(this._element,"leaflet-zoom-anim")))if(t.touches&&1!==t.touches.length)gn._dragging===this&&this.finishDrag();else if(!(gn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches)&&(gn._dragging=this,this._preventOutline&&Le(this._element),Ce(),ee(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t,n=Ae(this._element);this._startPoint=new O(e.clientX,e.clientY),this._startPos=ke(this._element),this._parentScale=Oe(n);var r="mousedown"===t.type;Re(document,r?"mousemove":"touchmove",this._onMove,this),Re(document,r?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(t){if(this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new O(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,We(t),this._moved||(this.fire("dragstart"),this._moved=!0,ge(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ge(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=t,this._updatePosition()))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Te(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){ye(document.body,"leaflet-dragging"),this._lastTarget&&(ye(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ze(document,"mousemove touchmove",this._onMove,this),ze(document,"mouseup touchend touchcancel",this._onUp,this),Pe(),ne(),this._moved&&this._moving&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,gn._dragging=!1}});function yn(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=wn(t=En(t,n),n)}function _n(t,e,n){return Math.sqrt(Cn(t,e,n,!0))}function bn(t,e,n){return Cn(t,e,n)}function wn(t,e){var n=t.length,r=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,xn(t,r,e,0,n-1);var i,o=[];for(i=0;i<n;i++)r[i]&&o.push(t[i]);return o}function xn(t,e,n,r,i){var o,a,s,u=0;for(a=r+1;a<=i-1;a++)(s=Cn(t[a],t[r],t[i],!0))>u&&(o=a,u=s);u>n&&(e[o]=1,xn(t,e,n,r,o),xn(t,e,n,o,i))}function En(t,e){for(var n=[t[0]],r=1,i=0,o=t.length;r<o;r++)In(t[r],t[i])>e&&(n.push(t[r]),i=r);return i<o-1&&n.push(t[o-1]),n}function Sn(t,e,n,r,i){var o,a,s,u=r?pn:kn(t,n),l=kn(e,n);for(pn=l;;){if(!(u|l))return[t,e];if(u&l)return!1;s=kn(a=Tn(t,e,o=u||l,n,i),n),o===u?(t=a,u=s):(e=a,l=s)}}function Tn(t,e,n,r,i){var o,a,s=e.x-t.x,u=e.y-t.y,l=r.min,c=r.max;return 8&n?(o=t.x+s*(c.y-t.y)/u,a=c.y):4&n?(o=t.x+s*(l.y-t.y)/u,a=l.y):2&n?(o=c.x,a=t.y+u*(c.x-t.x)/s):1&n&&(o=l.x,a=t.y+u*(l.x-t.x)/s),new O(o,a,i)}function kn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function In(t,e){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r}function Cn(t,e,n,r){var i,o=e.x,a=e.y,s=n.x-o,u=n.y-a,l=s*s+u*u;return l>0&&((i=((t.x-o)*s+(t.y-a)*u)/l)>1?(o=n.x,a=n.y):i>0&&(o+=s*i,a+=u*i)),s=t.x-o,u=t.y-a,r?s*s+u*u:new O(o,a)}function Pn(t){return!g(t[0])||"object"!==typeof t[0][0]&&"undefined"!==typeof t[0][0]}function Ln(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Pn(t)}var Nn={__proto__:null,simplify:yn,pointToSegmentDistance:_n,closestPointOnSegment:bn,clipSegment:Sn,_getEdgeIntersection:Tn,_getBitCode:kn,_sqClosestPointOnSegment:Cn,isFlat:Pn,_flat:Ln};function An(t,e,n){var r,i,o,a,s,u,l,c,h,f=[1,4,2,8];for(i=0,l=t.length;i<l;i++)t[i]._code=kn(t[i],e);for(a=0;a<4;a++){for(c=f[a],r=[],i=0,o=(l=t.length)-1;i<l;o=i++)s=t[i],u=t[o],s._code&c?u._code&c||((h=Tn(u,s,c,e,n))._code=kn(h,e),r.push(h)):(u._code&c&&((h=Tn(u,s,c,e,n))._code=kn(h,e),r.push(h)),r.push(s));t=r}return t}var On={__proto__:null,clipPolygon:An},Dn={project:function(t){return new O(t.lng,t.lat)},unproject:function(t){return new B(t.y,t.x)},bounds:new M([-180,-90],[180,90])},Rn={R:6378137,R_MINOR:6356752.314245179,bounds:new M([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,r=t.lat*e,i=this.R_MINOR/n,o=Math.sqrt(1-i*i),a=o*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-a)/(1+a),o/2);return r=-n*Math.log(Math.max(s,1e-10)),new O(t.lng*e*n,r)},unproject:function(t){for(var e,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,o=Math.sqrt(1-i*i),a=Math.exp(-t.y/r),s=Math.PI/2-2*Math.atan(a),u=0,l=.1;u<15&&Math.abs(l)>1e-7;u++)e=o*Math.sin(s),e=Math.pow((1-e)/(1+e),o/2),s+=l=Math.PI/2-2*Math.atan(a*e)-s;return new B(s*n,t.x*n/r)}},Mn={__proto__:null,LonLat:Dn,Mercator:Rn,SphericalMercator:W},zn=n({},q,{code:"EPSG:3395",projection:Rn,transformation:function(){var t=.5/(Math.PI*Rn.R);return K(t,.5,-t,.5)}()}),jn=n({},q,{code:"EPSG:4326",projection:Dn,transformation:K(1/180,1,-1/180,.5)}),Fn=n({},U,{projection:Dn,transformation:K(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,r=e.lat-t.lat;return Math.sqrt(n*n+r*r)},infinite:!0});U.Earth=q,U.EPSG3395=zn,U.EPSG3857=G,U.EPSG900913=Q,U.EPSG4326=jn,U.Simple=Fn;var Bn=A.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[a(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[a(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",(function(){e.off(n,this)}),this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});Je.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=a(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=a(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return a(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?g(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[a(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=a(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;t=void 0===i.minZoom?t:Math.min(t,i.minZoom),e=void 0===i.maxZoom?e:Math.max(e,i.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Vn=Bn.extend({initialize:function(t,e){var n,r;if(d(this,e),this._layers={},t)for(n=0,r=t.length;n<r;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return("number"===typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,r=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,r);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return a(t)}}),Un=function(t,e){return new Vn(t,e)},qn=Vn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Vn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Vn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new j;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Hn=function(t,e){return new qn(t,e)},Wn=C.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){d(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(r,t),(this.options.crossOrigin||""===this.options.crossOrigin)&&(r.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),r},_setIconStyles:function(t,e){var n=this.options,r=n[e+"Size"];"number"===typeof r&&(r=[r,r]);var i=R(r),o=R("shadow"===e&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),i&&(t.style.width=i.x+"px",t.style.height=i.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Dt.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Zn(t){return new Wn(t)}var Kn=Wn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return"string"!==typeof Kn.imagePath&&(Kn.imagePath=this._detectIconPath()),(this.options.imagePath||Kn.imagePath)+Wn.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(t,e,n){var r=e.exec(t);return r&&r[n]};return(t=e(t,/^url\((['"])?(.+)\1\)$/,2))&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=he("div","leaflet-default-icon-path",document.body),e=ce(t,"background-image")||ce(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e))return e;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-"leaflet.css".length-1):""}}),Gn=dn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new gn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ge(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ye(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,o=ke(e._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),u=z(a.min._subtract(s).add(i),a.max._subtract(s).subtract(i));if(!u.contains(o)){var l=R((Math.max(u.max.x,o.x)-u.max.x)/(a.max.x-u.max.x)-(Math.min(u.min.x,o.x)-u.min.x)/(a.min.x-u.min.x),(Math.max(u.max.y,o.y)-u.max.y)/(a.max.y-u.max.y)-(Math.min(u.min.y,o.y)-u.min.y)/(a.min.y-u.min.y)).multiplyBy(r);n.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),Te(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=T(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(k(this._panRequest),this._panRequest=T(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,r=ke(e._icon),i=e._map.layerPointToLatLng(r);n&&Te(n,r),e._latlng=i,t.latlng=i,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){k(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Qn=Bn.extend({options:{icon:new Kn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){d(this,e),this._latlng=V(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=V(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),ge(n,e),t.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Re(n,"focus",this._panOnFocus,this);var i=t.icon.createShadow(this._shadow),o=!1;i!==this._shadow&&(this._removeShadow(),o=!0),i&&(ge(i,e),i.alt=""),this._shadow=i,t.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&o&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ze(this._icon,"focus",this._panOnFocus,this),fe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&fe(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Te(this._icon,t),this._shadow&&Te(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(ge(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Gn)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Gn(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&we(this._icon,t),this._shadow&&we(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,n=e.iconSize?R(e.iconSize):R(0,0),r=e.iconAnchor?R(e.iconAnchor):R(0,0);t.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:n.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function $n(t,e){return new Qn(t,e)}var Yn=Bn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return d(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Xn=Yn.extend({options:{fill:!0,radius:10},initialize:function(t,e){d(this,e),this._latlng=V(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=V(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Yn.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),r=[t+n,e+n];this._pxBounds=new M(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Jn(t,e){return new Xn(t,e)}var tr=Xn.extend({initialize:function(t,e,r){if("number"===typeof e&&(e=n({},r,{radius:e})),d(this,e),this._latlng=V(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new j(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Yn.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===q.distance){var i=Math.PI/180,o=this._mRadius/q.R/i,a=n.project([e+o,t]),s=n.project([e-o,t]),u=a.add(s).divideBy(2),l=n.unproject(u).lat,c=Math.acos((Math.cos(o*i)-Math.sin(e*i)*Math.sin(l*i))/(Math.cos(e*i)*Math.cos(l*i)))/i;(isNaN(c)||0===c)&&(c=o/Math.cos(Math.PI/180*e)),this._point=u.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:u.x-n.project([l,t-c]).x,this._radiusY=u.y-a.y}else{var h=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}});function er(t,e,n){return new tr(t,e,n)}var nr=Yn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){d(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,r=1/0,i=null,o=Cn,a=0,s=this._parts.length;a<s;a++)for(var u=this._parts[a],l=1,c=u.length;l<c;l++){var h=o(t,e=u[l-1],n=u[l],!0);h<r&&(r=h,i=o(t,e,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,r,i,o,a,s=this._rings[0],u=s.length;if(!u)return null;for(t=0,e=0;t<u-1;t++)e+=s[t].distanceTo(s[t+1])/2;if(0===e)return this._map.layerPointToLatLng(s[0]);for(t=0,r=0;t<u-1;t++)if(i=s[t],o=s[t+1],(r+=n=i.distanceTo(o))>e)return a=(r-e)/n,this._map.layerPointToLatLng([o.x-a*(o.x-i.x),o.y-a*(o.y-i.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=V(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new j,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Pn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=Pn(t),r=0,i=t.length;r<i;r++)n?(e[r]=V(t[r]),this._bounds.extend(e[r])):e[r]=this._convertLatLngs(t[r]);return e},_project:function(){var t=new M;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new O(t,t);this._rawPxBounds&&(this._pxBounds=new M([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,n){var r,i,o=t[0]instanceof B,a=t.length;if(o){for(i=[],r=0;r<a;r++)i[r]=this._map.latLngToLayerPoint(t[r]),n.extend(i[r]);e.push(i)}else for(r=0;r<a;r++)this._projectLatlngs(t[r],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,r,i,o,a,s,u=this._parts;for(e=0,r=0,i=this._rings.length;e<i;e++)for(n=0,o=(s=this._rings[e]).length;n<o-1;n++)(a=Sn(s[n],s[n+1],t,n,!0))&&(u[r]=u[r]||[],u[r].push(a[0]),a[1]===s[n+1]&&n!==o-2||(u[r].push(a[1]),r++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,r=t.length;n<r;n++)t[n]=yn(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,r,i,o,a,s,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,o=this._parts.length;n<o;n++)for(r=0,i=(a=(s=this._parts[n]).length)-1;r<a;i=r++)if((e||0!==r)&&_n(t,s[i],s[r])<=u)return!0;return!1}});function rr(t,e){return new nr(t,e)}nr._flat=Ln;var ir=nr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,r,i,o,a,s,u,l=this._rings[0],c=l.length;if(!c)return null;for(o=a=s=0,t=0,e=c-1;t<c;e=t++)n=l[t],r=l[e],i=n.y*r.x-r.y*n.x,a+=(n.x+r.x)*i,s+=(n.y+r.y)*i,o+=3*i;return u=0===o?l[0]:[a/o,s/o],this._map.layerPointToLatLng(u)},_convertLatLngs:function(t){var e=nr.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof B&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){nr.prototype._setLatLngs.call(this,t),Pn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Pn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new O(e,e);if(t=new M(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,o=this._rings.length;i<o;i++)(r=An(this._rings[i],t,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,r,i,o,a,s,u,l=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,s=this._parts.length;i<s;i++)for(o=0,a=(u=(e=this._parts[i]).length)-1;o<u;a=o++)n=e[o],r=e[a],n.y>t.y!==r.y>t.y&&t.x<(r.x-n.x)*(t.y-n.y)/(r.y-n.y)+n.x&&(l=!l);return l||nr.prototype._containsPoint.call(this,t,!0)}});function or(t,e){return new ir(t,e)}var ar=qn.extend({initialize:function(t,e){d(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,r,i=g(t)?t:t.features;if(i){for(e=0,n=i.length;e<n;e++)((r=i[e]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var a=sr(t,o);return a?(a.feature=pr(t),a.defaultOptions=a.options,this.resetStyle(a),o.onEachFeature&&o.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"===typeof e&&(e=e(t.feature)),t.setStyle(e))}});function sr(t,e){var n,r,i,o,a="Feature"===t.type?t.geometry:t,s=a?a.coordinates:null,u=[],l=e&&e.pointToLayer,c=e&&e.coordsToLatLng||lr;if(!s&&!a)return null;switch(a.type){case"Point":return ur(l,t,n=c(s),e);case"MultiPoint":for(i=0,o=s.length;i<o;i++)n=c(s[i]),u.push(ur(l,t,n,e));return new qn(u);case"LineString":case"MultiLineString":return r=cr(s,"LineString"===a.type?0:1,c),new nr(r,e);case"Polygon":case"MultiPolygon":return r=cr(s,"Polygon"===a.type?1:2,c),new ir(r,e);case"GeometryCollection":for(i=0,o=a.geometries.length;i<o;i++){var h=sr({geometry:a.geometries[i],type:"Feature",properties:t.properties},e);h&&u.push(h)}return new qn(u);default:throw new Error("Invalid GeoJSON object.")}}function ur(t,e,n,r){return t?t(e,n):new Qn(n,r&&r.markersInheritOptions&&r)}function lr(t){return new B(t[1],t[0],t[2])}function cr(t,e,n){for(var r,i=[],o=0,a=t.length;o<a;o++)r=e?cr(t[o],e-1,n):(n||lr)(t[o]),i.push(r);return i}function hr(t,e){return void 0!==(t=V(t)).alt?[c(t.lng,e),c(t.lat,e),c(t.alt,e)]:[c(t.lng,e),c(t.lat,e)]}function fr(t,e,n,r){for(var i=[],o=0,a=t.length;o<a;o++)i.push(e?fr(t[o],e-1,n,r):hr(t[o],r));return!e&&n&&i.push(i[0]),i}function dr(t,e){return t.feature?n({},t.feature,{geometry:e}):pr(e)}function pr(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var mr={toGeoJSON:function(t){return dr(this,{type:"Point",coordinates:hr(this.getLatLng(),t)})}};function vr(t,e){return new ar(t,e)}Qn.include(mr),tr.include(mr),Xn.include(mr),nr.include({toGeoJSON:function(t){var e=!Pn(this._latlngs);return dr(this,{type:(e?"Multi":"")+"LineString",coordinates:fr(this._latlngs,e?1:0,!1,t)})}}),ir.include({toGeoJSON:function(t){var e=!Pn(this._latlngs),n=e&&!Pn(this._latlngs[0]),r=fr(this._latlngs,n?2:e?1:0,!0,t);return e||(r=[r]),dr(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),Vn.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(n){e.push(n.toGeoJSON(t).geometry.coordinates)})),dr(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,r=[];return this.eachLayer((function(e){if(e.toGeoJSON){var i=e.toGeoJSON(t);if(n)r.push(i.geometry);else{var o=pr(i);"FeatureCollection"===o.type?r.push.apply(r,o.features):r.push(o)}}})),n?dr(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var gr=vr,yr=Bn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=F(e),d(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ge(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){fe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&pe(this._image),this},bringToBack:function(){return this._map&&me(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=F(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:he("img");ge(e,"leaflet-image-layer"),this._zoomAnimated&&ge(e,"leaflet-zoom-animated"),this.options.className&&ge(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onload=i(this.fire,this,"load"),e.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Se(this._image,n,e)},_reset:function(){var t=this._image,e=new M(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();Te(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){we(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),_r=function(t,e,n){return new yr(t,e,n)},br=yr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:he("video");if(ge(e,"leaflet-image-layer"),this._zoomAnimated&&ge(e,"leaflet-zoom-animated"),this.options.className&&ge(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onloadeddata=i(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),r=[],o=0;o<n.length;o++)r.push(n[o].src);this._url=n.length>0?r:[e.src]}else{g(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var a=0;a<this._url.length;a++){var s=he("source");s.src=this._url[a],e.appendChild(s)}}}});function wr(t,e,n){return new br(t,e,n)}var xr=yr.extend({_initImage:function(){var t=this._image=this._url;ge(t,"leaflet-image-layer"),this._zoomAnimated&&ge(t,"leaflet-zoom-animated"),this.options.className&&ge(t,this.options.className),t.onselectstart=l,t.onmousemove=l}});function Er(t,e,n){return new xr(t,e,n)}var Sr=Bn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0},initialize:function(t,e){d(this,t),this._source=e},openOn:function(t){return(t=arguments.length?t:this._source._map).hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&we(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&we(this._container,1),this.bringToFront(),this.options.interactive&&(ge(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(we(this._container,0),this._removeTimeout=setTimeout(i(fe,void 0,this._container),200)):fe(this._container),this.options.interactive&&(ye(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=V(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&pe(this._container),this},bringToBack:function(){return this._map&&me(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof qn){e=null;var n=this._source._layers;for(var r in n)if(n[r]._map){e=n[r];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else{if(!e.getBounds)throw new Error("Unable to get source layer LatLng.");t=e.getBounds().getCenter()}return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=R(this.options.offset),n=this._getAnchor();this._zoomAnimated?Te(this._container,t.add(n)):e=e.add(t).add(n);var r=this._containerBottom=-e.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}});Je.include({_initOverlay:function(t,e,n,r){var i=e;return i instanceof t||(i=new t(r).setContent(e)),n&&i.setLatLng(n),i}}),Bn.include({_initOverlay:function(t,e,n,r){var i=n;return i instanceof t?(d(i,r),i._source=this):(i=e&&!r?e:new t(r,this)).setContent(n),i}});var Tr=Sr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return!(t=arguments.length?t:this._source._map).hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Sr.prototype.openOn.call(this,t)},onAdd:function(t){Sr.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Yn||this._source.on("preclick",Ue))},onRemove:function(t){Sr.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Yn||this._source.off("preclick",Ue))},getEvents:function(){var t=Sr.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=he("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=he("div",t+"-content-wrapper",e);if(this._contentNode=he("div",t+"-content",n),He(e),qe(this._contentNode),Re(e,"contextmenu",Ue),this._tipContainer=he("div",t+"-tip-container",e),this._tip=he("div",t+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=he("a",t+"-close-button",e);r.setAttribute("role","button"),r.setAttribute("aria-label","Close popup"),r.href="#close",r.innerHTML='<span aria-hidden="true">&#215;</span>',Re(r,"click",this.close,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var r=t.offsetHeight,i=this.options.maxHeight,o="leaflet-popup-scrolled";i&&r>i?(e.height=i+"px",ge(t,o)):ye(t,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();Te(this._container,e.add(n))},_adjustPan:function(t){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var e=this._map,n=parseInt(ce(this._container,"marginBottom"),10)||0,r=this._container.offsetHeight+n,i=this._containerWidth,o=new O(this._containerLeft,-r-this._containerBottom);o._add(ke(this._container));var a=e.layerPointToContainerPoint(o),s=R(this.options.autoPanPadding),u=R(this.options.autoPanPaddingTopLeft||s),l=R(this.options.autoPanPaddingBottomRight||s),c=e.getSize(),h=0,f=0;a.x+i+l.x>c.x&&(h=a.x+i-c.x+l.x),a.x-h-u.x<0&&(h=a.x-u.x),a.y+r+l.y>c.y&&(f=a.y+r-c.y+l.y),a.y-f-u.y<0&&(f=a.y-u.y),(h||f)&&e.fire("autopanstart").panBy([h,f],{animate:t&&"moveend"===t.type})}},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),kr=function(t,e){return new Tr(t,e)};Je.mergeOptions({closePopupOnClick:!0}),Je.include({openPopup:function(t,e,n){return this._initOverlay(Tr,t,e,n).openOn(this),this},closePopup:function(t){return(t=arguments.length?t:this._popup)&&t.close(),this}}),Bn.include({bindPopup:function(t,e){return this._popup=this._initOverlay(Tr,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&this._popup._prepareOpen(t)&&this._popup.openOn(this._map),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(this._popup&&this._map){Ze(t);var e=t.layer||t.target;this._popup._source!==e||e instanceof Yn?(this._popup._source=e,this.openPopup(t.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var Ir=Sr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Sr.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Sr.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Sr.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=he("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n,r=this._map,i=this._container,o=r.latLngToContainerPoint(r.getCenter()),a=r.layerPointToContainerPoint(t),s=this.options.direction,u=i.offsetWidth,l=i.offsetHeight,c=R(this.options.offset),h=this._getAnchor();"top"===s?(e=u/2,n=l):"bottom"===s?(e=u/2,n=0):"center"===s?(e=u/2,n=l/2):"right"===s?(e=0,n=l/2):"left"===s?(e=u,n=l/2):a.x<o.x?(s="right",e=0,n=l/2):(s="left",e=u+2*(c.x+h.x),n=l/2),t=t.subtract(R(e,n,!0)).add(c).add(h),ye(i,"leaflet-tooltip-right"),ye(i,"leaflet-tooltip-left"),ye(i,"leaflet-tooltip-top"),ye(i,"leaflet-tooltip-bottom"),ge(i,"leaflet-tooltip-"+s),Te(i,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&we(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Cr=function(t,e){return new Ir(t,e)};Je.include({openTooltip:function(t,e,n){return this._initOverlay(Ir,t,e,n).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Bn.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ir,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&this._tooltip._prepareOpen(t)&&this._tooltip.openOn(this._map),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0))},_moveTooltip:function(t){var e,n,r=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var Pr=Wn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(de(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=R(n.bgPos);e.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function Lr(t){return new Pr(t)}Wn.Default=Kn;var Nr=Bn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Dt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){d(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),fe(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(pe(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(me(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof O?t:new O(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,r=-t(-1/0,1/0),i=0,o=n.length;i<o;i++)e=n[i].style.zIndex,n[i]!==this._container&&e&&(r=t(r,+e));isFinite(r)&&(this.options.zIndex=r+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Dt.ielt9){we(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var o=Math.min(1,(t-i.loaded)/200);we(i.el,o),o<1?e=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(k(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=he("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(fe(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[t],i=this._map;return r||((r=this._levels[t]={}).el=he("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=e,r.origin=i.project(i.unproject(i.getPixelOrigin()),t).round(),r.zoom=t,this._setZoomTransform(r,i.getCenter(),i.getZoom()),l(r.el.offsetWidth),this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var r=e.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)fe(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,r){var i=Math.floor(t/2),o=Math.floor(e/2),a=n-1,s=new O(+i,+o);s.z=+a;var u=this._tileCoordsToKey(s),l=this._tiles[u];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),a>r&&this._retainParent(i,o,a,r))},_retainChildren:function(t,e,n,r){for(var i=2*t;i<2*t+2;i++)for(var o=2*e;o<2*e+2;o++){var a=new O(i,o);a.z=n+1;var s=this._tileCoordsToKey(a),u=this._tiles[s];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<r&&this._retainChildren(i,o,n+1,r))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,r){var i=Math.round(e);i=void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom?void 0:this._clampZoom(i);var o=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!o||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var r=this._map.getZoomScale(n,t.zoom),i=t.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(e,n)).round();Dt.any3d?Se(t.el,i,r):Te(t.el,i)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],r).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],r).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],r).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),r=e.getZoomScale(n,this._tileZoom),i=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*r);return new M(i.subtract(o),i.add(o))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(t),i=this._pxBoundsToTileRange(r),o=i.getCenter(),a=[],s=this.options.keepBuffer,u=new M(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var c=this._tiles[l].coords;c.z===this._tileZoom&&u.contains(new O(c.x,c.y))||(this._tiles[l].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var h=i.min.y;h<=i.max.y;h++)for(var f=i.min.x;f<=i.max.x;f++){var d=new O(f,h);if(d.z=this._tileZoom,this._isValidTile(d)){var p=this._tiles[this._tileCoordsToKey(d)];p?p.current=!0:a.push(d)}}if(a.sort((function(t,e){return t.distanceTo(o)-e.distanceTo(o)})),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(f=0;f<a.length;f++)this._addTile(a[f],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(t);return F(this.options.bounds).overlaps(r)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),r=t.scaleBy(n),i=r.add(n);return[e.unproject(r,t.z),e.unproject(i,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new j(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new O(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(fe(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){ge(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=l,t.onmousemove=l,Dt.ielt9&&this.options.opacity<1&&we(t,this.options.opacity)},_addTile:function(t,e){var n=this._getTilePos(t),r=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),i(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&T(i(this._tileReady,this,t,null,o)),Te(o,n),this._tiles[r]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var r=this._tileCoordsToKey(t);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(we(n.el,0),k(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(ge(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Dt.ielt9||!this._map._fadeAnimated?T(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new O(this._wrapX?u(t.x,this._wrapX):t.x,this._wrapY?u(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new M(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Ar(t){return new Nr(t)}var Or=Nr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,(e=d(this,e)).detectRetina&&Dt.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"===typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Re(n,"load",i(this._tileOnLoad,this,e,n)),Re(n,"error",i(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"===typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:Dt.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=r),e["-y"]=r}return v(this._url,n(e,this.options))},_tileOnLoad:function(t,e){Dt.ielt9?setTimeout(i(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var r=this.options.errorTileUrl;r&&e.getAttribute("src")!==r&&(e.src=r),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=l,e.onerror=l,!e.complete)){e.src=_;var n=this._tiles[t].coords;fe(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:n})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",_),Nr.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==_))return Nr.prototype._tileReady.call(this,t,e,n)}});function Dr(t,e){return new Or(t,e)}var Rr=Or.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var r=n({},this.defaultWmsParams);for(var i in e)i in this.options||(r[i]=e[i]);var o=(e=d(this,e)).detectRetina&&Dt.retina?2:1,a=this.getTileSize();r.width=a.x*o,r.height=a.y*o,this.wmsParams=r},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Or.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,r=z(n.project(e[0]),n.project(e[1])),i=r.min,o=r.max,a=(this._wmsVersion>=1.3&&this._crs===jn?[i.y,i.x,o.y,o.x]:[i.x,i.y,o.x,o.y]).join(","),s=Or.prototype.getTileUrl.call(this,t);return s+p(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});function Mr(t,e){return new Rr(t,e)}Or.WMS=Rr,Dr.wms=Mr;var zr=Bn.extend({options:{padding:.1},initialize:function(t){d(this,t),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ge(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),i=this._map.project(this._center,e),o=r.multiplyBy(-n).add(i).subtract(this._map._getNewPixelOrigin(t,e));Dt.any3d?Se(this._container,o,n):Te(this._container,o)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new M(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),jr=zr.extend({options:{tolerance:0},getEvents:function(){var t=zr.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){zr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Re(t,"mousemove",this._onMouseMove,this),Re(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Re(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){k(this._redrawRequest),delete this._ctx,fe(this._container),ze(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){zr.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),r=Dt.retina?2:1;Te(e,t.min),e.width=r*n.x,e.height=r*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",Dt.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){zr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[a(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,r=e.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete t._order,delete this._layers[a(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"===typeof t.options.dashArray){var e,n,r=t.options.dashArray.split(/[, ]+/),i=[];for(n=0;n<r.length;n++){if(e=Number(r[n]),isNaN(e))return;i.push(e)}t.options._dashArray=i}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||T(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new M,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)t=r.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,r,i,o,a=t._parts,s=a.length,u=this._ctx;if(s){for(u.beginPath(),n=0;n<s;n++){for(r=0,i=a[n].length;r<i;r++)o=a[n][r],u[r?"lineTo":"moveTo"](o.x,o.y);e&&u.closePath()}this._fillStroke(u,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,r=Math.max(Math.round(t._radius),1),i=(Math.max(Math.round(t._radiusY),1)||r)/r;1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(e.x,e.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,r=this._map.mouseEventToLayerPoint(t),i=this._drawFirst;i;i=i.next)(e=i.layer).options.interactive&&e._containsPoint(r)&&("click"!==t.type&&"preclick"!==t.type||!this._map._draggableMoved(e))&&(n=e);this._fireEvent(!!n&&[n],t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(ye(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,r,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(e)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(t),r&&(ge(this._container,"leaflet-interactive"),this._fireEvent([r],t,"mouseover"),this._hoveredLayer=r)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(i((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,r=e.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,r=e.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function Fr(t){return Dt.canvas?new jr(t):null}var Br=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Vr={_initContainer:function(){this._container=he("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(zr.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Br("shape");ge(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Br("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;fe(e),t.removeInteractiveTarget(e),delete this._layers[a(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,r=t.options,i=t._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(e||(e=t._stroke=Br("stroke")),i.appendChild(e),e.weight=r.weight+"px",e.color=r.color,e.opacity=r.opacity,r.dashArray?e.dashStyle=g(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=r.lineCap.replace("butt","flat"),e.joinstyle=r.lineJoin):e&&(i.removeChild(e),t._stroke=null),r.fill?(n||(n=t._fill=Br("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),r=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+r+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){pe(t._container)},_bringToBack:function(t){me(t._container)}},Ur=Dt.vml?Br:$,qr=zr.extend({_initContainer:function(){this._container=Ur("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ur("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){fe(this._container),ze(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){zr.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),Te(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Ur("path");t.options.className&&ge(e,t.options.className),t.options.interactive&&ge(e,"leaflet-interactive"),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){fe(t._path),t.removeInteractiveTarget(t._path),delete this._layers[a(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,Y(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),r="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",i=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(t,i)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){pe(t._path)},_bringToBack:function(t){me(t._path)}});function Hr(t){return Dt.svg||Dt.vml?new qr(t):null}Dt.vml&&qr.include(Vr),Je.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Fr(t)||Hr(t)}});var Wr=ir.extend({initialize:function(t,e){ir.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=F(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Zr(t,e){return new Wr(t,e)}qr.create=Ur,qr.pointsToPath=Y,ar.geometryToLayer=sr,ar.coordsToLatLng=lr,ar.coordsToLatLngs=cr,ar.latLngToCoords=hr,ar.latLngsToCoords=fr,ar.getFeature=dr,ar.asFeature=pr,Je.mergeOptions({boxZoom:!0});var Kr=dn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Re(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ze(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){fe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),ee(),Ce(),this._startPoint=this._map.mouseEventToContainerPoint(t),Re(document,{contextmenu:Ze,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=he("div","leaflet-zoom-box",this._container),ge(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new M(this._point,this._startPoint),n=e.getSize();Te(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(fe(this._box),ye(this._container,"leaflet-crosshair")),ne(),Pe(),ze(document,{contextmenu:Ze,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var e=new j(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Je.addInitHook("addHandler","boxZoom",Kr),Je.mergeOptions({doubleClickZoom:!0});var Gr=dn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),r=e.options.zoomDelta,i=t.originalEvent.shiftKey?n-r:n+r;"center"===e.options.doubleClickZoom?e.setZoom(i):e.setZoomAround(t.containerPoint,i)}});Je.addInitHook("addHandler","doubleClickZoom",Gr),Je.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Qr=dn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new gn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}ge(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ye(this._map._container,"leaflet-grab"),ye(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=F(this._map.options.maxBounds);this._offsetLimit=z(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-e+n)%t+e-n,o=(r+e+n)%t-e-n,a=Math.abs(i+n)<Math.abs(o+n)?i:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,n=e.options,r=!n.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),r)e.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=i.multiplyBy(a/o),u=s.distanceTo([0,0]),l=Math.min(n.inertiaMaxSpeed,u),c=s.multiplyBy(l/u),h=l/(n.inertiaDeceleration*a),f=c.multiplyBy(-h/2).round();f.x||f.y?(f=e._limitOffset(f,e.options.maxBounds),T((function(){e.panBy(f,{duration:h,easeLinearity:a,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});Je.addInitHook("addHandler","dragging",Qr),Je.mergeOptions({keyboard:!0,keyboardPanDelta:80});var $r=dn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Re(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ze(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,r=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,r=this._panKeys={},i=this.keyCodes;for(e=0,n=i.left.length;e<n;e++)r[i.left[e]]=[-1*t,0];for(e=0,n=i.right.length;e<n;e++)r[i.right[e]]=[t,0];for(e=0,n=i.down.length;e<n;e++)r[i.down[e]]=[0,t];for(e=0,n=i.up.length;e<n;e++)r[i.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,r=this._zoomKeys={},i=this.keyCodes;for(e=0,n=i.zoomIn.length;e<n;e++)r[i.zoomIn[e]]=t;for(e=0,n=i.zoomOut.length;e<n;e++)r[i.zoomOut[e]]=-t},_addHooks:function(){Re(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ze(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,r=this._map;if(n in this._panKeys)r._panAnim&&r._panAnim._inProgress||(e=this._panKeys[n],t.shiftKey&&(e=R(e).multiplyBy(3)),r.panBy(e),r.options.maxBounds&&r.panInsideBounds(r.options.maxBounds));else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}Ze(t)}}});Je.addInitHook("addHandler","keyboard",$r),Je.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Yr=dn.extend({addHooks:function(){Re(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ze(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Qe(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),Ze(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,o=n?Math.ceil(i/n)*n:i,a=t._limitZoom(e+(this._delta>0?o:-o))-e;this._delta=0,this._startTime=null,a&&("center"===t.options.scrollWheelZoom?t.setZoom(e+a):t.setZoomAround(this._lastMousePos,e+a))}});Je.addInitHook("addHandler","scrollWheelZoom",Yr);var Xr=600;Je.mergeOptions({tapHold:Dt.touchNative&&Dt.safari&&Dt.mobile,tapTolerance:15});var Jr=dn.extend({addHooks:function(){Re(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ze(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),1===t.touches.length){var e=t.touches[0];this._startPos=this._newPos=new O(e.clientX,e.clientY),this._holdTimeout=setTimeout(i((function(){this._cancel(),this._isTapValid()&&(Re(document,"touchend",We),Re(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))}),this),Xr),Re(document,"touchend touchcancel contextmenu",this._cancel,this),Re(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){ze(document,"touchend",We),ze(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),ze(document,"touchend touchcancel contextmenu",this._cancel,this),ze(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new O(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var n=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});n._simulated=!0,e.target.dispatchEvent(n)}});Je.addInitHook("addHandler","tapHold",Jr),Je.mergeOptions({touchZoom:Dt.touch,bounceAtZoomLimits:!0});var ti=dn.extend({addHooks:function(){ge(this._map._container,"leaflet-touch-zoom"),Re(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),ze(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Re(document,"touchmove",this._onTouchMove,this),Re(document,"touchend touchcancel",this._onTouchEnd,this),We(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]),o=n.distanceTo(r)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var a=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===a.x&&0===a.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),k(this._animRequest);var s=i(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=T(s,this,!0),We(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,k(this._animRequest),ze(document,"touchmove",this._onTouchMove,this),ze(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Je.addInitHook("addHandler","touchZoom",ti),Je.BoxZoom=Kr,Je.DoubleClickZoom=Gr,Je.Drag=Qr,Je.Keyboard=$r,Je.ScrollWheelZoom=Yr,Je.TapHold=Jr,Je.TouchZoom=ti,t.Bounds=M,t.Browser=Dt,t.CRS=U,t.Canvas=jr,t.Circle=tr,t.CircleMarker=Xn,t.Class=C,t.Control=en,t.DivIcon=Pr,t.DivOverlay=Sr,t.DomEvent=Ye,t.DomUtil=De,t.Draggable=gn,t.Evented=A,t.FeatureGroup=qn,t.GeoJSON=ar,t.GridLayer=Nr,t.Handler=dn,t.Icon=Wn,t.ImageOverlay=yr,t.LatLng=B,t.LatLngBounds=j,t.Layer=Bn,t.LayerGroup=Vn,t.LineUtil=Nn,t.Map=Je,t.Marker=Qn,t.Mixin=mn,t.Path=Yn,t.Point=O,t.PolyUtil=On,t.Polygon=ir,t.Polyline=nr,t.Popup=Tr,t.PosAnimation=Xe,t.Projection=Mn,t.Rectangle=Wr,t.Renderer=zr,t.SVG=qr,t.SVGOverlay=xr,t.TileLayer=Or,t.Tooltip=Ir,t.Transformation=Z,t.Util=I,t.VideoOverlay=br,t.bind=i,t.bounds=z,t.canvas=Fr,t.circle=er,t.circleMarker=Jn,t.control=nn,t.divIcon=Lr,t.extend=n,t.featureGroup=Hn,t.geoJSON=vr,t.geoJson=gr,t.gridLayer=Ar,t.icon=Zn,t.imageOverlay=_r,t.latLng=V,t.latLngBounds=F,t.layerGroup=Un,t.map=tn,t.marker=$n,t.point=R,t.polygon=or,t.polyline=rr,t.popup=kr,t.rectangle=Zr,t.setOptions=d,t.stamp=a,t.svg=Hr,t.svgOverlay=Er,t.tileLayer=Dr,t.tooltip=Cr,t.transformation=K,t.version=e,t.videoOverlay=wr;var ei=window.L;t.noConflict=function(){return window.L=ei,this},window.L=t}(e)},573:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];function r(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=null;return e.forEach((function(t){if(null==i){var e=t.apply(void 0,n);null!=e&&(i=e)}})),i}return(0,o.default)(r)};var r,i=n(54),o=(r=i)&&r.__esModule?r:{default:r};t.exports=e.default},54:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){function e(e,n,r,i,o,a){var s=i||"<<anonymous>>",u=a||r;if(null==n[r])return e?new Error("Required "+o+" `"+u+"` was not specified in `"+s+"`."):null;for(var l=arguments.length,c=Array(l>6?l-6:0),h=6;h<l;h++)c[h-6]=arguments[h];return t.apply(void 0,[n,r,s,o,u].concat(c))}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n},t.exports=e.default},888:function(t,e,n){"use strict";var r=n(47);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},7:function(t,e,n){t.exports=n(888)()},47:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(t,e,n){"use strict";var r=n(791),i=n(296);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(t,e){l(t,e),l(t+"Capture",e)}function l(t,e){for(s[t]=e,t=0;t<e.length;t++)a.add(e[t])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function m(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){v[t]=new m(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];v[e]=new m(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){v[t]=new m(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){v[t]=new m(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){v[t]=new m(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){v[t]=new m(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){v[t]=new m(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){v[t]=new m(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){v[t]=new m(t,5,!1,t.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(t){return t[1].toUpperCase()}function _(t,e,n,r){var i=v.hasOwnProperty(e)?v[e]:null;(null!==i?0!==i.type:r||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!h.call(p,t)||!h.call(d,t)&&(f.test(t)?p[t]=!0:(d[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(g,y);v[e]=new m(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(g,y);v[e]=new m(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(g,y);v[e]=new m(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){v[t]=new m(t,1,!1,t.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){v[t]=new m(t,1,!1,t.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function R(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=D&&t[D]||t["@@iterator"])?t:null}var M,z=Object.assign;function j(t){if(void 0===M)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);M=e&&e[1]||""}return"\n"+M+t}var F=!1;function B(t,e){if(!t||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}}while(1<=a&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?j(t):""}function V(t){switch(t.tag){case 5:return j(t.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return t=B(t.type,!1);case 11:return t=B(t.type.render,!1);case 1:return t=B(t.type,!0);default:return""}}function U(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case E:return"Fragment";case x:return"Portal";case T:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case L:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case I:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case C:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case N:return null!==(e=t.displayName||null)?e:U(t.type)||"Memo";case A:e=t._payload,t=t._init;try{return U(t(e))}catch(n){}}return null}function q(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(e);case 8:return e===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function H(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function W(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Z(t){t._valueTracker||(t._valueTracker=function(t){var e=W(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function K(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=W(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function G(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Q(t,e){var n=e.checked;return z({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function $(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=H(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Y(t,e){null!=(e=e.checked)&&_(t,"checked",e,!1)}function X(t,e){Y(t,e);var n=H(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,H(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function J(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&G(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+H(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function rt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return z({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function it(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(o(92));if(et(n)){if(1<n.length)throw Error(o(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:H(n)}}function ot(t,e){var n=H(e.value),r=H(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function at(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function st(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?st(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var lt,ct,ht=(ct=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((lt=lt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return ct(t,e)}))}:ct);function ft(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function mt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||dt.hasOwnProperty(t)&&dt[t]?(""+e).trim():e+"px"}function vt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=mt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(dt).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dt[e]=dt[t]}))}));var gt=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yt(t,e){if(e){if(gt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62))}}function _t(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bt=null;function wt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var xt=null,Et=null,St=null;function Tt(t){if(t=_i(t)){if("function"!==typeof xt)throw Error(o(280));var e=t.stateNode;e&&(e=wi(e),xt(t.stateNode,t.type,e))}}function kt(t){Et?St?St.push(t):St=[t]:Et=t}function It(){if(Et){var t=Et,e=St;if(St=Et=null,Tt(t),e)for(t=0;t<e.length;t++)Tt(e[t])}}function Ct(t,e){return t(e)}function Pt(){}var Lt=!1;function Nt(t,e,n){if(Lt)return t(e,n);Lt=!0;try{return Ct(t,e,n)}finally{Lt=!1,(null!==Et||null!==St)&&(Pt(),It())}}function At(t,e){var n=t.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(o(231,e,typeof n));return n}var Ot=!1;if(c)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){Ot=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch(ct){Ot=!1}function Rt(t,e,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var Mt=!1,zt=null,jt=!1,Ft=null,Bt={onError:function(t){Mt=!0,zt=t}};function Vt(t,e,n,r,i,o,a,s,u){Mt=!1,zt=null,Rt.apply(Bt,arguments)}function Ut(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function qt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Ht(t){if(Ut(t)!==t)throw Error(o(188))}function Wt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Ut(t)))throw Error(o(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ht(i),t;if(a===r)return Ht(i),e;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?t:e}(t))?Zt(t):null}function Zt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Zt(t);if(null!==e)return e;t=t.sibling}return null}var Kt=i.unstable_scheduleCallback,Gt=i.unstable_cancelCallback,Qt=i.unstable_shouldYield,$t=i.unstable_requestPaint,Yt=i.unstable_now,Xt=i.unstable_getCurrentPriorityLevel,Jt=i.unstable_ImmediatePriority,te=i.unstable_UserBlockingPriority,ee=i.unstable_NormalPriority,ne=i.unstable_LowPriority,re=i.unstable_IdlePriority,ie=null,oe=null;var ae=Math.clz32?Math.clz32:function(t){return 0===(t>>>=0)?32:31-(se(t)/ue|0)|0},se=Math.log,ue=Math.LN2;var le=64,ce=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fe(t,e){var n=t.pendingLanes;if(0===n)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=he(s):0!==(o&=a)&&(r=he(o))}else 0!==(a=n&~i)?r=he(a):0!==o&&(r=he(o));if(0===r)return 0;if(0!==e&&e!==r&&0===(e&i)&&((i=r&-r)>=(o=e&-e)||16===i&&0!==(4194240&o)))return e;if(0!==(4&r)&&(r|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-ae(e)),r|=t[n],e&=~i;return r}function de(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function me(){var t=le;return 0===(4194240&(le<<=1))&&(le=64),t}function ve(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ge(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-ae(e)]=n}function ye(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ae(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _e=0;function be(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var we,xe,Ee,Se,Te,ke=!1,Ie=[],Ce=null,Pe=null,Le=null,Ne=new Map,Ae=new Map,Oe=[],De="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Re(t,e){switch(t){case"focusin":case"focusout":Ce=null;break;case"dragenter":case"dragleave":Pe=null;break;case"mouseover":case"mouseout":Le=null;break;case"pointerover":case"pointerout":Ne.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ae.delete(e.pointerId)}}function Me(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==e&&(null!==(e=_i(e))&&xe(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function ze(t){var e=yi(t.target);if(null!==e){var n=Ut(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=qt(n)))return t.blockedOn=e,void Te(t.priority,(function(){Ee(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function je(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=_i(n))&&xe(e),t.blockedOn=n,!1;var r=new(n=t.nativeEvent).constructor(n.type,n);bt=r,n.target.dispatchEvent(r),bt=null,e.shift()}return!0}function Fe(t,e,n){je(t)&&n.delete(e)}function Be(){ke=!1,null!==Ce&&je(Ce)&&(Ce=null),null!==Pe&&je(Pe)&&(Pe=null),null!==Le&&je(Le)&&(Le=null),Ne.forEach(Fe),Ae.forEach(Fe)}function Ve(t,e){t.blockedOn===e&&(t.blockedOn=null,ke||(ke=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Be)))}function Ue(t){function e(e){return Ve(e,t)}if(0<Ie.length){Ve(Ie[0],t);for(var n=1;n<Ie.length;n++){var r=Ie[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==Ce&&Ve(Ce,t),null!==Pe&&Ve(Pe,t),null!==Le&&Ve(Le,t),Ne.forEach(e),Ae.forEach(e),n=0;n<Oe.length;n++)(r=Oe[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Oe.length&&null===(n=Oe[0]).blockedOn;)ze(n),null===n.blockedOn&&Oe.shift()}var qe=b.ReactCurrentBatchConfig,He=!0;function We(t,e,n,r){var i=_e,o=qe.transition;qe.transition=null;try{_e=1,Ke(t,e,n,r)}finally{_e=i,qe.transition=o}}function Ze(t,e,n,r){var i=_e,o=qe.transition;qe.transition=null;try{_e=4,Ke(t,e,n,r)}finally{_e=i,qe.transition=o}}function Ke(t,e,n,r){if(He){var i=Qe(t,e,n,r);if(null===i)Hr(t,e,r,Ge,n),Re(t,r);else if(function(t,e,n,r,i){switch(e){case"focusin":return Ce=Me(Ce,t,e,n,r,i),!0;case"dragenter":return Pe=Me(Pe,t,e,n,r,i),!0;case"mouseover":return Le=Me(Le,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ne.set(o,Me(Ne.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ae.set(o,Me(Ae.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r))r.stopPropagation();else if(Re(t,r),4&e&&-1<De.indexOf(t)){for(;null!==i;){var o=_i(i);if(null!==o&&we(o),null===(o=Qe(t,e,n,r))&&Hr(t,e,r,Ge,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hr(t,e,r,null,n)}}var Ge=null;function Qe(t,e,n,r){if(Ge=null,null!==(t=yi(t=wt(r))))if(null===(e=Ut(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=qt(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ge=t,null}function $e(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xt()){case Jt:return 1;case te:return 4;case ee:case ne:return 16;case re:return 536870912;default:return 16}default:return 16}}var Ye=null,Xe=null,Je=null;function tn(){if(Je)return Je;var t,e,n=Xe,r=n.length,i="value"in Ye?Ye.value:Ye.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return Je=i.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function on(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return z(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var an,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(ln),hn=z({},ln,{view:0,detail:0}),fn=on(hn),dn=z({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==un&&(un&&"mousemove"===t.type?(an=t.screenX-un.screenX,sn=t.screenY-un.screenY):sn=an=0,un=t),an)},movementY:function(t){return"movementY"in t?t.movementY:sn}}),pn=on(dn),mn=on(z({},dn,{dataTransfer:0})),vn=on(z({},hn,{relatedTarget:0})),gn=on(z({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=z({},ln,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_n=on(yn),bn=on(z({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=En[t])&&!!e[t]}function Tn(){return Sn}var kn=z({},hn,{key:function(t){if(t.key){var e=wn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?xn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),In=on(kn),Cn=on(z({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=on(z({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Ln=on(z({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=z({},dn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),An=on(Nn),On=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Rn=null;c&&"documentMode"in document&&(Rn=document.documentMode);var Mn=c&&"TextEvent"in window&&!Rn,zn=c&&(!Dn||Rn&&8<Rn&&11>=Rn),jn=String.fromCharCode(32),Fn=!1;function Bn(t,e){switch(t){case"keyup":return-1!==On.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Un=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!qn[t.type]:"textarea"===e}function Wn(t,e,n,r){kt(r),0<(e=Zr(e,"onChange")).length&&(n=new cn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Zn=null,Kn=null;function Gn(t){jr(t,0)}function Qn(t){if(K(bi(t)))return t}function $n(t,e){if("change"===t)return e}var Yn=!1;if(c){var Xn;if(c){var Jn="oninput"in document;if(!Jn){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),Jn="function"===typeof tr.oninput}Xn=Jn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function er(){Zn&&(Zn.detachEvent("onpropertychange",nr),Kn=Zn=null)}function nr(t){if("value"===t.propertyName&&Qn(Kn)){var e=[];Wn(e,Kn,t,wt(t)),Nt(Gn,e)}}function rr(t,e,n){"focusin"===t?(er(),Kn=n,(Zn=e).attachEvent("onpropertychange",nr)):"focusout"===t&&er()}function ir(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Qn(Kn)}function or(t,e){if("click"===t)return Qn(e)}function ar(t,e){if("input"===t||"change"===t)return Qn(e)}var sr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function ur(t,e){if(sr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(e,i)||!sr(t[i],e[i]))return!1}return!0}function lr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cr(t,e){var n,r=lr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=lr(r)}}function hr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function fr(){for(var t=window,e=G();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=G((t=e.contentWindow).document)}return e}function dr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pr(t){var e=fr(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(e=r.start,void 0===(t=r.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var a=cr(n,r);i&&a&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,yr=null,_r=!1;function br(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==vr||vr!==G(r)||("selectionStart"in(r=vr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Zr(gr,"onSelect")).length&&(e=new cn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=vr)))}function wr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},Sr={};function Tr(t){if(Er[t])return Er[t];if(!xr[t])return t;var e,n=xr[t];for(e in n)if(n.hasOwnProperty(e)&&e in Sr)return Er[t]=n[e];return t}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var kr=Tr("animationend"),Ir=Tr("animationiteration"),Cr=Tr("animationstart"),Pr=Tr("transitionend"),Lr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(t,e){Lr.set(t,e),u(e,[t])}for(var Or=0;Or<Nr.length;Or++){var Dr=Nr[Or];Ar(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Ar(kr,"onAnimationEnd"),Ar(Ir,"onAnimationIteration"),Ar(Cr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Pr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function zr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,a,s,u,l){if(Vt.apply(this,arguments),Mt){if(!Mt)throw Error(o(198));var c=zt;Mt=!1,zt=null,jt||(jt=!0,Ft=c)}}(r,e,void 0,t),t.currentTarget=null}function jr(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break t;zr(i,s,l),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break t;zr(i,s,l),o=u}}}if(jt)throw t=Ft,jt=!1,Ft=null,t}function Fr(t,e){var n=e[mi];void 0===n&&(n=e[mi]=new Set);var r=t+"__bubble";n.has(r)||(qr(e,t,2,!1),n.add(r))}function Br(t,e,n){var r=0;e&&(r|=4),qr(n,t,r,e)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Ur(t){if(!t[Vr]){t[Vr]=!0,a.forEach((function(e){"selectionchange"!==e&&(Mr.has(e)||Br(e,!1,t),Br(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Vr]||(e[Vr]=!0,Br("selectionchange",!1,e))}}function qr(t,e,n,r){switch($e(e)){case 1:var i=We;break;case 4:i=Ze;break;default:i=Ke}n=i.bind(null,e,n,t),i=void 0,!Ot||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Hr(t,e,n,r,i){var o=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue t}s=s.parentNode}}r=r.return}Nt((function(){var r=o,i=wt(n),a=[];t:{var s=Lr.get(t);if(void 0!==s){var u=cn,l=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":u=In;break;case"focusin":l="focus",u=vn;break;case"focusout":l="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case kr:case Ir:case Cr:u=gn;break;case Pr:u=Ln;break;case"scroll":u=fn;break;case"wheel":u=An;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var c=0!==(4&e),h=!c&&"scroll"===t,f=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==f&&(null!=(m=At(p,f))&&c.push(Wr(p,m,d)))),h)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&e)){if(u="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||n===bt||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(h=Ut(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(c=Cn,m="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:bi(u),d=null==l?s:bi(l),(s=new c(m,p+"leave",u,n,i)).target=h,s.relatedTarget=d,m=null,yi(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=d,c.relatedTarget=h,m=c),h=m,u&&l)t:{for(f=l,p=0,d=c=u;d;d=Kr(d))p++;for(d=0,m=f;m;m=Kr(m))d++;for(;0<p-d;)c=Kr(c),p--;for(;0<d-p;)f=Kr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break t;c=Kr(c),f=Kr(f)}c=null}else c=null;null!==u&&Gr(a,s,u,c,!1),null!==l&&null!==h&&Gr(a,h,l,c,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=$n;else if(Hn(s))if(Yn)v=ar;else{v=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=or);switch(v&&(v=v(t,r))?Wn(a,v,n,i):(g&&g(t,s,r),"focusout"===t&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&tt(s,"number",s.value)),g=r?bi(r):window,t){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,yr=null);break;case"focusout":yr=gr=vr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,br(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(Dn)t:{switch(t){case"compositionstart":var _="onCompositionStart";break t;case"compositionend":_="onCompositionEnd";break t;case"compositionupdate":_="onCompositionUpdate";break t}_=void 0}else Un?Bn(t,n)&&(_="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(_="onCompositionStart");_&&(zn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==_?"onCompositionEnd"===_&&Un&&(y=tn()):(Xe="value"in(Ye=i)?Ye.value:Ye.textContent,Un=!0)),0<(g=Zr(r,_)).length&&(_=new bn(_,t,null,n,i),a.push({event:_,listeners:g}),y?_.data=y:null!==(y=Vn(n))&&(_.data=y))),(y=Mn?function(t,e){switch(t){case"compositionend":return Vn(e);case"keypress":return 32!==e.which?null:(Fn=!0,jn);case"textInput":return(t=e.data)===jn&&Fn?null:t;default:return null}}(t,n):function(t,e){if(Un)return"compositionend"===t||!Dn&&Bn(t,e)?(t=tn(),Je=Xe=Ye=null,Un=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(r=Zr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}jr(a,e)}))}function Wr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=At(t,n))&&r.unshift(Wr(t,o,i)),null!=(o=At(t,e))&&r.push(Wr(t,o,i))),t=t.return}return r}function Kr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Gr(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=At(n,o))&&a.unshift(Wr(n,u,s)):i||null!=(u=At(n,o))&&a.push(Wr(n,u,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}var Qr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(t){return("string"===typeof t?t:""+t).replace(Qr,"\n").replace($r,"")}function Xr(t,e,n){if(e=Yr(e),Yr(t)!==e&&n)throw Error(o(425))}function Jr(){}var ti=null,ei=null;function ni(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(t){return oi.resolve(null).then(t).catch(si)}:ri;function si(t){setTimeout((function(){throw t}))}function ui(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return t.removeChild(i),void Ue(e);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ue(e)}function li(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ci(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,vi="__reactListeners$"+hi,gi="__reactHandles$"+hi;function yi(t){var e=t[fi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pi]||n[fi]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ci(t);null!==t;){if(n=t[fi])return n;t=ci(t)}return e}n=(t=n).parentNode}return null}function _i(t){return!(t=t[fi]||t[pi])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function bi(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function wi(t){return t[di]||null}var xi=[],Ei=-1;function Si(t){return{current:t}}function Ti(t){0>Ei||(t.current=xi[Ei],xi[Ei]=null,Ei--)}function ki(t,e){Ei++,xi[Ei]=t.current,t.current=e}var Ii={},Ci=Si(Ii),Pi=Si(!1),Li=Ii;function Ni(t,e){var n=t.type.contextTypes;if(!n)return Ii;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Ai(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Oi(){Ti(Pi),Ti(Ci)}function Di(t,e,n){if(Ci.current!==Ii)throw Error(o(168));ki(Ci,e),ki(Pi,n)}function Ri(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(o(108,q(t)||"Unknown",i));return z({},n,r)}function Mi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ii,Li=Ci.current,ki(Ci,t),ki(Pi,Pi.current),!0}function zi(t,e,n){var r=t.stateNode;if(!r)throw Error(o(169));n?(t=Ri(t,e,Li),r.__reactInternalMemoizedMergedChildContext=t,Ti(Pi),Ti(Ci),ki(Ci,t)):Ti(Pi),ki(Pi,n)}var ji=null,Fi=!1,Bi=!1;function Vi(t){null===ji?ji=[t]:ji.push(t)}function Ui(){if(!Bi&&null!==ji){Bi=!0;var t=0,e=_e;try{var n=ji;for(_e=1;t<n.length;t++){var r=n[t];do{r=r(!0)}while(null!==r)}ji=null,Fi=!1}catch(i){throw null!==ji&&(ji=ji.slice(t+1)),Kt(Jt,Ui),i}finally{_e=e,Bi=!1}}return null}var qi=[],Hi=0,Wi=null,Zi=0,Ki=[],Gi=0,Qi=null,$i=1,Yi="";function Xi(t,e){qi[Hi++]=Zi,qi[Hi++]=Wi,Wi=t,Zi=e}function Ji(t,e,n){Ki[Gi++]=$i,Ki[Gi++]=Yi,Ki[Gi++]=Qi,Qi=t;var r=$i;t=Yi;var i=32-ae(r)-1;r&=~(1<<i),n+=1;var o=32-ae(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,$i=1<<32-ae(e)+i|n<<i|r,Yi=o+t}else $i=1<<o|n<<i|r,Yi=t}function to(t){null!==t.return&&(Xi(t,1),Ji(t,1,0))}function eo(t){for(;t===Wi;)Wi=qi[--Hi],qi[Hi]=null,Zi=qi[--Hi],qi[Hi]=null;for(;t===Qi;)Qi=Ki[--Gi],Ki[Gi]=null,Yi=Ki[--Gi],Ki[Gi]=null,$i=Ki[--Gi],Ki[Gi]=null}var no=null,ro=null,io=!1,oo=null;function ao(t,e){var n=Nl(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function so(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,no=t,ro=li(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,no=t,ro=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Qi?{id:$i,overflow:Yi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Nl(18,null,null,0)).stateNode=e,n.return=t,t.child=n,no=t,ro=null,!0);default:return!1}}function uo(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function lo(t){if(io){var e=ro;if(e){var n=e;if(!so(t,e)){if(uo(t))throw Error(o(418));e=li(n.nextSibling);var r=no;e&&so(t,e)?ao(r,n):(t.flags=-4097&t.flags|2,io=!1,no=t)}}else{if(uo(t))throw Error(o(418));t.flags=-4097&t.flags|2,io=!1,no=t}}}function co(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;no=t}function ho(t){if(t!==no)return!1;if(!io)return co(t),io=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ni(t.type,t.memoizedProps)),e&&(e=ro)){if(uo(t))throw fo(),Error(o(418));for(;e;)ao(t,e),e=li(e.nextSibling)}if(co(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){ro=li(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}ro=null}}else ro=no?li(t.stateNode.nextSibling):null;return!0}function fo(){for(var t=ro;t;)t=li(t.nextSibling)}function po(){ro=no=null,io=!1}function mo(t){null===oo?oo=[t]:oo.push(t)}var vo=b.ReactCurrentBatchConfig;function go(t,e){if(t&&t.defaultProps){for(var n in e=z({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var yo=Si(null),_o=null,bo=null,wo=null;function xo(){wo=bo=_o=null}function Eo(t){var e=yo.current;Ti(yo),t._currentValue=e}function So(t,e,n){for(;null!==t;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==r&&(r.childLanes|=e)):null!==r&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function To(t,e){_o=t,wo=bo=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(bs=!0),t.firstContext=null)}function ko(t){var e=t._currentValue;if(wo!==t)if(t={context:t,memoizedValue:e,next:null},null===bo){if(null===_o)throw Error(o(308));bo=t,_o.dependencies={lanes:0,firstContext:t}}else bo=bo.next=t;return e}var Io=null;function Co(t){null===Io?Io=[t]:Io.push(t)}function Po(t,e,n,r){var i=e.interleaved;return null===i?(n.next=n,Co(e)):(n.next=i.next,i.next=n),e.interleaved=n,Lo(t,r)}function Lo(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var No=!1;function Ao(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Do(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ro(t,e,n){var r=t.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cu)){var i=r.pending;return null===i?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Lo(t,n)}return null===(i=r.interleaved)?(e.next=e,Co(r)):(e.next=i.next,i.next=e),r.interleaved=e,Lo(t,n)}function Mo(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ye(t,n)}}function zo(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function jo(t,e,n,r){var i=t.updateQueue;No=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===a?o=l:a.next=l,a=u;var c=t.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==o){var h=i.baseState;for(a=0,c=l=u=null,s=o;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});t:{var p=t,m=s;switch(f=e,d=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(d,h,f);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(d,h,f):p)||void 0===f)break t;h=z({},h,f);break t;case 2:No=!0}}null!==s.callback&&0!==s.lane&&(t.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=h):c=c.next=d,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(e=i.shared.interleaved)){i=e;do{a|=i.lane,i=i.next}while(i!==e)}else null===o&&(i.shared.lanes=0);Mu|=a,t.lanes=a,t.memoizedState=h}}function Fo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Bo=(new r.Component).refs;function Vo(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:z({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var Uo={isMounted:function(t){return!!(t=t._reactInternals)&&Ut(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tl(),i=el(t),o=Do(r,i);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=Ro(t,o,i))&&(nl(e,t,i,r),Mo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tl(),i=el(t),o=Do(r,i);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=Ro(t,o,i))&&(nl(e,t,i,r),Mo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tl(),r=el(t),i=Do(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),null!==(e=Ro(t,i,r))&&(nl(e,t,r,n),Mo(e,t,r))}};function qo(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function Ho(t,e,n){var r=!1,i=Ii,o=e.contextType;return"object"===typeof o&&null!==o?o=ko(o):(i=Ai(e)?Li:Ci.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?Ni(t,i):Ii),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Uo,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Wo(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Uo.enqueueReplaceState(e,e.state,null)}function Zo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Bo,Ao(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=ko(o):(o=Ai(e)?Li:Ci.current,i.context=Ni(t,o)),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(Vo(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&Uo.enqueueReplaceState(i,i.state,null),jo(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308)}function Ko(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,t));var i=r,a=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===a?e.ref:(e=function(t){var e=i.refs;e===Bo&&(e=i.refs={}),null===t?delete e[a]:e[a]=t},e._stringRef=a,e)}if("string"!==typeof t)throw Error(o(284));if(!n._owner)throw Error(o(290,t))}return t}function Go(t,e){throw t=Object.prototype.toString.call(e),Error(o(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Qo(t){return(0,t._init)(t._payload)}function $o(t){function e(e,n){if(t){var r=e.deletions;null===r?(e.deletions=[n],e.flags|=16):r.push(n)}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Ol(t,e)).index=0,t.sibling=null,t}function a(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags|=2,n):r:(e.flags|=2,n):(e.flags|=1048576,n)}function s(e){return t&&null===e.alternate&&(e.flags|=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=zl(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function l(t,e,n,r){var o=n.type;return o===E?h(t,e,n.props.children,r,n.key):null!==e&&(e.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===A&&Qo(o)===e.type)?((r=i(e,n.props)).ref=Ko(t,e,n),r.return=t,r):((r=Dl(n.type,n.key,n.props,null,t.mode,r)).ref=Ko(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=jl(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=Rl(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=zl(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case w:return(n=Dl(e.type,e.key,e.props,null,t.mode,n)).ref=Ko(t,null,e),n.return=t,n;case x:return(e=jl(e,t.mode,n)).return=t,e;case A:return f(t,(0,e._init)(e._payload),n)}if(et(e)||R(e))return(e=Rl(e,t.mode,n,null)).return=t,e;Go(t,e)}return null}function d(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(t,e,n,r):null;case x:return n.key===i?c(t,e,n,r):null;case A:return d(t,e,(i=n._init)(n._payload),r)}if(et(n)||R(n))return null!==i?null:h(t,e,n,r,null);Go(t,n)}return null}function p(t,e,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(e,t=t.get(null===r.key?n:r.key)||null,r,i);case x:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i);case A:return p(t,e,n,(0,r._init)(r._payload),i)}if(et(r)||R(r))return h(e,t=t.get(n)||null,r,i,null);Go(e,r)}return null}function m(i,o,s,u){for(var l=null,c=null,h=o,m=o=0,v=null;null!==h&&m<s.length;m++){h.index>m?(v=h,h=null):v=h.sibling;var g=d(i,h,s[m],u);if(null===g){null===h&&(h=v);break}t&&h&&null===g.alternate&&e(i,h),o=a(g,o,m),null===c?l=g:c.sibling=g,c=g,h=v}if(m===s.length)return n(i,h),io&&Xi(i,m),l;if(null===h){for(;m<s.length;m++)null!==(h=f(i,s[m],u))&&(o=a(h,o,m),null===c?l=h:c.sibling=h,c=h);return io&&Xi(i,m),l}for(h=r(i,h);m<s.length;m++)null!==(v=p(h,i,m,s[m],u))&&(t&&null!==v.alternate&&h.delete(null===v.key?m:v.key),o=a(v,o,m),null===c?l=v:c.sibling=v,c=v);return t&&h.forEach((function(t){return e(i,t)})),io&&Xi(i,m),l}function v(i,s,u,l){var c=R(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var h=c=null,m=s,v=s=0,g=null,y=u.next();null!==m&&!y.done;v++,y=u.next()){m.index>v?(g=m,m=null):g=m.sibling;var _=d(i,m,y.value,l);if(null===_){null===m&&(m=g);break}t&&m&&null===_.alternate&&e(i,m),s=a(_,s,v),null===h?c=_:h.sibling=_,h=_,m=g}if(y.done)return n(i,m),io&&Xi(i,v),c;if(null===m){for(;!y.done;v++,y=u.next())null!==(y=f(i,y.value,l))&&(s=a(y,s,v),null===h?c=y:h.sibling=y,h=y);return io&&Xi(i,v),c}for(m=r(i,m);!y.done;v++,y=u.next())null!==(y=p(m,i,v,y.value,l))&&(t&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=a(y,s,v),null===h?c=y:h.sibling=y,h=y);return t&&m.forEach((function(t){return e(i,t)})),io&&Xi(i,v),c}return function t(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:t:{for(var l=a.key,c=o;null!==c;){if(c.key===l){if((l=a.type)===E){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break t}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===A&&Qo(l)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=Ko(r,c,a),o.return=r,r=o;break t}n(r,c);break}e(r,c),c=c.sibling}a.type===E?((o=Rl(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Dl(a.type,a.key,a.props,null,r.mode,u)).ref=Ko(r,o,a),u.return=r,r=u)}return s(r);case x:t:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break t}n(r,o);break}e(r,o),o=o.sibling}(o=jl(a,r.mode,u)).return=r,r=o}return s(r);case A:return t(r,o,(c=a._init)(a._payload),u)}if(et(a))return m(r,o,a,u);if(R(a))return v(r,o,a,u);Go(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=zl(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Yo=$o(!0),Xo=$o(!1),Jo={},ta=Si(Jo),ea=Si(Jo),na=Si(Jo);function ra(t){if(t===Jo)throw Error(o(174));return t}function ia(t,e){switch(ki(na,e),ki(ea,t),ki(ta,Jo),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ut(null,"");break;default:e=ut(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Ti(ta),ki(ta,e)}function oa(){Ti(ta),Ti(ea),Ti(na)}function aa(t){ra(na.current);var e=ra(ta.current),n=ut(e,t.type);e!==n&&(ki(ea,t),ki(ta,n))}function sa(t){ea.current===t&&(Ti(ta),Ti(ea))}var ua=Si(0);function la(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ca=[];function ha(){for(var t=0;t<ca.length;t++)ca[t]._workInProgressVersionPrimary=null;ca.length=0}var fa=b.ReactCurrentDispatcher,da=b.ReactCurrentBatchConfig,pa=0,ma=null,va=null,ga=null,ya=!1,_a=!1,ba=0,wa=0;function xa(){throw Error(o(321))}function Ea(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function Sa(t,e,n,r,i,a){if(pa=a,ma=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fa.current=null===t||null===t.memoizedState?ss:us,t=n(r,i),_a){a=0;do{if(_a=!1,ba=0,25<=a)throw Error(o(301));a+=1,ga=va=null,e.updateQueue=null,fa.current=ls,t=n(r,i)}while(_a)}if(fa.current=as,e=null!==va&&null!==va.next,pa=0,ga=va=ma=null,ya=!1,e)throw Error(o(300));return t}function Ta(){var t=0!==ba;return ba=0,t}function ka(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?ma.memoizedState=ga=t:ga=ga.next=t,ga}function Ia(){if(null===va){var t=ma.alternate;t=null!==t?t.memoizedState:null}else t=va.next;var e=null===ga?ma.memoizedState:ga.next;if(null!==e)ga=e,va=t;else{if(null===t)throw Error(o(310));t={memoizedState:(va=t).memoizedState,baseState:va.baseState,baseQueue:va.baseQueue,queue:va.queue,next:null},null===ga?ma.memoizedState=ga=t:ga=ga.next=t}return ga}function Ca(t,e){return"function"===typeof e?e(t):e}function Pa(t){var e=Ia(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=va,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,l=null,c=a;do{var h=c.lane;if((pa&h)===h)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=f,s=r):l=l.next=f,ma.lanes|=h,Mu|=h}c=c.next}while(null!==c&&c!==a);null===l?s=r:l.next=u,sr(r,e.memoizedState)||(bs=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(null!==(t=n.interleaved)){i=t;do{a=i.lane,ma.lanes|=a,Mu|=a,i=i.next}while(i!==t)}else null===i&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function La(t){var e=Ia(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=t(a,s.action),s=s.next}while(s!==i);sr(a,e.memoizedState)||(bs=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Na(){}function Aa(t,e){var n=ma,r=Ia(),i=e(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Ha(Ra.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,Fa(9,Da.bind(null,n,r,i,e),void 0,null),null===Pu)throw Error(o(349));0!==(30&pa)||Oa(n,e,i)}return i}function Oa(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=ma.updateQueue)?(e={lastEffect:null,stores:null},ma.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Da(t,e,n,r){e.value=n,e.getSnapshot=r,Ma(e)&&za(t)}function Ra(t,e,n){return n((function(){Ma(e)&&za(t)}))}function Ma(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sr(t,n)}catch(r){return!0}}function za(t){var e=Lo(t,1);null!==e&&nl(e,t,1,-1)}function ja(t){var e=ka();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:t},e.queue=t,t=t.dispatch=ns.bind(null,ma,t),[e.memoizedState,t]}function Fa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=ma.updateQueue)?(e={lastEffect:null,stores:null},ma.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Ba(){return Ia().memoizedState}function Va(t,e,n,r){var i=ka();ma.flags|=t,i.memoizedState=Fa(1|e,n,void 0,void 0===r?null:r)}function Ua(t,e,n,r){var i=Ia();r=void 0===r?null:r;var o=void 0;if(null!==va){var a=va.memoizedState;if(o=a.destroy,null!==r&&Ea(r,a.deps))return void(i.memoizedState=Fa(e,n,o,r))}ma.flags|=t,i.memoizedState=Fa(1|e,n,o,r)}function qa(t,e){return Va(8390656,8,t,e)}function Ha(t,e){return Ua(2048,8,t,e)}function Wa(t,e){return Ua(4,2,t,e)}function Za(t,e){return Ua(4,4,t,e)}function Ka(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ga(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Ua(4,4,Ka.bind(null,e,t),n)}function Qa(){}function $a(t,e){var n=Ia();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Ea(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ya(t,e){var n=Ia();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Ea(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Xa(t,e,n){return 0===(21&pa)?(t.baseState&&(t.baseState=!1,bs=!0),t.memoizedState=n):(sr(n,e)||(n=me(),ma.lanes|=n,Mu|=n,t.baseState=!0),e)}function Ja(t,e){var n=_e;_e=0!==n&&4>n?n:4,t(!0);var r=da.transition;da.transition={};try{t(!1),e()}finally{_e=n,da.transition=r}}function ts(){return Ia().memoizedState}function es(t,e,n){var r=el(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(t))is(e,n);else if(null!==(n=Po(t,e,n,r))){nl(n,t,r,tl()),os(n,e,r)}}function ns(t,e,n){var r=el(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(t))is(e,i);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=e.interleaved;return null===u?(i.next=i,Co(e)):(i.next=u.next,u.next=i),void(e.interleaved=i)}}catch(l){}null!==(n=Po(t,e,i,r))&&(nl(n,t,r,i=tl()),os(n,e,r))}}function rs(t){var e=t.alternate;return t===ma||null!==e&&e===ma}function is(t,e){_a=ya=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function os(t,e,n){if(0!==(4194240&n)){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ye(t,n)}}var as={readContext:ko,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},ss={readContext:ko,useCallback:function(t,e){return ka().memoizedState=[t,void 0===e?null:e],t},useContext:ko,useEffect:qa,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Va(4194308,4,Ka.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Va(4194308,4,t,e)},useInsertionEffect:function(t,e){return Va(4,2,t,e)},useMemo:function(t,e){var n=ka();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ka();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=es.bind(null,ma,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},ka().memoizedState=t},useState:ja,useDebugValue:Qa,useDeferredValue:function(t){return ka().memoizedState=t},useTransition:function(){var t=ja(!1),e=t[0];return t=Ja.bind(null,t[1]),ka().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ma,i=ka();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=e(),null===Pu)throw Error(o(349));0!==(30&pa)||Oa(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,qa(Ra.bind(null,r,a,t),[t]),r.flags|=2048,Fa(9,Da.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=ka(),e=Pu.identifierPrefix;if(io){var n=Yi;e=":"+e+"R"+(n=($i&~(1<<32-ae($i)-1)).toString(32)+n),0<(n=ba++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=wa++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},us={readContext:ko,useCallback:$a,useContext:ko,useEffect:Ha,useImperativeHandle:Ga,useInsertionEffect:Wa,useLayoutEffect:Za,useMemo:Ya,useReducer:Pa,useRef:Ba,useState:function(){return Pa(Ca)},useDebugValue:Qa,useDeferredValue:function(t){return Xa(Ia(),va.memoizedState,t)},useTransition:function(){return[Pa(Ca)[0],Ia().memoizedState]},useMutableSource:Na,useSyncExternalStore:Aa,useId:ts,unstable_isNewReconciler:!1},ls={readContext:ko,useCallback:$a,useContext:ko,useEffect:Ha,useImperativeHandle:Ga,useInsertionEffect:Wa,useLayoutEffect:Za,useMemo:Ya,useReducer:La,useRef:Ba,useState:function(){return La(Ca)},useDebugValue:Qa,useDeferredValue:function(t){var e=Ia();return null===va?e.memoizedState=t:Xa(e,va.memoizedState,t)},useTransition:function(){return[La(Ca)[0],Ia().memoizedState]},useMutableSource:Na,useSyncExternalStore:Aa,useId:ts,unstable_isNewReconciler:!1};function cs(t,e){try{var n="",r=e;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i,digest:null}}function hs(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function fs(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(t,e,n){(n=Do(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Hu||(Hu=!0,Wu=r),fs(0,e)},n}function ms(t,e,n){(n=Do(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,e)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){fs(0,e),"function"!==typeof r&&(null===Zu?Zu=new Set([this]):Zu.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function vs(t,e,n){var r=t.pingCache;if(null===r){r=t.pingCache=new ds;var i=new Set;r.set(e,i)}else void 0===(i=r.get(e))&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Tl.bind(null,t,e,n),e.then(t,t))}function gs(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ys(t,e,n,r,i){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Do(-1,1)).tag=2,Ro(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var _s=b.ReactCurrentOwner,bs=!1;function ws(t,e,n,r){e.child=null===t?Xo(e,null,n,r):Yo(e,t.child,n,r)}function xs(t,e,n,r,i){n=n.render;var o=e.ref;return To(e,i),r=Sa(t,e,n,r,o,i),n=Ta(),null===t||bs?(io&&n&&to(e),e.flags|=1,ws(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hs(t,e,i))}function Es(t,e,n,r,i){if(null===t){var o=n.type;return"function"!==typeof o||Al(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Dl(n.type,null,r,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Ss(t,e,o,r,i))}if(o=t.child,0===(t.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&t.ref===e.ref)return Hs(t,e,i)}return e.flags|=1,(t=Ol(o,r)).ref=e.ref,t.return=e,e.child=t}function Ss(t,e,n,r,i){if(null!==t){var o=t.memoizedProps;if(ur(o,r)&&t.ref===e.ref){if(bs=!1,e.pendingProps=r=o,0===(t.lanes&i))return e.lanes=t.lanes,Hs(t,e,i);0!==(131072&t.flags)&&(bs=!0)}}return Is(t,e,n,r,i)}function Ts(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Ou,Au),Au|=n;else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ki(Ou,Au),Au|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,ki(Ou,Au),Au|=r}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,ki(Ou,Au),Au|=r;return ws(t,e,i,n),e.child}function ks(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Is(t,e,n,r,i){var o=Ai(n)?Li:Ci.current;return o=Ni(e,o),To(e,i),n=Sa(t,e,n,r,o,i),r=Ta(),null===t||bs?(io&&r&&to(e),e.flags|=1,ws(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hs(t,e,i))}function Cs(t,e,n,r,i){if(Ai(n)){var o=!0;Mi(e)}else o=!1;if(To(e,i),null===e.stateNode)qs(t,e),Ho(e,n,r),Zo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=ko(l):l=Ni(e,l=Ai(n)?Li:Ci.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&Wo(e,a,r,l),No=!1;var f=e.memoizedState;a.state=f,jo(e,r,a,i),u=e.memoizedState,s!==r||f!==u||Pi.current||No?("function"===typeof c&&(Vo(e,n,c,r),u=e.memoizedState),(s=No||qo(e,n,s,r,f,u,l))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4194308)):("function"===typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Oo(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:go(e.type,s),a.props=l,h=e.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ko(u):u=Ni(e,u=Ai(n)?Li:Ci.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&Wo(e,a,r,u),No=!1,f=e.memoizedState,a.state=f,jo(e,r,a,i);var p=e.memoizedState;s!==h||f!==p||Pi.current||No?("function"===typeof d&&(Vo(e,n,d,r),p=e.memoizedState),(l=No||qo(e,n,l,r,f,p,u)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ps(t,e,n,r,o,i)}function Ps(t,e,n,r,i,o){ks(t,e);var a=0!==(128&e.flags);if(!r&&!a)return i&&zi(e,n,!1),Hs(t,e,o);r=e.stateNode,_s.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=Yo(e,t.child,null,o),e.child=Yo(e,null,s,o)):ws(t,e,s,o),e.memoizedState=r.state,i&&zi(e,n,!0),e.child}function Ls(t){var e=t.stateNode;e.pendingContext?Di(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Di(0,e.context,!1),ia(t,e.containerInfo)}function Ns(t,e,n,r,i){return po(),mo(i),e.flags|=256,ws(t,e,n,r),e.child}var As,Os,Ds,Rs={dehydrated:null,treeContext:null,retryLane:0};function Ms(t){return{baseLanes:t,cachePool:null,transitions:null}}function zs(t,e,n){var r,i=e.pendingProps,a=ua.current,s=!1,u=0!==(128&e.flags);if((r=u)||(r=(null===t||null!==t.memoizedState)&&0!==(2&a)),r?(s=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(a|=1),ki(ua,1&a),null===t)return lo(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(u=i.children,t=i.fallback,s?(i=e.mode,s=e.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Ml(u,i,0,null),t=Rl(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ms(n),e.memoizedState=Rs,t):js(e,u));if(null!==(a=t.memoizedState)&&null!==(r=a.dehydrated))return function(t,e,n,r,i,a,s){if(n)return 256&e.flags?(e.flags&=-257,Fs(t,e,s,r=hs(Error(o(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Ml({mode:"visible",children:r.children},i,0,null),(a=Rl(a,i,s,null)).flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,0!==(1&e.mode)&&Yo(e,t.child,null,s),e.child.memoizedState=Ms(s),e.memoizedState=Rs,a);if(0===(1&e.mode))return Fs(t,e,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Fs(t,e,s,r=hs(a=Error(o(419)),r,void 0))}if(u=0!==(s&t.childLanes),bs||u){if(null!==(r=Pu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Lo(t,i),nl(r,t,i,-1))}return ml(),Fs(t,e,s,r=hs(Error(o(421))))}return"$?"===i.data?(e.flags|=128,e.child=t.child,e=Il.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,ro=li(i.nextSibling),no=e,io=!0,oo=null,null!==t&&(Ki[Gi++]=$i,Ki[Gi++]=Yi,Ki[Gi++]=Qi,$i=t.id,Yi=t.overflow,Qi=e),(e=js(e,r.children)).flags|=4096,e)}(t,e,u,i,r,a,n);if(s){s=i.fallback,u=e.mode,r=(a=t.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&e.child!==a?((i=e.child).childLanes=0,i.pendingProps=l,e.deletions=null):(i=Ol(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Ol(r,s):(s=Rl(s,u,n,null)).flags|=2,s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,u=null===(u=t.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=t.childLanes&~n,e.memoizedState=Rs,i}return t=(s=t.child).sibling,i=Ol(s,{mode:"visible",children:i.children}),0===(1&e.mode)&&(i.lanes=n),i.return=e,i.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function js(t,e){return(e=Ml({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Fs(t,e,n,r){return null!==r&&mo(r),Yo(e,t.child,null,n),(t=js(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Bs(t,e,n){t.lanes|=e;var r=t.alternate;null!==r&&(r.lanes|=e),So(t.return,e,n)}function Vs(t,e,n,r,i){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Us(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ws(t,e,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Bs(t,n,e);else if(19===t.tag)Bs(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ki(ua,r),0===(1&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===la(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Vs(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===la(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Vs(e,!0,n,null,o);break;case"together":Vs(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qs(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hs(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Mu|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(n=Ol(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Ol(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Ws(t,e){if(!io)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zs(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Ks(t,e,n){var r=e.pendingProps;switch(eo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zs(e),null;case 1:case 17:return Ai(e.type)&&Oi(),Zs(e),null;case 3:return r=e.stateNode,oa(),Ti(Pi),Ti(Ci),ha(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(ho(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==oo&&(al(oo),oo=null))),Zs(e),null;case 5:sa(e);var i=ra(na.current);if(n=e.type,null!==t&&null!=e.stateNode)Os(t,e,n,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(null===e.stateNode)throw Error(o(166));return Zs(e),null}if(t=ra(ta.current),ho(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[fi]=e,r[di]=a,t=0!==(1&e.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Fr(Rr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":$(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":it(r,a),Fr("invalid",r)}for(var u in yt(n,a),i=null,a)if(a.hasOwnProperty(u)){var l=a[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,l,t),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,l,t),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Fr("scroll",r)}switch(n){case"input":Z(r),J(r,a,!0);break;case"textarea":Z(r),at(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=i,e.updateQueue=r,null!==r&&(e.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=st(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=u.createElement(n,{is:r.is}):(t=u.createElement(n),"select"===n&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,n),t[fi]=e,t[di]=r,As(t,e),e.stateNode=t;t:{switch(u=_t(n,r),n){case"dialog":Fr("cancel",t),Fr("close",t),i=r;break;case"iframe":case"object":case"embed":Fr("load",t),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Fr(Rr[i],t);i=r;break;case"source":Fr("error",t),i=r;break;case"img":case"image":case"link":Fr("error",t),Fr("load",t),i=r;break;case"details":Fr("toggle",t),i=r;break;case"input":$(t,r),i=Q(t,r),Fr("invalid",t);break;case"option":default:i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=z({},r,{value:void 0}),Fr("invalid",t);break;case"textarea":it(t,r),i=rt(t,r),Fr("invalid",t)}for(a in yt(n,i),l=i)if(l.hasOwnProperty(a)){var c=l[a];"style"===a?vt(t,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&ht(t,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&ft(t,c):"number"===typeof c&&ft(t,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Fr("scroll",t):null!=c&&_(t,a,c,u))}switch(n){case"input":Z(t),J(t,r,!1);break;case"textarea":Z(t),at(t);break;case"option":null!=r.value&&t.setAttribute("value",""+H(r.value));break;case"select":t.multiple=!!r.multiple,null!=(a=r.value)?nt(t,!!r.multiple,a,!1):null!=r.defaultValue&&nt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(t.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Zs(e),null;case 6:if(t&&null!=e.stateNode)Ds(0,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ta.current),ho(e)){if(r=e.stateNode,n=e.memoizedProps,r[fi]=e,(a=r.nodeValue!==n)&&null!==(t=no))switch(t.tag){case 3:Xr(r.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&t.mode))}a&&(e.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=e,e.stateNode=r}return Zs(e),null;case 13:if(Ti(ua),r=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&e.mode)&&0===(128&e.flags))fo(),po(),e.flags|=98560,a=!1;else if(a=ho(e),null!==r&&null!==r.dehydrated){if(null===t){if(!a)throw Error(o(318));if(!(a=null!==(a=e.memoizedState)?a.dehydrated:null))throw Error(o(317));a[fi]=e}else po(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Zs(e),a=!1}else null!==oo&&(al(oo),oo=null),a=!0;if(!a)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((r=null!==r)!==(null!==t&&null!==t.memoizedState)&&r&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&ua.current)?0===Du&&(Du=3):ml())),null!==e.updateQueue&&(e.flags|=4),Zs(e),null);case 4:return oa(),null===t&&Ur(e.stateNode.containerInfo),Zs(e),null;case 10:return Eo(e.type._context),Zs(e),null;case 19:if(Ti(ua),null===(a=e.memoizedState))return Zs(e),null;if(r=0!==(128&e.flags),null===(u=a.rendering))if(r)Ws(a,!1);else{if(0!==Du||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(u=la(t))){for(e.flags|=128,Ws(a,!1),null!==(r=u.updateQueue)&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;null!==n;)t=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,t=u.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ki(ua,1&ua.current|2),e.child}t=t.sibling}null!==a.tail&&Yt()>Uu&&(e.flags|=128,r=!0,Ws(a,!1),e.lanes=4194304)}else{if(!r)if(null!==(t=la(u))){if(e.flags|=128,r=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Ws(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return Zs(e),null}else 2*Yt()-a.renderingStartTime>Uu&&1073741824!==n&&(e.flags|=128,r=!0,Ws(a,!1),e.lanes=4194304);a.isBackwards?(u.sibling=e.child,e.child=u):(null!==(n=a.last)?n.sibling=u:e.child=u,a.last=u)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Yt(),e.sibling=null,n=ua.current,ki(ua,r?1&n|2:1&n),e):(Zs(e),null);case 22:case 23:return hl(),r=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==r&&(e.flags|=8192),r&&0!==(1&e.mode)?0!==(1073741824&Au)&&(Zs(e),6&e.subtreeFlags&&(e.flags|=8192)):Zs(e),null;case 24:case 25:return null}throw Error(o(156,e.tag))}function Gs(t,e){switch(eo(e),e.tag){case 1:return Ai(e.type)&&Oi(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return oa(),Ti(Pi),Ti(Ci),ha(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return sa(e),null;case 13:if(Ti(ua),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(o(340));po()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Ti(ua),null;case 4:return oa(),null;case 10:return Eo(e.type._context),null;case 22:case 23:return hl(),null;default:return null}}As=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ra(ta.current);var o,a=null;switch(n){case"input":i=Q(t,i),r=Q(t,r),a=[];break;case"select":i=z({},i,{value:void 0}),r=z({},r,{value:void 0}),a=[];break;case"textarea":i=rt(t,i),r=rt(t,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(t.onclick=Jr)}for(c in yt(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(a=a||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Fr("scroll",t),a||u===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}},Ds=function(t,e,n,r){n!==r&&(e.flags|=4)};var Qs=!1,$s=!1,Ys="function"===typeof WeakSet?WeakSet:Set,Xs=null;function Js(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sl(t,e,r)}else n.current=null}function tu(t,e,n){try{n()}catch(r){Sl(t,e,r)}}var eu=!1;function nu(t,e,n){var r=e.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,void 0!==o&&tu(e,n,o)}i=i.next}while(i!==r)}}function ru(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function iu(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function ou(t){var e=t.alternate;null!==e&&(t.alternate=null,ou(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[fi],delete e[di],delete e[mi],delete e[vi],delete e[gi])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function au(t){return 5===t.tag||3===t.tag||4===t.tag}function su(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||au(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function uu(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Jr));else if(4!==r&&null!==(t=t.child))for(uu(t,e,n),t=t.sibling;null!==t;)uu(t,e,n),t=t.sibling}function lu(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(lu(t,e,n),t=t.sibling;null!==t;)lu(t,e,n),t=t.sibling}var cu=null,hu=!1;function fu(t,e,n){for(n=n.child;null!==n;)du(t,e,n),n=n.sibling}function du(t,e,n){if(oe&&"function"===typeof oe.onCommitFiberUnmount)try{oe.onCommitFiberUnmount(ie,n)}catch(s){}switch(n.tag){case 5:$s||Js(n,e);case 6:var r=cu,i=hu;cu=null,fu(t,e,n),hu=i,null!==(cu=r)&&(hu?(t=cu,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):cu.removeChild(n.stateNode));break;case 18:null!==cu&&(hu?(t=cu,n=n.stateNode,8===t.nodeType?ui(t.parentNode,n):1===t.nodeType&&ui(t,n),Ue(t)):ui(cu,n.stateNode));break;case 4:r=cu,i=hu,cu=n.stateNode.containerInfo,hu=!0,fu(t,e,n),cu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tu(n,e,a),i=i.next}while(i!==r)}fu(t,e,n);break;case 1:if(!$s&&(Js(n,e),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sl(n,e,s)}fu(t,e,n);break;case 21:fu(t,e,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,fu(t,e,n),$s=r):fu(t,e,n);break;default:fu(t,e,n)}}function pu(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Ys),e.forEach((function(e){var r=Cl.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function mu(t,e){var n=e.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,u=s;t:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,hu=!1;break t;case 3:case 4:cu=u.stateNode.containerInfo,hu=!0;break t}u=u.return}if(null===cu)throw Error(o(160));du(a,s,i),cu=null,hu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Sl(i,e,c)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)vu(e,t),e=e.sibling}function vu(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mu(e,t),gu(t),4&r){try{nu(3,t,t.return),ru(3,t)}catch(v){Sl(t,t.return,v)}try{nu(5,t,t.return)}catch(v){Sl(t,t.return,v)}}break;case 1:mu(e,t),gu(t),512&r&&null!==n&&Js(n,n.return);break;case 5:if(mu(e,t),gu(t),512&r&&null!==n&&Js(n,n.return),32&t.flags){var i=t.stateNode;try{ft(i,"")}catch(v){Sl(t,t.return,v)}}if(4&r&&null!=(i=t.stateNode)){var a=t.memoizedProps,s=null!==n?n.memoizedProps:a,u=t.type,l=t.updateQueue;if(t.updateQueue=null,null!==l)try{"input"===u&&"radio"===a.type&&null!=a.name&&Y(i,a),_t(u,s);var c=_t(u,a);for(s=0;s<l.length;s+=2){var h=l[s],f=l[s+1];"style"===h?vt(i,f):"dangerouslySetInnerHTML"===h?ht(i,f):"children"===h?ft(i,f):_(i,h,f,c)}switch(u){case"input":X(i,a);break;case"textarea":ot(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?nt(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?nt(i,!!a.multiple,a.defaultValue,!0):nt(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(v){Sl(t,t.return,v)}}break;case 6:if(mu(e,t),gu(t),4&r){if(null===t.stateNode)throw Error(o(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(v){Sl(t,t.return,v)}}break;case 3:if(mu(e,t),gu(t),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ue(e.containerInfo)}catch(v){Sl(t,t.return,v)}break;case 4:default:mu(e,t),gu(t);break;case 13:mu(e,t),gu(t),8192&(i=t.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vu=Yt())),4&r&&pu(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?($s=(c=$s)||h,mu(e,t),$s=c):mu(e,t),gu(t),8192&r){if(c=null!==t.memoizedState,(t.stateNode.isHidden=c)&&!h&&0!==(1&t.mode))for(Xs=t,h=t.child;null!==h;){for(f=Xs=h;null!==Xs;){switch(p=(d=Xs).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Js(d,d.return);var m=d.stateNode;if("function"===typeof m.componentWillUnmount){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){Sl(r,n,v)}}break;case 5:Js(d,d.return);break;case 22:if(null!==d.memoizedState){wu(f);continue}}null!==p?(p.return=d,Xs=p):wu(f)}h=h.sibling}t:for(h=null,f=t;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=f.stateNode,s=void 0!==(l=f.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=mt("display",s))}catch(v){Sl(t,t.return,v)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){Sl(t,t.return,v)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===t)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===t)break t;for(;null===f.sibling;){if(null===f.return||f.return===t)break t;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mu(e,t),gu(t),4&r&&pu(t);case 21:}}function gu(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(au(n)){var r=n;break t}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(ft(i,""),r.flags&=-33),lu(t,su(t),i);break;case 3:case 4:var a=r.stateNode.containerInfo;uu(t,su(t),a);break;default:throw Error(o(161))}}catch(s){Sl(t,t.return,s)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function yu(t,e,n){Xs=t,_u(t,e,n)}function _u(t,e,n){for(var r=0!==(1&t.mode);null!==Xs;){var i=Xs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Qs;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||$s;s=Qs;var l=$s;if(Qs=a,($s=u)&&!l)for(Xs=i;null!==Xs;)u=(a=Xs).child,22===a.tag&&null!==a.memoizedState?xu(i):null!==u?(u.return=a,Xs=u):xu(i);for(;null!==o;)Xs=o,_u(o,e,n),o=o.sibling;Xs=i,Qs=s,$s=l}bu(t)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Xs=o):bu(t)}}function bu(t){for(;null!==Xs;){var e=Xs;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:$s||ru(5,e);break;case 1:var r=e.stateNode;if(4&e.flags&&!$s)if(null===n)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:go(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;null!==a&&Fo(e,a,r);break;case 3:var s=e.updateQueue;if(null!==s){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Fo(e,s,n)}break;case 5:var u=e.stateNode;if(null===n&&4&e.flags){n=u;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var c=e.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Ue(f)}}}break;default:throw Error(o(163))}$s||512&e.flags&&iu(e)}catch(d){Sl(e,e.return,d)}}if(e===t){Xs=null;break}if(null!==(n=e.sibling)){n.return=e.return,Xs=n;break}Xs=e.return}}function wu(t){for(;null!==Xs;){var e=Xs;if(e===t){Xs=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Xs=n;break}Xs=e.return}}function xu(t){for(;null!==Xs;){var e=Xs;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ru(4,e)}catch(u){Sl(e,n,u)}break;case 1:var r=e.stateNode;if("function"===typeof r.componentDidMount){var i=e.return;try{r.componentDidMount()}catch(u){Sl(e,i,u)}}var o=e.return;try{iu(e)}catch(u){Sl(e,o,u)}break;case 5:var a=e.return;try{iu(e)}catch(u){Sl(e,a,u)}}}catch(u){Sl(e,e.return,u)}if(e===t){Xs=null;break}var s=e.sibling;if(null!==s){s.return=e.return,Xs=s;break}Xs=e.return}}var Eu,Su=Math.ceil,Tu=b.ReactCurrentDispatcher,ku=b.ReactCurrentOwner,Iu=b.ReactCurrentBatchConfig,Cu=0,Pu=null,Lu=null,Nu=0,Au=0,Ou=Si(0),Du=0,Ru=null,Mu=0,zu=0,ju=0,Fu=null,Bu=null,Vu=0,Uu=1/0,qu=null,Hu=!1,Wu=null,Zu=null,Ku=!1,Gu=null,Qu=0,$u=0,Yu=null,Xu=-1,Ju=0;function tl(){return 0!==(6&Cu)?Yt():-1!==Xu?Xu:Xu=Yt()}function el(t){return 0===(1&t.mode)?1:0!==(2&Cu)&&0!==Nu?Nu&-Nu:null!==vo.transition?(0===Ju&&(Ju=me()),Ju):0!==(t=_e)?t:t=void 0===(t=window.event)?16:$e(t.type)}function nl(t,e,n,r){if(50<$u)throw $u=0,Yu=null,Error(o(185));ge(t,n,r),0!==(2&Cu)&&t===Pu||(t===Pu&&(0===(2&Cu)&&(zu|=n),4===Du&&sl(t,Nu)),rl(t,r),1===n&&0===Cu&&0===(1&e.mode)&&(Uu=Yt()+500,Fi&&Ui()))}function rl(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-ae(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=de(s,e)):u<=e&&(t.expiredLanes|=s),o&=~s}}(t,e);var r=fe(t,t===Pu?Nu:0);if(0===r)null!==n&&Gt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(null!=n&&Gt(n),1===e)0===t.tag?function(t){Fi=!0,Vi(t)}(ul.bind(null,t)):Vi(ul.bind(null,t)),ai((function(){0===(6&Cu)&&Ui()})),n=null;else{switch(be(r)){case 1:n=Jt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=re}n=Pl(n,il.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function il(t,e){if(Xu=-1,Ju=0,0!==(6&Cu))throw Error(o(327));var n=t.callbackNode;if(xl()&&t.callbackNode!==n)return null;var r=fe(t,t===Pu?Nu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&t.expiredLanes)||e)e=vl(t,r);else{e=r;var i=Cu;Cu|=2;var a=pl();for(Pu===t&&Nu===e||(qu=null,Uu=Yt()+500,fl(t,e));;)try{yl();break}catch(u){dl(t,u)}xo(),Tu.current=a,Cu=i,null!==Lu?e=0:(Pu=null,Nu=0,e=Du)}if(0!==e){if(2===e&&(0!==(i=pe(t))&&(r=i,e=ol(t,i))),1===e)throw n=Ru,fl(t,0),sl(t,r),rl(t,Yt()),n;if(6===e)sl(t,r);else{if(i=t.current.alternate,0===(30&r)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(i)&&(2===(e=vl(t,r))&&(0!==(a=pe(t))&&(r=a,e=ol(t,a))),1===e))throw n=Ru,fl(t,0),sl(t,r),rl(t,Yt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(o(345));case 2:case 5:wl(t,Bu,qu);break;case 3:if(sl(t,r),(130023424&r)===r&&10<(e=Vu+500-Yt())){if(0!==fe(t,0))break;if(((i=t.suspendedLanes)&r)!==r){tl(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ri(wl.bind(null,t,Bu,qu),e);break}wl(t,Bu,qu);break;case 4:if(sl(t,r),(4194240&r)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ae(r);a=1<<s,(s=e[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Yt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Su(r/1960))-r)){t.timeoutHandle=ri(wl.bind(null,t,Bu,qu),r);break}wl(t,Bu,qu);break;default:throw Error(o(329))}}}return rl(t,Yt()),t.callbackNode===n?il.bind(null,t):null}function ol(t,e){var n=Fu;return t.current.memoizedState.isDehydrated&&(fl(t,e).flags|=256),2!==(t=vl(t,e))&&(e=Bu,Bu=n,null!==e&&al(e)),t}function al(t){null===Bu?Bu=t:Bu.push.apply(Bu,t)}function sl(t,e){for(e&=~ju,e&=~zu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ae(e),r=1<<n;t[n]=-1,e&=~r}}function ul(t){if(0!==(6&Cu))throw Error(o(327));xl();var e=fe(t,0);if(0===(1&e))return rl(t,Yt()),null;var n=vl(t,e);if(0!==t.tag&&2===n){var r=pe(t);0!==r&&(e=r,n=ol(t,r))}if(1===n)throw n=Ru,fl(t,0),sl(t,e),rl(t,Yt()),n;if(6===n)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wl(t,Bu,qu),rl(t,Yt()),null}function ll(t,e){var n=Cu;Cu|=1;try{return t(e)}finally{0===(Cu=n)&&(Uu=Yt()+500,Fi&&Ui())}}function cl(t){null!==Gu&&0===Gu.tag&&0===(6&Cu)&&xl();var e=Cu;Cu|=1;var n=Iu.transition,r=_e;try{if(Iu.transition=null,_e=1,t)return t()}finally{_e=r,Iu.transition=n,0===(6&(Cu=e))&&Ui()}}function hl(){Au=Ou.current,Ti(Ou)}function fl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,ii(n)),null!==Lu)for(n=Lu.return;null!==n;){var r=n;switch(eo(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:oa(),Ti(Pi),Ti(Ci),ha();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ti(ua);break;case 10:Eo(r.type._context);break;case 22:case 23:hl()}n=n.return}if(Pu=t,Lu=t=Ol(t.current,null),Nu=Au=e,Du=0,Ru=null,ju=zu=Mu=0,Bu=Fu=null,null!==Io){for(e=0;e<Io.length;e++)if(null!==(r=(n=Io[e]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Io=null}return t}function dl(t,e){for(;;){var n=Lu;try{if(xo(),fa.current=as,ya){for(var r=ma.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(pa=0,ga=va=ma=null,_a=!1,ba=0,ku.current=null,null===n||null===n.return){Du=1,Ru=e,Lu=null;break}t:{var a=t,s=n.return,u=n,l=e;if(e=Nu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,e),1&p.mode&&vs(a,c,e),l=c;var m=(e=p).updateQueue;if(null===m){var v=new Set;v.add(l),e.updateQueue=v}else m.add(l);break t}if(0===(1&e)){vs(a,c,e),ml();break t}l=Error(o(426))}else if(io&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,e),mo(cs(l,u));break t}}a=l=cs(l,u),4!==Du&&(Du=2),null===Fu?Fu=[a]:Fu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e,zo(a,ps(0,l,e));break t;case 1:u=l;var y=a.type,_=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Zu||!Zu.has(_)))){a.flags|=65536,e&=-e,a.lanes|=e,zo(a,ms(a,u,e));break t}}a=a.return}while(null!==a)}bl(n)}catch(b){e=b,Lu===n&&null!==n&&(Lu=n=n.return);continue}break}}function pl(){var t=Tu.current;return Tu.current=as,null===t?as:t}function ml(){0!==Du&&3!==Du&&2!==Du||(Du=4),null===Pu||0===(268435455&Mu)&&0===(268435455&zu)||sl(Pu,Nu)}function vl(t,e){var n=Cu;Cu|=2;var r=pl();for(Pu===t&&Nu===e||(qu=null,fl(t,e));;)try{gl();break}catch(i){dl(t,i)}if(xo(),Cu=n,Tu.current=r,null!==Lu)throw Error(o(261));return Pu=null,Nu=0,Du}function gl(){for(;null!==Lu;)_l(Lu)}function yl(){for(;null!==Lu&&!Qt();)_l(Lu)}function _l(t){var e=Eu(t.alternate,t,Au);t.memoizedProps=t.pendingProps,null===e?bl(t):Lu=e,ku.current=null}function bl(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Ks(n,e,Au)))return void(Lu=n)}else{if(null!==(n=Gs(n,e)))return n.flags&=32767,void(Lu=n);if(null===t)return Du=6,void(Lu=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Lu=e);Lu=e=t}while(null!==e);0===Du&&(Du=5)}function wl(t,e,n){var r=_e,i=Iu.transition;try{Iu.transition=null,_e=1,function(t,e,n,r){do{xl()}while(null!==Gu);if(0!==(6&Cu))throw Error(o(327));n=t.finishedWork;var i=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ae(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}(t,a),t===Pu&&(Lu=Pu=null,Nu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ku||(Ku=!0,Pl(ee,(function(){return xl(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Iu.transition,Iu.transition=null;var s=_e;_e=1;var u=Cu;Cu|=4,ku.current=null,function(t,e){if(ti=He,dr(t=fr())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var r=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break t}var s=0,u=-1,l=-1,c=0,h=0,f=t,d=null;e:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==a||0!==r&&3!==f.nodeType||(l=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===t)break e;if(d===n&&++c===i&&(u=s),d===a&&++h===r&&(l=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:t,selectionRange:n},He=!1,Xs=e;null!==Xs;)if(t=(e=Xs).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Xs=t;else for(;null!==Xs;){e=Xs;try{var m=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,g=m.memoizedState,y=e.stateNode,_=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:go(e.type,v),g);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(w){Sl(e,e.return,w)}if(null!==(t=e.sibling)){t.return=e.return,Xs=t;break}Xs=e.return}m=eu,eu=!1}(t,n),vu(n,t),pr(ei),He=!!ti,ei=ti=null,t.current=n,yu(n,t,i),$t(),Cu=u,_e=s,Iu.transition=a}else t.current=n;if(Ku&&(Ku=!1,Gu=t,Qu=i),0===(a=t.pendingLanes)&&(Zu=null),function(t){if(oe&&"function"===typeof oe.onCommitFiberRoot)try{oe.onCommitFiberRoot(ie,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),rl(t,Yt()),null!==e)for(r=t.onRecoverableError,n=0;n<e.length;n++)r((i=e[n]).value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,t=Wu,Wu=null,t;0!==(1&Qu)&&0!==t.tag&&xl(),0!==(1&(a=t.pendingLanes))?t===Yu?$u++:($u=0,Yu=t):$u=0,Ui()}(t,e,n,r)}finally{Iu.transition=i,_e=r}return null}function xl(){if(null!==Gu){var t=be(Qu),e=Iu.transition,n=_e;try{if(Iu.transition=null,_e=16>t?16:t,null===Gu)var r=!1;else{if(t=Gu,Gu=null,Qu=0,0!==(6&Cu))throw Error(o(331));var i=Cu;for(Cu|=4,Xs=t.current;null!==Xs;){var a=Xs,s=a.child;if(0!==(16&Xs.flags)){var u=a.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Xs=c;null!==Xs;){var h=Xs;switch(h.tag){case 0:case 11:case 15:nu(8,h,a)}var f=h.child;if(null!==f)f.return=h,Xs=f;else for(;null!==Xs;){var d=(h=Xs).sibling,p=h.return;if(ou(h),h===c){Xs=null;break}if(null!==d){d.return=p,Xs=d;break}Xs=p}}}var m=a.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}Xs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Xs=s;else t:for(;null!==Xs;){if(0!==(2048&(a=Xs).flags))switch(a.tag){case 0:case 11:case 15:nu(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Xs=y;break t}Xs=a.return}}var _=t.current;for(Xs=_;null!==Xs;){var b=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Xs=b;else t:for(s=_;null!==Xs;){if(0!==(2048&(u=Xs).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(x){Sl(u,u.return,x)}if(u===s){Xs=null;break t}var w=u.sibling;if(null!==w){w.return=u.return,Xs=w;break t}Xs=u.return}}if(Cu=i,Ui(),oe&&"function"===typeof oe.onPostCommitFiberRoot)try{oe.onPostCommitFiberRoot(ie,t)}catch(x){}r=!0}return r}finally{_e=n,Iu.transition=e}}return!1}function El(t,e,n){t=Ro(t,e=ps(0,e=cs(n,e),1),1),e=tl(),null!==t&&(ge(t,1,e),rl(t,e))}function Sl(t,e,n){if(3===t.tag)El(t,t,n);else for(;null!==e;){if(3===e.tag){El(e,t,n);break}if(1===e.tag){var r=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Zu||!Zu.has(r))){e=Ro(e,t=ms(e,t=cs(n,t),1),1),t=tl(),null!==e&&(ge(e,1,t),rl(e,t));break}}e=e.return}}function Tl(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=tl(),t.pingedLanes|=t.suspendedLanes&n,Pu===t&&(Nu&n)===n&&(4===Du||3===Du&&(130023424&Nu)===Nu&&500>Yt()-Vu?fl(t,0):ju|=n),rl(t,e)}function kl(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ce,0===(130023424&(ce<<=1))&&(ce=4194304)));var n=tl();null!==(t=Lo(t,e))&&(ge(t,e,n),rl(t,n))}function Il(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),kl(t,n)}function Cl(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(e),kl(t,n)}function Pl(t,e){return Kt(t,e)}function Ll(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nl(t,e,n,r){return new Ll(t,e,n,r)}function Al(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ol(t,e){var n=t.alternate;return null===n?((n=Nl(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Dl(t,e,n,r,i,a){var s=2;if(r=t,"function"===typeof t)Al(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case E:return Rl(n.children,i,a,e);case S:s=8,i|=8;break;case T:return(t=Nl(12,n,e,2|i)).elementType=T,t.lanes=a,t;case P:return(t=Nl(13,n,e,i)).elementType=P,t.lanes=a,t;case L:return(t=Nl(19,n,e,i)).elementType=L,t.lanes=a,t;case O:return Ml(n,i,a,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case k:s=10;break t;case I:s=9;break t;case C:s=11;break t;case N:s=14;break t;case A:s=16,r=null;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Nl(s,n,e,i)).elementType=t,e.type=r,e.lanes=a,e}function Rl(t,e,n,r){return(t=Nl(7,t,r,e)).lanes=n,t}function Ml(t,e,n,r){return(t=Nl(22,t,r,e)).elementType=O,t.lanes=n,t.stateNode={isHidden:!1},t}function zl(t,e,n){return(t=Nl(6,t,null,e)).lanes=n,t}function jl(t,e,n){return(e=Nl(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Fl(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ve(0),this.expirationTimes=ve(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ve(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bl(t,e,n,r,i,o,a,s,u){return t=new Fl(t,e,n,s,u),1===e?(e=1,!0===o&&(e|=8)):e=0,o=Nl(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ao(o),t}function Vl(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Ul(t){if(!t)return Ii;t:{if(Ut(t=t._reactInternals)!==t||1!==t.tag)throw Error(o(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Ai(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(o(171))}if(1===t.tag){var n=t.type;if(Ai(n))return Ri(t,n,e)}return e}function ql(t,e,n,r,i,o,a,s,u){return(t=Bl(n,r,!0,t,0,o,0,s,u)).context=Ul(null),n=t.current,(o=Do(r=tl(),i=el(n))).callback=void 0!==e&&null!==e?e:null,Ro(n,o,i),t.current.lanes=i,ge(t,i,r),rl(t,r),t}function Hl(t,e,n,r){var i=e.current,o=tl(),a=el(i);return n=Ul(n),null===e.context?e.context=n:e.pendingContext=n,(e=Do(o,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),null!==(t=Ro(i,e,a))&&(nl(t,i,a,o),Mo(t,i,a)),a}function Wl(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Zl(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Kl(t,e){Zl(t,e),(t=t.alternate)&&Zl(t,e)}Eu=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Pi.current)bs=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return bs=!1,function(t,e,n){switch(e.tag){case 3:Ls(e),po();break;case 5:aa(e);break;case 1:Ai(e.type)&&Mi(e);break;case 4:ia(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ki(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=e.memoizedState))return null!==r.dehydrated?(ki(ua,1&ua.current),e.flags|=128,null):0!==(n&e.child.childLanes)?zs(t,e,n):(ki(ua,1&ua.current),null!==(t=Hs(t,e,n))?t.sibling:null);ki(ua,1&ua.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(128&t.flags)){if(r)return Us(t,e,n);e.flags|=128}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(ua,ua.current),r)break;return null;case 22:case 23:return e.lanes=0,Ts(t,e,n)}return Hs(t,e,n)}(t,e,n);bs=0!==(131072&t.flags)}else bs=!1,io&&0!==(1048576&e.flags)&&Ji(e,Zi,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qs(t,e),t=e.pendingProps;var i=Ni(e,Ci.current);To(e,n),i=Sa(null,e,r,t,i,n);var a=Ta();return e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ai(r)?(a=!0,Mi(e)):a=!1,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ao(e),i.updater=Uo,e.stateNode=i,i._reactInternals=e,Zo(e,r,t,n),e=Ps(null,e,r,!0,a,n)):(e.tag=0,io&&a&&to(e),ws(null,e,i,n),e=e.child),e;case 16:r=e.elementType;t:{switch(qs(t,e),t=e.pendingProps,r=(i=r._init)(r._payload),e.type=r,i=e.tag=function(t){if("function"===typeof t)return Al(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===C)return 11;if(t===N)return 14}return 2}(r),t=go(r,t),i){case 0:e=Is(null,e,r,t,n);break t;case 1:e=Cs(null,e,r,t,n);break t;case 11:e=xs(null,e,r,t,n);break t;case 14:e=Es(null,e,r,go(r.type,t),n);break t}throw Error(o(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,Is(t,e,r,i=e.elementType===r?i:go(r,i),n);case 1:return r=e.type,i=e.pendingProps,Cs(t,e,r,i=e.elementType===r?i:go(r,i),n);case 3:t:{if(Ls(e),null===t)throw Error(o(387));r=e.pendingProps,i=(a=e.memoizedState).element,Oo(t,e),jo(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=Ns(t,e,r,n,i=cs(Error(o(423)),e));break t}if(r!==i){e=Ns(t,e,r,n,i=cs(Error(o(424)),e));break t}for(ro=li(e.stateNode.containerInfo.firstChild),no=e,io=!0,oo=null,n=Xo(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){e=Hs(t,e,n);break t}ws(t,e,r,n)}e=e.child}return e;case 5:return aa(e),null===t&&lo(e),r=e.type,i=e.pendingProps,a=null!==t?t.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(e.flags|=32),ks(t,e),ws(t,e,s,n),e.child;case 6:return null===t&&lo(e),null;case 13:return zs(t,e,n);case 4:return ia(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Yo(e,null,r,n):ws(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,xs(t,e,r,i=e.elementType===r?i:go(r,i),n);case 7:return ws(t,e,e.pendingProps,n),e.child;case 8:case 12:return ws(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,ki(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Pi.current){e=Hs(t,e,n);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Do(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),So(a.return,n,e),u.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===e.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),So(s,n,e),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,To(e,n),r=r(i=ko(i)),e.flags|=1,ws(t,e,r,n),e.child;case 14:return i=go(r=e.type,e.pendingProps),Es(t,e,r,i=go(r.type,i),n);case 15:return Ss(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:go(r,i),qs(t,e),e.tag=1,Ai(r)?(t=!0,Mi(e)):t=!1,To(e,n),Ho(e,r,i),Zo(e,r,i,n),Ps(null,e,r,!0,t,n);case 19:return Us(t,e,n);case 22:return Ts(t,e,n)}throw Error(o(156,e.tag))};var Gl="function"===typeof reportError?reportError:function(t){console.error(t)};function Ql(t){this._internalRoot=t}function $l(t){this._internalRoot=t}function Yl(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Xl(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Jl(){}function tc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var t=Wl(a);s.call(t)}}Hl(e,a,t,i)}else a=function(t,e,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var t=Wl(a);o.call(t)}}var a=ql(e,r,t,0,null,!1,0,"",Jl);return t._reactRootContainer=a,t[pi]=a.current,Ur(8===t.nodeType?t.parentNode:t),cl(),a}for(;i=t.lastChild;)t.removeChild(i);if("function"===typeof r){var s=r;r=function(){var t=Wl(u);s.call(t)}}var u=Bl(t,0,!1,null,0,!1,0,"",Jl);return t._reactRootContainer=u,t[pi]=u.current,Ur(8===t.nodeType?t.parentNode:t),cl((function(){Hl(e,u,n,r)})),u}(n,e,t,i,r);return Wl(a)}$l.prototype.render=Ql.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(o(409));Hl(t,e,null,null)},$l.prototype.unmount=Ql.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;cl((function(){Hl(null,t,null,null)})),e[pi]=null}},$l.prototype.unstable_scheduleHydration=function(t){if(t){var e=Se();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Oe.length&&0!==e&&e<Oe[n].priority;n++);Oe.splice(n,0,t),0===n&&ze(t)}},we=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(ye(e,1|n),rl(e,Yt()),0===(6&Cu)&&(Uu=Yt()+500,Ui()))}break;case 13:cl((function(){var e=Lo(t,1);if(null!==e){var n=tl();nl(e,t,1,n)}})),Kl(t,1)}},xe=function(t){if(13===t.tag){var e=Lo(t,134217728);if(null!==e)nl(e,t,134217728,tl());Kl(t,134217728)}},Ee=function(t){if(13===t.tag){var e=el(t),n=Lo(t,e);if(null!==n)nl(n,t,e,tl());Kl(t,e)}},Se=function(){return _e},Te=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}},xt=function(t,e,n){switch(e){case"input":if(X(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=wi(r);if(!i)throw Error(o(90));K(r),X(r,i)}}}break;case"textarea":ot(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},Ct=ll,Pt=cl;var ec={usingClientEntryPoint:!1,Events:[_i,bi,wi,kt,It,ll]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Wt(t))?null:t.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{ie=ic.inject(rc),oe=ic}catch(ct){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yl(e))throw Error(o(200));return Vl(t,e,null,n)},e.createRoot=function(t,e){if(!Yl(t))throw Error(o(299));var n=!1,r="",i=Gl;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(r=e.identifierPrefix),void 0!==e.onRecoverableError&&(i=e.onRecoverableError)),e=Bl(t,1,!1,null,0,n,0,r,i),t[pi]=e.current,Ur(8===t.nodeType?t.parentNode:t),new Ql(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw t=Object.keys(t).join(","),Error(o(268,t))}return t=null===(t=Wt(e))?null:t.stateNode},e.flushSync=function(t){return cl(t)},e.hydrate=function(t,e,n){if(!Xl(e))throw Error(o(200));return tc(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Yl(t))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Gl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),e=ql(e,null,t,1,null!=n?n:null,i,0,a,s),t[pi]=e.current,Ur(t),r)for(t=0;t<r.length;t++)i=(i=(n=r[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new $l(e)},e.render=function(t,e,n){if(!Xl(e))throw Error(o(200));return tc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Xl(t))throw Error(o(40));return!!t._reactRootContainer&&(cl((function(){tc(null,null,t,!1,(function(){t._reactRootContainer=null,t[pi]=null}))})),!0)},e.unstable_batchedUpdates=ll,e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xl(n))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return tc(t,e,n,!1,r)},e.version="18.2.0-next-9e3b772b8-20220608"},250:function(t,e,n){"use strict";var r=n(164);e.createRoot=r.createRoot,e.hydrateRoot=r.hydrateRoot},164:function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(463)},374:function(t,e,n){"use strict";var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(t,e,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==e.key&&(l=""+e.key),void 0!==e.ref&&(c=e.ref),e)a.call(e,r)&&!u.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:i,type:t,key:l,ref:c,props:o,_owner:s.current}}e.Fragment=o,e.jsx=l,e.jsxs=l},117:function(t,e){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function g(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||p}function y(){}function _(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},g.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=g.prototype;var b=_.prototype=new y;b.constructor=_,m(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function T(t,e,r){var i,o={},a=null,s=null;if(null!=e)for(i in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)x.call(e,i)&&!S.hasOwnProperty(i)&&(o[i]=e[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(i in u=t.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:t,key:a,ref:s,props:o,_owner:E.current}}function k(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var I=/\/+/g;function C(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function P(t,e,i,o,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=t),t=""===o?"."+C(u,0):o,w(a)?(i="",null!=t&&(i=t.replace(I,"$&/")+"/"),P(a,e,i,"",(function(t){return t}))):null!=a&&(k(a)&&(a=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+t)),e.push(a)),1;if(u=0,o=""===o?".":o+":",w(t))for(var l=0;l<t.length;l++){var c=o+C(s=t[l],l);u+=P(s,e,i,c,a)}else if(c=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=d&&t[d]||t["@@iterator"])?t:null}(t),"function"===typeof c)for(t=c.call(t),l=0;!(s=t.next()).done;)u+=P(s=s.value,e,i,c=o+C(s,l++),a);else if("object"===s)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function L(t,e,n){if(null==t)return t;var r=[],i=0;return P(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function N(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var A={current:null},O={transition:null},D={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:O,ReactCurrentOwner:E};e.Children={map:L,forEach:function(t,e,n){L(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return L(t,(function(){e++})),e},toArray:function(t){return L(t,(function(t){return t}))||[]},only:function(t){if(!k(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=g,e.Fragment=i,e.Profiler=a,e.PureComponent=_,e.StrictMode=o,e.Suspense=c,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,e.cloneElement=function(t,e,r){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=m({},t.props),o=t.key,a=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,s=E.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(l in e)x.call(e,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===e[l]&&void 0!==u?u[l]:e[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:t.type,key:o,ref:a,props:i,_owner:s}},e.createContext=function(t){return(t={$$typeof:u,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},e.createElement=T,e.createFactory=function(t){var e=T.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:l,render:t}},e.isValidElement=k,e.lazy=function(t){return{$$typeof:f,_payload:{_status:-1,_result:t},_init:N}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=O.transition;O.transition={};try{t()}finally{O.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return A.current.useCallback(t,e)},e.useContext=function(t){return A.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return A.current.useDeferredValue(t)},e.useEffect=function(t,e){return A.current.useEffect(t,e)},e.useId=function(){return A.current.useId()},e.useImperativeHandle=function(t,e,n){return A.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return A.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return A.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return A.current.useMemo(t,e)},e.useReducer=function(t,e,n){return A.current.useReducer(t,e,n)},e.useRef=function(t){return A.current.useRef(t)},e.useState=function(t){return A.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return A.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return A.current.useTransition()},e.version="18.2.0"},791:function(t,e,n){"use strict";t.exports=n(117)},184:function(t,e,n){"use strict";t.exports=n(374)},813:function(t,e){"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var r=n-1>>>1,i=t[r];if(!(0<o(i,e)))break t;t[r]=e,t[n]=i,n=r}}function r(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=t[s],l=s+1,c=t[l];if(0>o(u,n))l<i&&0>o(c,u)?(t[r]=c,t[l]=n,r=l):(t[r]=u,t[s]=n,r=s);else{if(!(l<i&&0>o(c,n)))break t;t[r]=c,t[l]=n,r=l}}}return e}function o(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var l=[],c=[],h=1,f=null,d=3,p=!1,m=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(t){for(var e=r(c);null!==e;){if(null===e.callback)i(c);else{if(!(e.startTime<=t))break;i(c),e.sortIndex=e.expirationTime,n(l,e)}e=r(c)}}function w(t){if(v=!1,b(t),!m)if(null!==r(l))m=!0,O(x);else{var e=r(c);null!==e&&D(w,e.startTime-t)}}function x(t,n){m=!1,v&&(v=!1,y(k),k=-1),p=!0;var o=d;try{for(b(n),f=r(l);null!==f&&(!(f.expirationTime>n)||t&&!P());){var a=f.callback;if("function"===typeof a){f.callback=null,d=f.priorityLevel;var s=a(f.expirationTime<=n);n=e.unstable_now(),"function"===typeof s?f.callback=s:f===r(l)&&i(l),b(n)}else i(l);f=r(l)}if(null!==f)var u=!0;else{var h=r(c);null!==h&&D(w,h.startTime-n),u=!1}return u}finally{f=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,T=null,k=-1,I=5,C=-1;function P(){return!(e.unstable_now()-C<I)}function L(){if(null!==T){var t=e.unstable_now();C=t;var n=!0;try{n=T(!0,t)}finally{n?E():(S=!1,T=null)}}else S=!1}if("function"===typeof _)E=function(){_(L)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,A=N.port2;N.port1.onmessage=L,E=function(){A.postMessage(null)}}else E=function(){g(L,0)};function O(t){T=t,S||(S=!0,E())}function D(t,n){k=g((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,O(x))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(t){switch(d){case 1:case 2:case 3:var e=3;break;default:e=d}var n=d;d=e;try{return t()}finally{d=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=d;d=t;try{return e()}finally{d=n}},e.unstable_scheduleCallback=function(t,i,o){var a=e.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,t){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return t={id:h++,callback:i,priorityLevel:t,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(t.sortIndex=o,n(c,t),null===r(l)&&t===r(c)&&(v?(y(k),k=-1):v=!0,D(w,o-a))):(t.sortIndex=s,n(l,t),m||p||(m=!0,O(x))),t},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(t){var e=d;return function(){var n=d;d=e;try{return t.apply(this,arguments)}finally{d=n}}}},296:function(t,e,n){"use strict";t.exports=n(813)}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";var t,e=n(791),r=n(250);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){if(e&&("object"===c(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return h(t)}function d(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Zy){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m(t,e){if(t){if("string"===typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||m(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(){return g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g.apply(this,arguments)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(t||(t={}));var y=function(t){return t};var _="beforeunload",b="popstate";function w(t){t.preventDefault(),t.returnValue=""}function x(){var t=[];return{get length(){return t.length},push:function(e){return t.push(e),function(){t=t.filter((function(t){return t!==e}))}},call:function(e){t.forEach((function(t){return t&&t(e)}))}}}function E(){return Math.random().toString(36).substr(2,8)}function S(t){var e=t.pathname,n=void 0===e?"/":e,r=t.search,i=void 0===r?"":r,o=t.hash,a=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function T(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}var k=(0,e.createContext)(null);var I=(0,e.createContext)(null);var C=(0,e.createContext)({outlet:null,matches:[]});function P(t,e){if(!t)throw new Error(e)}function L(t,e,n){void 0===n&&(n="/");var r=z(("string"===typeof e?T(e):e).pathname||"/",n);if(null==r)return null;var i=N(t);!function(t){t.sort((function(t,e){return t.score!==e.score?e.score-t.score:function(t,e){var n=t.length===e.length&&t.slice(0,-1).every((function(t,n){return t===e[n]}));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((function(t){return t.childrenIndex})),e.routesMeta.map((function(t){return t.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=R(i[a],r);return o}function N(t,e,n,r){return void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r=""),t.forEach((function(t,i){var o={relativePath:t.path||"",caseSensitive:!0===t.caseSensitive,childrenIndex:i,route:t};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||P(!1),o.relativePath=o.relativePath.slice(r.length));var a=j([r,o.relativePath]),s=n.concat(o);t.children&&t.children.length>0&&(!0===t.index&&P(!1),N(t.children,e,s,a)),(null!=t.path||t.index)&&e.push({path:a,score:D(a,t.index),routesMeta:s})})),e}var A=/^:\w+$/,O=function(t){return"*"===t};function D(t,e){var n=t.split("/"),r=n.length;return n.some(O)&&(r+=-2),e&&(r+=2),n.filter((function(t){return!O(t)})).reduce((function(t,e){return t+(A.test(e)?3:""===e?1:10)}),r)}function R(t,e){for(var n=t.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var s=n[a],u=a===n.length-1,l="/"===i?e:e.slice(i.length)||"/",c=M({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var h=s.route;o.push({params:r,pathname:j([i,c.pathname]),pathnameBase:F(j([i,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(i=j([i,c.pathnameBase]))}return o}function M(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});var n=function(t,e,n){void 0===e&&(e=!1);void 0===n&&(n=!0);var r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(t,e){return r.push(e),"([^\\/]+)"}));t.endsWith("*")?(r.push("*"),i+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,e?void 0:"i"),r]}(t.path,t.caseSensitive,t.end),r=v(n,2),i=r[0],o=r[1],a=e.match(i);if(!a)return null;var s=a[0],u=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:o.reduce((function(t,e,n){if("*"===e){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return t[e]=function(t,e){try{return decodeURIComponent(t)}catch(n){return t}}(l[n]||""),t}),{}),pathname:s,pathnameBase:u,pattern:t}}function z(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;var n=t.charAt(e.length);return n&&"/"!==n?null:t.slice(e.length)||"/"}var j=function(t){return t.join("/").replace(/\/\/+/g,"/")},F=function(t){return t.replace(/\/+$/,"").replace(/^\/*/,"/")};function B(){return null!=(0,e.useContext)(I)}function V(){return B()||P(!1),(0,e.useContext)(I).location}function U(t,n){return void 0===n&&(n=[]),null==t?null:t.reduceRight((function(r,i,o){return(0,e.createElement)(C.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(t.slice(0,o+1))}})}),null)}function q(t){P(!1)}function H(n){var r=n.basename,i=void 0===r?"/":r,o=n.children,a=void 0===o?null:o,s=n.location,u=n.navigationType,l=void 0===u?t.Pop:u,c=n.navigator,h=n.static,f=void 0!==h&&h;B()&&P(!1);var d=F(i),p=(0,e.useMemo)((function(){return{basename:d,navigator:c,static:f}}),[d,c,f]);"string"===typeof s&&(s=T(s));var m=s,v=m.pathname,g=void 0===v?"/":v,y=m.search,_=void 0===y?"":y,b=m.hash,w=void 0===b?"":b,x=m.state,E=void 0===x?null:x,S=m.key,C=void 0===S?"default":S,L=(0,e.useMemo)((function(){var t=z(g,d);return null==t?null:{pathname:t,search:_,hash:w,state:E,key:C}}),[d,g,_,w,E,C]);return null==L?null:(0,e.createElement)(k.Provider,{value:p},(0,e.createElement)(I.Provider,{children:a,value:{location:L,navigationType:l}}))}function W(t){var n=t.children,r=t.location;return function(t,n){B()||P(!1);var r,i=(0,e.useContext)(C).matches,o=i[i.length-1],a=o?o.params:{},s=(o&&o.pathname,o?o.pathnameBase:"/"),u=(o&&o.route,V());if(n){var l,c="string"===typeof n?T(n):n;"/"===s||(null==(l=c.pathname)?void 0:l.startsWith(s))||P(!1),r=c}else r=u;var h=r.pathname||"/",f=L(t,{pathname:"/"===s?h:h.slice(s.length)||"/"});return U(f&&f.map((function(t){return Object.assign({},t,{params:Object.assign({},a,t.params),pathname:j([s,t.pathname]),pathnameBase:"/"===t.pathnameBase?s:j([s,t.pathnameBase])})})),i)}(Z(n),r)}function Z(t){var n=[];return e.Children.forEach(t,(function(t){if((0,e.isValidElement)(t))if(t.type!==e.Fragment){t.type!==q&&P(!1);var r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=Z(t.props.children)),n.push(r)}else n.push.apply(n,Z(t.props.children))})),n}function K(n){var r=n.basename,i=n.children,o=n.window,a=(0,e.useRef)();null==a.current&&(a.current=function(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function o(){var t=r.location,e=t.pathname,n=t.search,o=t.hash,a=i.state||{};return[a.idx,y({pathname:e,search:n,hash:o,state:a.usr||null,key:a.key||"default"})]}var a=null;r.addEventListener(b,(function(){if(a)f.call(a),a=null;else{var e=t.Pop,n=o(),r=n[0],i=n[1];if(f.length){if(null!=r){var s=l-r;s&&(a={action:e,location:i,retry:function(){I(-1*s)}},I(s))}}else k(e)}}));var s=t.Pop,u=o(),l=u[0],c=u[1],h=x(),f=x();function d(t){return"string"===typeof t?t:S(t)}function p(t,e){return void 0===e&&(e=null),y(g({pathname:c.pathname,hash:"",search:""},"string"===typeof t?T(t):t,{state:e,key:E()}))}function m(t,e){return[{usr:t.state,key:t.key,idx:e},d(t)]}function v(t,e,n){return!f.length||(f.call({action:t,location:e,retry:n}),!1)}function k(t){s=t;var e=o();l=e[0],c=e[1],h.call({action:s,location:c})}function I(t){i.go(t)}null==l&&(l=0,i.replaceState(g({},i.state,{idx:l}),""));var C={get action(){return s},get location(){return c},createHref:d,push:function e(n,o){var a=t.Push,s=p(n,o);if(v(a,s,(function(){e(n,o)}))){var u=m(s,l+1),c=u[0],h=u[1];try{i.pushState(c,"",h)}catch(f){r.location.assign(h)}k(a)}},replace:function e(n,r){var o=t.Replace,a=p(n,r);if(v(o,a,(function(){e(n,r)}))){var s=m(a,l),u=s[0],c=s[1];i.replaceState(u,"",c),k(o)}},go:I,back:function(){I(-1)},forward:function(){I(1)},listen:function(t){return h.push(t)},block:function(t){var e=f.push(t);return 1===f.length&&r.addEventListener(_,w),function(){e(),f.length||r.removeEventListener(_,w)}}};return C}({window:o}));var s=a.current,u=v((0,e.useState)({action:s.action,location:s.location}),2),l=u[0],c=u[1];return(0,e.useLayoutEffect)((function(){return s.listen(c)}),[s]),(0,e.createElement)(H,{basename:r,children:i,location:l.location,navigationType:l.action,navigator:s})}function G(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(n),!0).forEach((function(e){G(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Y(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function X(t,e){if(null==t)return{};var n,r,i=Y(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var J=n(694),tt=n.n(J),et=n(184),nt=["xxl","xl","lg","md","sm","xs"],rt=e.createContext({prefixes:{},breakpoints:nt,minBreakpoint:"xs"});rt.Consumer,rt.Provider;function it(t,n){var r=(0,e.useContext)(rt).prefixes;return t||r[n]||n}var ot=["bsPrefix","fluid","as","className"],at=e.forwardRef((function(t,e){var n=t.bsPrefix,r=t.fluid,i=t.as,o=void 0===i?"div":i,a=t.className,s=X(t,ot),u=it(n,"container"),l="string"===typeof r?"-".concat(r):"-fluid";return(0,et.jsx)(o,$($({ref:e},s),{},{className:tt()(a,r?"".concat(u).concat(l):u)}))}));at.displayName="Container",at.defaultProps={fluid:!1};var st=at;n(573),n(176);function ut(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function lt(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}function ct(t,n){return Object.keys(n).reduce((function(r,i){var o,a=r,s=a[ut(i)],u=a[i],l=Y(a,[ut(i),i].map(lt)),c=n[i],h=function(t,n,r){var i=(0,e.useRef)(void 0!==t),o=(0,e.useState)(n),a=o[0],s=o[1],u=void 0!==t,l=i.current;return i.current=u,!u&&l&&a!==n&&s(n),[u?t:a,(0,e.useCallback)((function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[t].concat(n)),s(t)}),[r])]}(u,s,t[c]),f=h[0],d=h[1];return g({},l,((o={})[i]=f,o[c]=d,o))}),t)}function ht(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==t&&void 0!==t&&this.setState(t)}function ft(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!==n&&void 0!==n?n:null}.bind(this))}function dt(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}ht.__suppressDeprecationWarning=!0,ft.__suppressDeprecationWarning=!0,dt.__suppressDeprecationWarning=!0;var pt=Function.prototype.bind.call(Function.prototype.call,[].slice);function mt(t,e){return pt(t.querySelectorAll(e))}var vt=function(t){return t&&"function"!==typeof t?function(e){t.current=e}:t};var gt=function(t,n){return(0,e.useMemo)((function(){return function(t,e){var n=vt(t),r=vt(e);return function(t){n&&n(t),r&&r(t)}}(t,n)}),[t,n])},yt=e.createContext(null);yt.displayName="NavContext";var _t=yt,bt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=t?String(t):e||null},wt=e.createContext(null),xt=e.createContext(null);function Et(t){return"".concat("data-rr-ui-").concat(t)}var St=function(t){var n=(0,e.useRef)(t);return(0,e.useEffect)((function(){n.current=t}),[t]),n};function Tt(t){var n=St(t);return(0,e.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var kt=["as","disabled"];function It(t){var e=t.tagName,n=t.disabled,r=t.href,i=t.target,o=t.rel,a=t.role,s=t.onClick,u=t.tabIndex,l=void 0===u?0:u,c=t.type;e||(e=null!=r||null!=i||null!=o?"a":"button");var h={tagName:e};if("button"===e)return[{type:c||"button",disabled:n},h];var f=function(t){(n||"a"===e&&function(t){return!t||"#"===t.trim()}(r))&&t.preventDefault(),n?t.stopPropagation():null==s||s(t)};return"a"===e&&(r||(r="#"),n&&(r=void 0)),[{role:null!=a?a:"button",disabled:void 0,tabIndex:n?void 0:l,href:r,target:"a"===e?i:void 0,"aria-disabled":n||void 0,rel:"a"===e?o:void 0,onClick:f,onKeyDown:function(t){" "===t.key&&(t.preventDefault(),f(t))}},h]}var Ct=e.forwardRef((function(t,e){var n=t.as,r=t.disabled,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,kt),o=v(It(Object.assign({tagName:n,disabled:r},i)),2),a=o[0],s=o[1].tagName;return(0,et.jsx)(s,Object.assign({},i,a,{ref:e}))}));Ct.displayName="Button";var Pt=Ct,Lt=["as","active","eventKey"];function Nt(t){var n=t.key,r=t.onClick,i=t.active,o=t.id,a=t.role,s=t.disabled,u=(0,e.useContext)(wt),l=(0,e.useContext)(_t),c=(0,e.useContext)(xt),h=i,f={role:a};if(l){a||"tablist"!==l.role||(f.role="tab");var d=l.getControllerId(null!=n?n:null),p=l.getControlledId(null!=n?n:null);f[Et("event-key")]=n,f.id=d||o,!(h=null==i&&null!=n?l.activeKey===n:i)&&(null!=c&&c.unmountOnExit||null!=c&&c.mountOnEnter)||(f["aria-controls"]=p)}return"tab"===f.role&&(f["aria-selected"]=h,h||(f.tabIndex=-1),s&&(f.tabIndex=-1,f["aria-disabled"]=!0)),f.onClick=Tt((function(t){s||(null==r||r(t),null!=n&&u&&!t.isPropagationStopped()&&u(n,t))})),[f,{isActive:h}]}var At=e.forwardRef((function(t,e){var n=t.as,r=void 0===n?Pt:n,i=t.active,o=t.eventKey,a=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,Lt),s=v(Nt(Object.assign({key:bt(o,a.href),active:i},a)),2),u=s[0],l=s[1];return u[Et("active")]=l.isActive,(0,et.jsx)(r,Object.assign({},a,u,{ref:e}))}));At.displayName="NavItem";var Ot=At,Dt=["as","onSelect","activeKey","role","onKeyDown"];var Rt=function(){},Mt=Et("event-key"),zt=e.forwardRef((function(t,n){var r,i,o=t.as,a=void 0===o?"div":o,s=t.onSelect,u=t.activeKey,l=t.role,c=t.onKeyDown,h=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,Dt),f=(0,e.useReducer)((function(t){return!t}),!1)[1],d=(0,e.useRef)(!1),p=(0,e.useContext)(wt),m=(0,e.useContext)(xt);m&&(l=l||"tablist",u=m.activeKey,r=m.getControlledId,i=m.getControllerId);var v=(0,e.useRef)(null),g=function(t){var e=v.current;if(!e)return null;var n=mt(e,"[".concat(Mt,"]:not([aria-disabled=true])")),r=e.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var i=n.indexOf(r);if(-1===i)return null;var o=i+t;return o>=n.length&&(o=0),o<0&&(o=n.length-1),n[o]},y=function(t,e){null!=t&&(null==s||s(t,e),null==p||p(t,e))};(0,e.useEffect)((function(){if(v.current&&d.current){var t=v.current.querySelector("[".concat(Mt,"][aria-selected=true]"));null==t||t.focus()}d.current=!1}));var _=gt(n,v);return(0,et.jsx)(wt.Provider,{value:y,children:(0,et.jsx)(_t.Provider,{value:{role:l,activeKey:bt(u),getControlledId:r||Rt,getControllerId:i||Rt},children:(0,et.jsx)(a,Object.assign({},h,{onKeyDown:function(t){if(null==c||c(t),m){var e,n;switch(t.key){case"ArrowLeft":case"ArrowUp":e=g(-1);break;case"ArrowRight":case"ArrowDown":e=g(1);break;default:return}if(e)t.preventDefault(),y(e.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,t),d.current=!0,f()}},ref:_,role:l}))})})}));zt.displayName="Nav";var jt=Object.assign(zt,{Item:Ot}),Ft=e.createContext(null);Ft.displayName="NavbarContext";var Bt=Ft,Vt=e.createContext(null);Vt.displayName="CardHeaderContext";var Ut=Vt,qt=/-(.)/g;var Ht=["className","bsPrefix","as"],Wt=function(t){return t[0].toUpperCase()+(e=t,e.replace(qt,(function(t,e){return e.toUpperCase()}))).slice(1);var e};function Zt(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?Wt(t):r,o=n.Component,a=n.defaultProps,s=e.forwardRef((function(e,n){var r=e.className,i=e.bsPrefix,a=e.as,s=void 0===a?o||"div":a,u=X(e,Ht),l=it(i,t);return(0,et.jsx)(s,$({ref:n,className:tt()(r,l)},u))}));return s.defaultProps=a,s.displayName=i,s}var Kt=Zt("nav-item");var Gt="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,Qt="undefined"!==typeof document||Gt?e.useLayoutEffect:e.useEffect;new WeakMap;var $t=["onKeyDown"];var Yt=e.forwardRef((function(t,e){var n,r=t.onKeyDown,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,$t),o=v(It(Object.assign({tagName:"a"},i)),1)[0],a=Tt((function(t){o.onKeyDown(t),null==r||r(t)}));return(n=i.href)&&"#"!==n.trim()&&"button"!==i.role?(0,et.jsx)("a",Object.assign({ref:e},i,{onKeyDown:r})):(0,et.jsx)("a",Object.assign({ref:e},i,o,{onKeyDown:a}))}));Yt.displayName="Anchor";var Xt=Yt,Jt=["bsPrefix","className","as","active","eventKey"],te=e.forwardRef((function(t,e){var n=t.bsPrefix,r=t.className,i=t.as,o=void 0===i?Xt:i,a=t.active,s=t.eventKey,u=X(t,Jt);n=it(n,"nav-link");var l=v(Nt($({key:bt(s,u.href),active:a},u)),2),c=l[0],h=l[1];return(0,et.jsx)(o,$($($({},u),c),{},{ref:e,className:tt()(r,n,u.disabled&&"disabled",h.isActive&&"active")}))}));te.displayName="NavLink",te.defaultProps={disabled:!1};var ee=te,ne=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],re=e.forwardRef((function(t,n){var r,i,o,a=ct(t,{activeKey:"onSelect"}),s=a.as,u=void 0===s?"div":s,l=a.bsPrefix,c=a.variant,h=a.fill,f=a.justify,d=a.navbar,p=a.navbarScroll,m=a.className,v=a.activeKey,g=X(a,ne),y=it(l,"nav"),_=!1,b=(0,e.useContext)(Bt),w=(0,e.useContext)(Ut);return b?(i=b.bsPrefix,_=null==d||d):w&&(o=w.cardHeaderBsPrefix),(0,et.jsx)(jt,$({as:u,ref:n,activeKey:v,className:tt()(m,(r={},G(r,y,!_),G(r,"".concat(i,"-nav"),_),G(r,"".concat(i,"-nav-scroll"),_&&p),G(r,"".concat(o,"-").concat(c),!!o),G(r,"".concat(y,"-").concat(c),!!c),G(r,"".concat(y,"-fill"),h),G(r,"".concat(y,"-justified"),f),r))},g))}));re.displayName="Nav",re.defaultProps={justify:!1,fill:!1};var ie=Object.assign(re,{Item:Kt,Link:ee}),oe=["bsPrefix","className","as"],ae=e.forwardRef((function(t,e){var n=t.bsPrefix,r=t.className,i=t.as,o=X(t,oe);n=it(n,"navbar-brand");var a=i||(o.href?"a":"span");return(0,et.jsx)(a,$($({},o),{},{ref:e,className:tt()(r,n)}))}));ae.displayName="NavbarBrand";var se=ae;function ue(t){return t&&t.ownerDocument||document}function le(t,e){return function(t){var e=ue(t);return e&&e.defaultView||window}(t).getComputedStyle(t,e)}var ce=/([A-Z])/g;var he=/^ms-/;function fe(t){return function(t){return t.replace(ce,"-$1").toLowerCase()}(t).replace(he,"-ms-")}var de=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var pe=function(t,e){var n="",r="";if("string"===typeof e)return t.style.getPropertyValue(fe(e))||le(t).getPropertyValue(fe(e));Object.keys(e).forEach((function(i){var o=e[i];o||0===o?!function(t){return!(!t||!de.test(t))}(i)?n+=fe(i)+": "+o+";":r+=i+"("+o+") ":t.style.removeProperty(fe(i))})),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n};var me=n(164),ve=!1,ge=e.createContext(null),ye="unmounted",_e="exited",be="entering",we="entered",xe="exiting",Ee=function(t){var n,r;function i(e,n){var r;r=t.call(this,e,n)||this;var i,o=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(i=_e,r.appearStatus=be):i=we:i=e.unmountOnExit||e.mountOnEnter?ye:_e,r.state={status:i},r.nextCallback=null,r}r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,s(n,r),i.getDerivedStateFromProps=function(t,e){return t.in&&e.status===ye?{status:_e}:null};var o=i.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==be&&n!==we&&(e=be):n!==be&&n!==we||(e=xe)}this.updateStatus(!1,e)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!==typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},o.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e)if(this.cancelNextCallback(),e===be){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:me.findDOMNode(this);n&&function(t){t.scrollTop}(n)}this.performEnter(t)}else this.performExit();else this.props.unmountOnExit&&this.state.status===_e&&this.setState({status:ye})},o.performEnter=function(t){var e=this,n=this.props.enter,r=this.context?this.context.isMounting:t,i=this.props.nodeRef?[r]:[me.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!t&&!n||ve?this.safeSetState({status:we},(function(){e.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:be},(function(){e.props.onEntering(o,a),e.onTransitionEnd(u,(function(){e.safeSetState({status:we},(function(){e.props.onEntered(o,a)}))}))})))},o.performExit=function(){var t=this,e=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:me.findDOMNode(this);e&&!ve?(this.props.onExit(r),this.safeSetState({status:xe},(function(){t.props.onExiting(r),t.onTransitionEnd(n.exit,(function(){t.safeSetState({status:_e},(function(){t.props.onExited(r)}))}))}))):this.safeSetState({status:_e},(function(){t.props.onExited(r)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},o.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(t,e){this.setNextCallback(e);var n=this.props.nodeRef?this.props.nodeRef.current:me.findDOMNode(this),r=null==t&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},o.render=function(){var t=this.state.status;if(t===ye)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,Y(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(ge.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},i}(e.Component);function Se(){}Ee.contextType=ge,Ee.propTypes={},Ee.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Se,onEntering:Se,onEntered:Se,onExit:Se,onExiting:Se,onExited:Se},Ee.UNMOUNTED=ye,Ee.EXITED=_e,Ee.ENTERING=be,Ee.ENTERED=we,Ee.EXITING=xe;var Te=Ee,ke=!("undefined"===typeof window||!window.document||!window.document.createElement),Ie=!1,Ce=!1;try{var Pe={get passive(){return Ie=!0},get once(){return Ce=Ie=!0}};ke&&(window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,!0))}catch(Zy){}var Le=function(t,e,n,r){if(r&&"boolean"!==typeof r&&!Ce){var i=r.once,o=r.capture,a=n;!Ce&&i&&(a=n.__once||function t(r){this.removeEventListener(e,t,o),n.call(this,r)},n.__once=a),t.addEventListener(e,a,Ie?r:o)}t.addEventListener(e,n,r)};var Ne=function(t,e,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)};var Ae=function(t,e,n,r){return Le(t,e,n,r),function(){Ne(t,e,n,r)}};function Oe(t,e,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(t,e,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}(t,"transitionend",!0)}),e+n),o=Ae(t,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),o()}}function De(t,e,n,r){null==n&&(n=function(t){var e=pe(t,"transitionDuration")||"",n=-1===e.indexOf("ms")?1e3:1;return parseFloat(e)*n}(t)||0);var i=Oe(t,n,r),o=Ae(t,"transitionend",e);return function(){i(),o()}}function Re(t,e){var n=pe(t,e)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Me(t,e){var n=Re(t,"transitionDuration"),r=Re(t,"transitionDelay"),i=De(t,(function(n){n.target===t&&(i(),e(n))}),n+r)}var ze=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((function(t){return null!=t})).reduce((function(t,e){if("function"!==typeof e)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r),e.apply(this,r)}}),null)};function je(t){t.offsetHeight}var Fe,Be=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],Ve=e.forwardRef((function(t,n){var r=t.onEnter,i=t.onEntering,o=t.onEntered,a=t.onExit,s=t.onExiting,u=t.onExited,l=t.addEndListener,c=t.children,h=t.childRef,f=X(t,Be),d=(0,e.useRef)(null),p=gt(d,h),m=function(t){var e;p((e=t)&&"setState"in e?me.findDOMNode(e):null!=e?e:null)},v=function(t){return function(e){t&&d.current&&t(d.current,e)}},g=(0,e.useCallback)(v(r),[r]),y=(0,e.useCallback)(v(i),[i]),_=(0,e.useCallback)(v(o),[o]),b=(0,e.useCallback)(v(a),[a]),w=(0,e.useCallback)(v(s),[s]),x=(0,e.useCallback)(v(u),[u]),E=(0,e.useCallback)(v(l),[l]);return(0,et.jsx)(Te,$($({ref:n},f),{},{onEnter:g,onEntered:_,onEntering:y,onExit:b,onExited:x,onExiting:w,addEndListener:E,nodeRef:d,children:"function"===typeof c?function(t,e){return c(t,$($({},e),{},{ref:m}))}:e.cloneElement(c,{ref:m})}))})),Ue=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],qe={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function He(t,e){var n=e["offset".concat(t[0].toUpperCase()).concat(t.slice(1))],r=qe[t];return n+parseInt(pe(e,r[0]),10)+parseInt(pe(e,r[1]),10)}var We=(G(Fe={},_e,"collapse"),G(Fe,xe,"collapsing"),G(Fe,be,"collapsing"),G(Fe,we,"collapse show"),Fe),Ze={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:He},Ke=e.forwardRef((function(t,n){var r=t.onEnter,i=t.onEntering,o=t.onEntered,a=t.onExit,s=t.onExiting,u=t.className,l=t.children,c=t.dimension,h=void 0===c?"height":c,f=t.getDimensionValue,d=void 0===f?He:f,p=X(t,Ue),m="function"===typeof h?h():h,v=(0,e.useMemo)((function(){return ze((function(t){t.style[m]="0"}),r)}),[m,r]),g=(0,e.useMemo)((function(){return ze((function(t){var e="scroll".concat(m[0].toUpperCase()).concat(m.slice(1));t.style[m]="".concat(t[e],"px")}),i)}),[m,i]),y=(0,e.useMemo)((function(){return ze((function(t){t.style[m]=null}),o)}),[m,o]),_=(0,e.useMemo)((function(){return ze((function(t){t.style[m]="".concat(d(m,t),"px"),je(t)}),a)}),[a,d,m]),b=(0,e.useMemo)((function(){return ze((function(t){t.style[m]=null}),s)}),[m,s]);return(0,et.jsx)(Ve,$($({ref:n,addEndListener:Me},p),{},{"aria-expanded":p.role?p.in:null,onEnter:v,onEntering:g,onEntered:y,onExit:_,onExiting:b,childRef:l.ref,children:function(t,n){return e.cloneElement(l,$($({},n),{},{className:tt()(u,l.props.className,We[t],"width"===m&&"collapse-horizontal")}))}}))}));Ke.defaultProps=Ze;var Ge=Ke,Qe=["children","bsPrefix"],$e=e.forwardRef((function(t,n){var r=t.children,i=t.bsPrefix,o=X(t,Qe);i=it(i,"navbar-collapse");var a=(0,e.useContext)(Bt);return(0,et.jsx)(Ge,$($({in:!(!a||!a.expanded)},o),{},{children:(0,et.jsx)("div",{ref:n,className:i,children:r})}))}));$e.displayName="NavbarCollapse";var Ye=$e,Xe=["bsPrefix","className","children","label","as","onClick"],Je=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.children,a=t.label,s=t.as,u=void 0===s?"button":s,l=t.onClick,c=X(t,Xe);r=it(r,"navbar-toggler");var h=(0,e.useContext)(Bt)||{},f=h.onToggle,d=h.expanded,p=Tt((function(t){l&&l(t),f&&f()}));return"button"===u&&(c.type="button"),(0,et.jsx)(u,$($({},c),{},{ref:n,onClick:p,"aria-label":a,className:tt()(i,r,!d&&"collapsed"),children:o||(0,et.jsx)("span",{className:"".concat(r,"-icon")})}))}));Je.displayName="NavbarToggle",Je.defaultProps={label:"Toggle navigation"};var tn=Je,en=new WeakMap,nn=function(t,e){if(t&&e){var n=en.get(e)||new Map;en.set(e,n);var r=n.get(t);return r||((r=e.matchMedia(t)).refCount=0,n.set(r.media,r)),r}};function rn(t,n){void 0===n&&(n="undefined"===typeof window?void 0:window);var r=nn(t,n),i=(0,e.useState)((function(){return!!r&&r.matches})),o=i[0],a=i[1];return Qt((function(){var e=nn(t,n);if(!e)return a(!1);var r=en.get(n),i=function(){a(e.matches)};return e.refCount++,e.addListener(i),i(),function(){e.removeListener(i),e.refCount--,e.refCount<=0&&(null==r||r.delete(e.media)),e=void 0}}),[t]),o}var on=function(t){var n=Object.keys(t);function r(t,e){return t===e?e:t?t+" and "+e:e}function i(e){var r=function(t){return n[Math.min(n.indexOf(t)+1,n.length-1)]}(e),i=t[r];return"(max-width: "+(i="number"===typeof i?i-.2+"px":"calc("+i+" - 0.2px)")+")"}return function(n,o,a){var s,u;"object"===typeof n?(s=n,a=o,o=!0):((u={})[n]=o=o||!0,s=u);var l=(0,e.useMemo)((function(){return Object.entries(s).reduce((function(e,n){var o=n[0],a=n[1];return"up"!==a&&!0!==a||(e=r(e,function(e){var n=t[e];return"number"===typeof n&&(n+="px"),"(min-width: "+n+")"}(o))),"down"!==a&&!0!==a||(e=r(e,i(o))),e}),"")}),[JSON.stringify(s)]);return rn(l,a)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function an(t){void 0===t&&(t=ue());try{var e=t.activeElement;return e&&e.nodeName?e:null}catch(Zy){return t.body}}function sn(t,e){return t.contains?t.contains(e):t.compareDocumentPosition?t===e||!!(16&t.compareDocumentPosition(e)):void 0}function un(t){var n=function(t){var n=(0,e.useRef)(t);return n.current=t,n}(t);(0,e.useEffect)((function(){return function(){return n.current()}}),[])}function ln(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||m(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var cn=Et("modal-open"),hn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.ownerDocument,r=e.handleContainerOverflow,o=void 0===r||r,a=e.isRTL,s=void 0!==a&&a;i(this,t),this.handleContainerOverflow=o,this.isRTL=s,this.modals=[],this.ownerDocument=n}return a(t,[{key:"getScrollbarWidth",value:function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(t){}},{key:"removeModalAttributes",value:function(t){}},{key:"setContainerStyle",value:function(t){var e={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();t.style=G({overflow:r.style.overflow},n,r.style[n]),t.scrollBarWidth&&(e[n]="".concat(parseInt(pe(r,n)||"0",10)+t.scrollBarWidth,"px")),r.setAttribute(cn,""),pe(r,e)}},{key:"reset",value:function(){var t=this;ln(this.modals).forEach((function(e){return t.remove(e)}))}},{key:"removeContainerStyle",value:function(t){var e=this.getElement();e.removeAttribute(cn),Object.assign(e.style,t.style)}},{key:"add",value:function(t){var e=this.modals.indexOf(t);return-1!==e?e:(e=this.modals.length,this.modals.push(t),this.setModalAttributes(t),0!==e||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),e)}},{key:"remove",value:function(t){var e=this.modals.indexOf(t);-1!==e&&(this.modals.splice(e,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}},{key:"isTopModal",value:function(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}]),t}(),fn=hn,dn=(0,e.createContext)(ke?window:void 0);dn.Provider;function pn(){return(0,e.useContext)(dn)}var mn=function(t,e){var n;return ke?null==t?(e||ue()).body:("function"===typeof t&&(t=t()),t&&"current"in t&&(t=t.current),null!=(n=t)&&n.nodeType&&t||null):null};var vn,gn=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function yn(t){var n=pn(),r=t||function(t){return vn||(vn=new fn({ownerDocument:null==t?void 0:t.document})),vn}(n),i=(0,e.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return r.add(i.current)},remove:function(){return r.remove(i.current)},isTopModal:function(){return r.isTopModal(i.current)},setDialogRef:(0,e.useCallback)((function(t){i.current.dialog=t}),[]),setBackdropRef:(0,e.useCallback)((function(t){i.current.backdrop=t}),[])})}var _n=(0,e.forwardRef)((function(t,n){var r=t.show,i=void 0!==r&&r,o=t.role,a=void 0===o?"dialog":o,s=t.className,u=t.style,l=t.children,c=t.backdrop,h=void 0===c||c,f=t.keyboard,d=void 0===f||f,p=t.onBackdropClick,m=t.onEscapeKeyDown,g=t.transition,y=t.backdropTransition,_=t.autoFocus,b=void 0===_||_,w=t.enforceFocus,x=void 0===w||w,E=t.restoreFocus,S=void 0===E||E,T=t.restoreFocusOptions,k=t.renderDialog,I=t.renderBackdrop,C=void 0===I?function(t){return(0,et.jsx)("div",Object.assign({},t))}:I,P=t.manager,L=t.container,N=t.onShow,A=t.onHide,O=void 0===A?function(){}:A,D=t.onExit,R=t.onExited,M=t.onExiting,z=t.onEnter,j=t.onEntering,F=t.onEntered,B=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,gn),V=function(t,n){var r=pn(),i=v((0,e.useState)((function(){return mn(t,null==r?void 0:r.document)})),2),o=i[0],a=i[1];if(!o){var s=mn(t);s&&a(s)}return(0,e.useEffect)((function(){n&&o&&n(o)}),[n,o]),(0,e.useEffect)((function(){var e=mn(t);e!==o&&a(e)}),[t,o]),o}(L),U=yn(P),q=function(){var t=(0,e.useRef)(!0),n=(0,e.useRef)((function(){return t.current}));return(0,e.useEffect)((function(){return t.current=!0,function(){t.current=!1}}),[]),n.current}(),H=function(t){var n=(0,e.useRef)(null);return(0,e.useEffect)((function(){n.current=t})),n.current}(i),W=v((0,e.useState)(!i),2),Z=W[0],K=W[1],G=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,(function(){return U}),[U]),ke&&!H&&i&&(G.current=an()),g||i||Z?i&&Z&&K(!1):K(!0);var Q=Tt((function(){if(U.add(),nt.current=Ae(document,"keydown",J),tt.current=Ae(document,"focus",(function(){return setTimeout(Y)}),!0),N&&N(),b){var t=an(document);U.dialog&&t&&!sn(U.dialog,t)&&(G.current=t,U.dialog.focus())}})),$=Tt((function(){var t;(U.remove(),null==nt.current||nt.current(),null==tt.current||tt.current(),S)&&(null==(t=G.current)||null==t.focus||t.focus(T),G.current=null)}));(0,e.useEffect)((function(){i&&V&&Q()}),[i,V,Q]),(0,e.useEffect)((function(){Z&&$()}),[Z,$]),un((function(){$()}));var Y=Tt((function(){if(x&&q()&&U.isTopModal()){var t=an();U.dialog&&t&&!sn(U.dialog,t)&&U.dialog.focus()}})),X=Tt((function(t){t.target===t.currentTarget&&(null==p||p(t),!0===h&&O())})),J=Tt((function(t){d&&27===t.keyCode&&U.isTopModal()&&(null==m||m(t),t.defaultPrevented||O())})),tt=(0,e.useRef)(),nt=(0,e.useRef)(),rt=g;if(!V||!(i||rt&&!Z))return null;var it=Object.assign({role:a,ref:U.setDialogRef,"aria-modal":"dialog"===a||void 0},B,{style:u,className:s,tabIndex:-1}),ot=k?k(it):(0,et.jsx)("div",Object.assign({},it,{children:e.cloneElement(l,{role:"document"})}));rt&&(ot=(0,et.jsx)(rt,{appear:!0,unmountOnExit:!0,in:!!i,onExit:D,onExiting:M,onExited:function(){K(!0),null==R||R.apply(void 0,arguments)},onEnter:z,onEntering:j,onEntered:F,children:ot}));var at=null;if(h){var st=y;at=C({ref:U.setBackdropRef,onClick:X}),st&&(at=(0,et.jsx)(st,{appear:!0,in:!!i,children:at}))}return(0,et.jsx)(et.Fragment,{children:me.createPortal((0,et.jsxs)(et.Fragment,{children:[at,ot]}),V)})}));_n.displayName="Modal";var bn,wn=Object.assign(_n,{Manager:fn}),xn=["className","children","transitionClasses"],En=(G(bn={},be,"show"),G(bn,we,"show"),bn),Sn=e.forwardRef((function(t,n){var r=t.className,i=t.children,o=t.transitionClasses,a=void 0===o?{}:o,s=X(t,xn),u=(0,e.useCallback)((function(t,e){je(t),null==s.onEnter||s.onEnter(t,e)}),[s]);return(0,et.jsx)(Ve,$($({ref:n,addEndListener:Me},s),{},{onEnter:u,childRef:i.ref,children:function(t,n){return e.cloneElement(i,$($({},n),{},{className:tt()("fade",r,i.props.className,En[t],a[t])}))}}))}));Sn.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Sn.displayName="Fade";var Tn,kn=Sn,In=Zt("offcanvas-body"),Cn=["bsPrefix","className","children"],Pn=(G(Tn={},be,"show"),G(Tn,we,"show"),Tn),Ln=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.children,a=X(t,Cn);return r=it(r,"offcanvas"),(0,et.jsx)(Ve,$($({ref:n,addEndListener:Me},a),{},{childRef:o.ref,children:function(t,n){return e.cloneElement(o,$($({},n),{},{className:tt()(i,o.props.className,(t===be||t===xe)&&"".concat(r,"-toggling"),Pn[t])}))}}))}));Ln.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Ln.displayName="OffcanvasToggling";var Nn=Ln,An=e.createContext({onHide:function(){}}),On=n(7),Dn=n.n(On),Rn=["className","variant"],Mn={"aria-label":Dn().string,onClick:Dn().func,variant:Dn().oneOf(["white"])},zn=e.forwardRef((function(t,e){var n=t.className,r=t.variant,i=X(t,Rn);return(0,et.jsx)("button",$({ref:e,type:"button",className:tt()("btn-close",r&&"btn-close-".concat(r),n)},i))}));zn.displayName="CloseButton",zn.propTypes=Mn,zn.defaultProps={"aria-label":"Close"};var jn=zn,Fn=["closeLabel","closeVariant","closeButton","onHide","children"],Bn=e.forwardRef((function(t,n){var r=t.closeLabel,i=t.closeVariant,o=t.closeButton,a=t.onHide,s=t.children,u=X(t,Fn),l=(0,e.useContext)(An),c=Tt((function(){null==l||l.onHide(),null==a||a()}));return(0,et.jsxs)("div",$($({ref:n},u),{},{children:[s,o&&(0,et.jsx)(jn,{"aria-label":r,variant:i,onClick:c})]}))}));Bn.defaultProps={closeLabel:"Close",closeButton:!1};var Vn=Bn,Un=["bsPrefix","className"],qn=e.forwardRef((function(t,e){var n=t.bsPrefix,r=t.className,i=X(t,Un);return n=it(n,"offcanvas-header"),(0,et.jsx)(Vn,$($({ref:e},i),{},{className:tt()(r,n)}))}));qn.displayName="OffcanvasHeader",qn.defaultProps={closeLabel:"Close",closeButton:!1};var Hn,Wn=qn,Zn=(Hn="h5",e.forwardRef((function(t,e){return(0,et.jsx)("div",$($({},t),{},{ref:e,className:tt()(t.className,Hn)}))}))),Kn=Zt("offcanvas-title",{Component:Zn});function Gn(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}function Qn(){return Qn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=Gn(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Qn.apply(this,arguments)}function $n(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Yn,Xn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Jn=".sticky-top",tr=".navbar-toggler",er=function(t){u(n,t);var e=d(n);function n(){return i(this,n),e.apply(this,arguments)}return a(n,[{key:"adjustAndStore",value:function(t,e,n){var r=e.style[t];e.dataset[t]=r,pe(e,G({},t,"".concat(parseFloat(pe(e,t))+n,"px")))}},{key:"restore",value:function(t,e){var n=e.dataset[t];void 0!==n&&(delete e.dataset[t],pe(e,G({},t,n)))}},{key:"setContainerStyle",value:function(t){var e=this;Qn(l(n.prototype),"setContainerStyle",this).call(this,t);var r=this.getElement();if(function(t,e){t.classList?t.classList.add(e):function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")}(t,e)||("string"===typeof t.className?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}(r,"modal-open"),t.scrollBarWidth){var i=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";mt(r,Xn).forEach((function(n){return e.adjustAndStore(i,n,t.scrollBarWidth)})),mt(r,Jn).forEach((function(n){return e.adjustAndStore(o,n,-t.scrollBarWidth)})),mt(r,tr).forEach((function(n){return e.adjustAndStore(o,n,t.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(t){var e=this;Qn(l(n.prototype),"removeContainerStyle",this).call(this,t);var r=this.getElement();!function(t,e){t.classList?t.classList.remove(e):"string"===typeof t.className?t.className=$n(t.className,e):t.setAttribute("class",$n(t.className&&t.className.baseVal||"",e))}(r,"modal-open");var i=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";mt(r,Xn).forEach((function(t){return e.restore(i,t)})),mt(r,Jn).forEach((function(t){return e.restore(o,t)})),mt(r,tr).forEach((function(t){return e.restore(o,t)}))}}]),n}(fn);var nr=er,rr=["bsPrefix","className","children","aria-labelledby","placement","responsive","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager","renderStaticNode"];function ir(t){return(0,et.jsx)(Nn,$({},t))}function or(t){return(0,et.jsx)(kn,$({},t))}var ar=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.children,a=t["aria-labelledby"],s=t.placement,u=t.responsive,l=t.show,c=t.backdrop,h=t.keyboard,f=t.scroll,d=t.onEscapeKeyDown,p=t.onShow,m=t.onHide,g=t.container,y=t.autoFocus,_=t.enforceFocus,b=t.restoreFocus,w=t.restoreFocusOptions,x=t.onEntered,E=t.onExit,S=t.onExiting,T=t.onEnter,k=t.onEntering,I=t.onExited,C=t.backdropClassName,P=t.manager,L=t.renderStaticNode,N=X(t,rr),A=(0,e.useRef)();r=it(r,"offcanvas");var O=((0,e.useContext)(Bt)||{}).onToggle,D=v((0,e.useState)(!1),2),R=D[0],M=D[1],z=on(u||"xs","up");(0,e.useEffect)((function(){M(u?l&&!z:l)}),[l,u,z]);var j=Tt((function(){null==O||O(),null==m||m()})),F=(0,e.useMemo)((function(){return{onHide:j}}),[j]);var B=(0,e.useCallback)((function(t){return(0,et.jsx)("div",$($({},t),{},{className:tt()("".concat(r,"-backdrop"),C)}))}),[C,r]),V=function(t){return(0,et.jsx)("div",$($($({},t),N),{},{className:tt()(i,u?"".concat(r,"-").concat(u):r,"".concat(r,"-").concat(s)),"aria-labelledby":a,children:o}))};return(0,et.jsxs)(et.Fragment,{children:[!R&&(u||L)&&V({}),(0,et.jsx)(An.Provider,{value:F,children:(0,et.jsx)(wn,{show:R,ref:n,backdrop:c,container:g,keyboard:h,autoFocus:y,enforceFocus:_&&!f,restoreFocus:b,restoreFocusOptions:w,onEscapeKeyDown:d,onShow:p,onHide:j,onEnter:function(t){t&&(t.style.visibility="visible");for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];null==T||T.apply(void 0,[t].concat(n))},onEntering:k,onEntered:x,onExit:E,onExiting:S,onExited:function(t){t&&(t.style.visibility="");for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];null==I||I.apply(void 0,n)},manager:P||(f?(A.current||(A.current=new nr({handleContainerOverflow:!1})),A.current):function(t){return Yn||(Yn=new er(t)),Yn}()),transition:ir,backdropTransition:or,renderBackdrop:B,renderDialog:V})})]})}));ar.displayName="Offcanvas",ar.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start",renderStaticNode:!1};var sr=Object.assign(ar,{Body:In,Header:Wn,Title:Kn}),ur=e.forwardRef((function(t,n){var r=(0,e.useContext)(Bt);return(0,et.jsx)(sr,$($({ref:n,show:!(null==r||!r.expanded)},t),{},{renderStaticNode:!0}))}));ur.displayName="NavbarOffcanvas";var lr=ur,cr=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],hr=Zt("navbar-text",{Component:"span"}),fr=e.forwardRef((function(t,n){var r=ct(t,{expanded:"onToggle"}),i=r.bsPrefix,o=r.expand,a=r.variant,s=r.bg,u=r.fixed,l=r.sticky,c=r.className,h=r.as,f=void 0===h?"nav":h,d=r.expanded,p=r.onToggle,m=r.onSelect,v=r.collapseOnSelect,g=X(r,cr),y=it(i,"navbar"),_=(0,e.useCallback)((function(){null==m||m.apply(void 0,arguments),v&&d&&(null==p||p(!1))}),[m,v,d,p]);void 0===g.role&&"nav"!==f&&(g.role="navigation");var b="".concat(y,"-expand");"string"===typeof o&&(b="".concat(b,"-").concat(o));var w=(0,e.useMemo)((function(){return{onToggle:function(){return null==p?void 0:p(!d)},bsPrefix:y,expanded:!!d,expand:o}}),[y,d,o,p]);return(0,et.jsx)(Bt.Provider,{value:w,children:(0,et.jsx)(wt.Provider,{value:_,children:(0,et.jsx)(f,$($({ref:n},g),{},{className:tt()(c,y,o&&b,a&&"".concat(y,"-").concat(a),s&&"bg-".concat(s),l&&"sticky-".concat(l),u&&"fixed-".concat(u))}))})})}));fr.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},fr.displayName="Navbar";var dr=Object.assign(fr,{Brand:se,Collapse:Ye,Offcanvas:lr,Text:hr,Toggle:tn}),pr=function(t){u(n,t);var e=d(n);function n(){return i(this,n),e.apply(this,arguments)}return a(n,[{key:"render",value:function(){return(0,et.jsx)(dr,{className:"nav".concat(this.props.transparent?" nav-transparent":""),variant:"dark",expand:"lg",fixed:this.props.sticky?"top":void 0,children:(0,et.jsxs)(st,{children:[(0,et.jsxs)(dr.Brand,{children:[(0,et.jsx)("img",{className:"iconImg",src:"/country.png",alt:"Countryside Mapper"})," "]}),(0,et.jsxs)(dr.Collapse,{id:"basic-navbar-nav",children:[(0,et.jsxs)(ie,{className:"me-auto",children:[(0,et.jsx)(ie.Link,{href:"/",className:"home"===this.props.page?"active":"",children:"Home"}),(0,et.jsx)(ie.Link,{href:"map",className:"map"===this.props.page?"active":"",children:"Map"})]}),(0,et.jsx)(ie,{className:"ms-auto",children:(0,et.jsx)(ie.Link,{href:"register",className:"register"===this.props.page?"active":"",children:"Register Event"})})]})]})})}}]),n}(e.Component),mr=pr,vr=function(t){u(n,t);var e=d(n);function n(){return i(this,n),e.apply(this,arguments)}return a(n,[{key:"render",value:function(){return(0,et.jsxs)("div",{className:"homeContainer",children:[(0,et.jsxs)("div",{style:{backgroundImage:"url(/homeback.jpg)"},className:"homeBackground",children:[(0,et.jsx)(mr,{page:"home",sticky:!1,transparent:!0}),(0,et.jsx)("div",{className:"homeIntro",children:(0,et.jsx)("div",{className:"homeText",children:"Indonesia is one of the world\u2019s major agricultural nations so we created an application to encourage people to visit rural Indonesia, thereby increasing tourism and stimulating the economy."})})]}),(0,et.jsxs)("div",{children:[(0,et.jsxs)("div",{className:"aboutCard",children:[(0,et.jsx)("h1",{children:(0,et.jsx)("b",{children:"Our Mission!"})}),(0,et.jsx)("p",{children:"Welcome to Countryside Mapper! Our mission is to provide tourists with unique visiting spots. In particular, we focus on the rural areas of Indonesia with agriculture. Some of the commodities include palm oil, natural rubber, cocoa, coffee, tea, cassava, rice, and tropical spices. Feel free to explore this world and plan your next vacation spot. Remember, you are also helping the local economy by planning these visits."})]}),(0,et.jsxs)("div",{className:"aboutCard",children:[(0,et.jsx)("h1",{children:(0,et.jsx)("b",{children:"What our app does!"})}),(0,et.jsx)("p",{children:"Combining our knowledge and research, we created an application focused on rural development by increasing tourism. The term is agritourism: attracting members of the public to visit agricultural operations. Our website shows various agricultural and nature sites that tourists could visit. This could also be incorporated by the local people. They can advertise visiting events they are hosting by adding them to the website. During these events, locals can have recreation, entertainment, or educational experiences for visitors. Of course, locals are allowed and encouraged to charge tourists for their services. This will help the local economy by creating jobs and allows for cultural exchange. The sky is the limit for what locals can do with this. And our application is the platform to help them reach it."})]}),(0,et.jsxs)("div",{className:"aboutCard",children:[(0,et.jsx)("h1",{children:(0,et.jsx)("b",{children:"How we built it!"})}),(0,et.jsx)("p",{children:"We decided to use what we knew in order to create something that could potentially help. Our skill sets ranged from programming in various languages such as react and node.js. However, we had to use some applications we didn\u2019t know like firebase. Regardless, we were pleased to learn more."})]}),(0,et.jsxs)("div",{className:"aboutCard",children:[(0,et.jsx)("h1",{children:(0,et.jsx)("b",{children:"What we learned!"})}),(0,et.jsx)("p",{children:"Through our 48-hour experience, we learned a lot about Indonesia, its many islands, and rural life. However, we also learned a lot about ourselves and our skill sets. We did struggle in some places. But that just means our skills are limited and there is so much more for us to learn. We took this as a learning opportunity to enhance our skills. It was a great experience and although we are not from the area, it would be nice to visit someday."})]})]})]})}}]),n}(e.Component),gr=vr;function yr(){yr=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(I){s=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof f?e:f,o=Object.create(i.prototype),a=new S(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return k()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(I){return{type:"throw",arg:I}}}t.wrap=u;var h={};function f(){}function d(){}function p(){}var m={};s(m,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(T([])));g&&g!==e&&n.call(g,i)&&(m=g);var y=p.prototype=f.prototype=Object.create(m);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function r(i,o,a,s){var u=l(t[i],t,o);if("throw"!==u.type){var h=u.arg,f=h.value;return f&&"object"==c(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){h.value=t,a(h)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=p,s(y,"constructor",p),s(p,"constructor",d),d.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},_(b.prototype),s(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new b(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function _r(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(l){return void n(l)}s.done?e(u):Promise.resolve(u).then(r,i)}var br=function(t,e){return br=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},br(t,e)};function wr(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}br(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var xr=function(){return xr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},xr.apply(this,arguments)};function Er(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(Zy){o(Zy)}}function s(t){try{u(r.throw(t))}catch(Zy){o(Zy)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function Sr(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(Zy){o=[6,Zy],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function Tr(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kr(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Ir(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;var Cr=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Pr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|l>>6,d=63&l;u||(d=64,a||(f=64)),r.push(n[c],n[h],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Cr(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var l=o<<2|a>>4;if(r.push(l),64!==s){var c=a<<4&240|s>>2;if(r.push(c),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Lr=function(t){return function(t){var e=Cr(t);return Pr.encodeByteArray(e,!0)}(t).replace(/\./g,"")};function Nr(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=Nr(t[n],e[n]));return t}var Ar=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function Or(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Dr(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Zy){return!1}}var Rr=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Mr.prototype.create),o}return wr(e,t),e}(Error),Mr=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?zr(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new Rr(i,s,r);return u},t}();function zr(t,e){return t.replace(jr,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var jr=/\{\$([^}]+)}/g;function Fr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=c^u&(l^c),a=1518500249):(o=u^l^c,a=1859775393):r<60?(o=u&l|c&(u|l),a=2400959708):(o=u^l^c,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=c,c=l,l=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();function Br(t,e){var n=new Vr(t,e);return n.subscribe.bind(n)}var Vr=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=function(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=Ur),void 0===r.error&&(r.error=Ur),void 0===r.complete&&(r.complete=Ur);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(Zy){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(Zy){"undefined"!==typeof console&&console.error&&console.error(Zy)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function Ur(){}function qr(t){return t&&t._delegate?t._delegate:t}var Hr=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),Wr="[DEFAULT]",Zr=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Ar;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(Zy){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),r=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Zy){if(r)return null;throw Zy}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:Wr})}catch(Zy){}try{for(var r=Tr(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=kr(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var l=this.getOrInitializeService({instanceIdentifier:u});s.resolve(l)}catch(Zy){}}}catch(c){e={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=Wr),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Er(this,void 0,void 0,(function(){var t;return Sr(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Ir(Ir([],kr(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),kr(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=Wr),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=Wr),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var s=Tr(this.instancesDeferred.entries()),u=s.next();!u.done;u=s.next()){var l=kr(u.value,2),c=l[0],h=l[1];o===this.normalizeInstanceIdentifier(c)&&h.resolve(a)}}catch(f){e={error:f}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r,i=this.onInitCallbacks.get(e);if(i)try{for(var o=Tr(i),a=o.next();!a.done;a=o.next()){var s=a.value;try{s(t,e)}catch(u){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===Wr?void 0:e),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(Cy){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=Wr),this.component?this.component.multipleInstances?t:Wr:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();var Kr,Gr=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new Zr(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();function Qr(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var $r,Yr=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}($r||($r={}));var Xr,Jr={debug:$r.DEBUG,verbose:$r.VERBOSE,info:$r.INFO,warn:$r.WARN,error:$r.ERROR,silent:$r.SILENT},ti=$r.INFO,ei=((Kr={})[$r.DEBUG]="log",Kr[$r.VERBOSE]="log",Kr[$r.INFO]="info",Kr[$r.WARN]="warn",Kr[$r.ERROR]="error",Kr),ni=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=ei[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,Qr(["["+i+"]  "+t.name+":"],n))}},ri=function(){function t(t){this.name=t,this._logLevel=ti,this._logHandler=ni,this._userLogHandler=null,Yr.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in $r))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"===typeof t?Jr[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Qr([this,$r.DEBUG],t)),this._logHandler.apply(this,Qr([this,$r.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Qr([this,$r.VERBOSE],t)),this._logHandler.apply(this,Qr([this,$r.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Qr([this,$r.INFO],t)),this._logHandler.apply(this,Qr([this,$r.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Qr([this,$r.WARN],t)),this._logHandler.apply(this,Qr([this,$r.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Qr([this,$r.ERROR],t)),this._logHandler.apply(this,Qr([this,$r.ERROR],t))},t}();function ii(t){Yr.forEach((function(e){e.setLogLevel(t)}))}var oi,ai=((Xr={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Xr["bad-app-name"]="Illegal App name: '{$appName}",Xr["duplicate-app"]="Firebase App named '{$appName}' already exists",Xr["app-deleted"]="Firebase App named '{$appName}' already deleted",Xr["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Xr["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Xr),si=new Mr("app","Firebase",ai),ui="@firebase/app",li="[DEFAULT]",ci=((oi={})[ui]="fire-core",oi["@firebase/analytics"]="fire-analytics",oi["@firebase/app-check"]="fire-app-check",oi["@firebase/auth"]="fire-auth",oi["@firebase/database"]="fire-rtdb",oi["@firebase/functions"]="fire-fn",oi["@firebase/installations"]="fire-iid",oi["@firebase/messaging"]="fire-fcm",oi["@firebase/performance"]="fire-perf",oi["@firebase/remote-config"]="fire-rc",oi["@firebase/storage"]="fire-gcs",oi["@firebase/firestore"]="fire-fst",oi["fire-js"]="fire-js",oi["firebase-wrapper"]="fire-js-all",oi),hi=new ri("@firebase/app"),fi=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Nr(void 0,t),this.container=new Gr(e.name),this._addComponent(new Hr("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e=li),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=li),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(Zy){hi.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,Zy)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw si.create("app-deleted",{appName:this.name_})},t}();fi.prototype.name&&fi.prototype.options||fi.prototype.delete||console.log("dc");function di(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!==typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=li);var a=o.name;if("string"!==typeof a||!a)throw si.create("bad-app-name",{appName:String(a)});if(Fr(e,a))throw si.create("duplicate-app",{appName:a});var s=new t(n,o,r);return e[a]=s,s},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=ci[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void hi.warn(u.join(" "))}o(new Hr(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:ii,onLog:function(t,e){if(null!==t&&"function"!==typeof t)throw si.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=Jr[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:$r[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=Yr;r<i.length;r++)n(i[r])}(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!Fr(e,t=t||li))throw si.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return hi.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(t){if(void 0===t&&(t=i()),"function"!==typeof t[a])throw si.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Nr(s,o.serviceProps),r[a]=s,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?t:[])}}for(var u=0,l=Object.keys(e);u<l.length;u++){var c=l[u];e[c]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}var pi=function t(){var e=di(fi);return e.INTERNAL=xr(xr({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Nr(e,t)},createSubscribe:Br,ErrorFactory:Mr,deepExtend:Nr}),e}(),mi=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if("object"===typeof self&&self.self===self&&void 0!==self.firebase){hi.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var vi=self.firebase.SDK_VERSION;vi&&vi.indexOf("LITE")>=0&&hi.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var gi=pi.initializeApp;pi.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Dr()&&hi.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),gi.apply(void 0,t)};var yi=pi;!function(t,e){t.INTERNAL.registerComponent(new Hr("platform-logger",(function(t){return new mi(t)}),"PRIVATE")),t.registerVersion(ui,"0.6.30",e),t.registerVersion("fire-js","")}(yi);var _i=yi,bi="8.10.0";_i.registerVersion("firebase",bi,"app"),_i.SDK_VERSION=bi;var wi=function(t,e){return wi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},wi(t,e)};function xi(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ei,Si="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ti=Ti||{},ki=Si||self;function Ii(){}function Ci(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Pi(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Li="closure_uid_"+(1e9*Math.random()>>>0),Ni=0;function Ai(t,e,n){return t.call.apply(t.bind,arguments)}function Oi(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Di(t,e,n){return(Di=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ai:Oi).apply(null,arguments)}function Ri(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Mi(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function zi(){this.s=this.s,this.o=this.o}var ji={};zi.prototype.s=!1,zi.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Li)&&t[Li]||(t[Li]=++Ni)}(this);delete ji[t]}},zi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Fi=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Bi=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Vi(t){return Array.prototype.concat.apply([],arguments)}function Ui(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function qi(t){return/^[\s\xa0]*$/.test(t)}var Hi,Wi=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Zi(t,e){return-1!=t.indexOf(e)}function Ki(t,e){return t<e?-1:t>e?1:0}t:{var Gi=ki.navigator;if(Gi){var Qi=Gi.userAgent;if(Qi){Hi=Qi;break t}}Hi=""}function $i(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Yi(t){var e={};for(var n in t)e[n]=t[n];return e}var Xi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ji(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Xi.length;o++)n=Xi[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function to(t){return to[" "](t),t}to[" "]=Ii;var eo,no=Zi(Hi,"Opera"),ro=Zi(Hi,"Trident")||Zi(Hi,"MSIE"),io=Zi(Hi,"Edge"),oo=io||ro,ao=Zi(Hi,"Gecko")&&!(Zi(Hi.toLowerCase(),"webkit")&&!Zi(Hi,"Edge"))&&!(Zi(Hi,"Trident")||Zi(Hi,"MSIE"))&&!Zi(Hi,"Edge"),so=Zi(Hi.toLowerCase(),"webkit")&&!Zi(Hi,"Edge");function uo(){var t=ki.document;return t?t.documentMode:void 0}t:{var lo="",co=function(){var t=Hi;return ao?/rv:([^\);]+)(\)|;)/.exec(t):io?/Edge\/([\d\.]+)/.exec(t):ro?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):so?/WebKit\/(\S+)/.exec(t):no?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(co&&(lo=co?co[1]:""),ro){var ho=uo();if(null!=ho&&ho>parseFloat(lo)){eo=String(ho);break t}}eo=lo}var fo,po={};function mo(){return function(t){var e=po;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}((function(){for(var t=0,e=Wi(String(eo)).split("."),n=Wi("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;t=Ki(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Ki(0==o[2].length,0==a[2].length)||Ki(o[2],a[2]),o=o[3],a=a[3]}while(0==t)}return 0<=t}))}if(ki.document&&ro){var vo=uo();fo=vo||(parseInt(eo,10)||void 0)}else fo=void 0;var go=fo,yo=function(){if(!ki.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ki.addEventListener("test",Ii,e),ki.removeEventListener("test",Ii,e)}catch(n){}return t}();function _o(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function bo(t,e){if(_o.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ao){t:{try{to(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:wo[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&bo.Z.h.call(this)}}_o.prototype.h=function(){this.defaultPrevented=!0},Mi(bo,_o);var wo={2:"touch",3:"pen",4:"mouse"};bo.prototype.h=function(){bo.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var xo="closure_listenable_"+(1e6*Math.random()|0),Eo=0;function So(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Eo,this.ca=this.fa=!1}function To(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function ko(t){this.src=t,this.g={},this.h=0}function Io(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=Fi(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(To(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Co(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}ko.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var a=Co(t,e,r,i);return-1<a?(e=t[a],n||(e.fa=!1)):((e=new So(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var Po="closure_lm_"+(1e6*Math.random()|0),Lo={};function No(t,e,n,r,i){if(r&&r.once)return Oo(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)No(t,e[o],n,r,i);return null}return n=Bo(n),t&&t[xo]?t.N(e,n,Pi(r)?!!r.capture:!!r,i):Ao(t,e,n,!1,r,i)}function Ao(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=Pi(i)?!!i.capture:!!i,s=jo(t);if(s||(t[Po]=s=new ko(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){function t(n){return e.call(t.src,t.listener,n)}var e=zo;return t}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)yo||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Mo(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Oo(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Oo(t,e[o],n,r,i);return null}return n=Bo(n),t&&t[xo]?t.O(e,n,Pi(r)?!!r.capture:!!r,i):Ao(t,e,n,!0,r,i)}function Do(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Do(t,e[o],n,r,i);else r=Pi(r)?!!r.capture:!!r,n=Bo(n),t&&t[xo]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=Co(o=t.g[e],n,r,i))&&(To(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--)))):t&&(t=jo(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Co(e,n,r,i)),(n=-1<t?e[t]:null)&&Ro(n))}function Ro(t){if("number"!==typeof t&&t&&!t.ca){var e=t.src;if(e&&e[xo])Io(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Mo(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=jo(e))?(Io(n,t),0==n.h&&(n.src=null,e[Po]=null)):To(t)}}}function Mo(t){return t in Lo?Lo[t]:Lo[t]="on"+t}function zo(t,e){if(t.ca)t=!0;else{e=new bo(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Ro(t),t=n.call(r,e)}return t}function jo(t){return(t=t[Po])instanceof ko?t:null}var Fo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bo(t){return"function"===typeof t?t:(t[Fo]||(t[Fo]=function(e){return t.handleEvent(e)}),t[Fo])}function Vo(){zi.call(this),this.i=new ko(this),this.P=this,this.I=null}function Uo(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"===typeof e)e=new _o(e,t);else if(e instanceof _o)e.target=e.target||t;else{var i=e;Ji(e=new _o(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=qo(a,r,!0,e)&&i}if(i=qo(a=e.g=t,r,!0,e)&&i,i=qo(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=qo(a=e.g=n[o],r,!1,e)&&i}function qo(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&Io(t.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Mi(Vo,zi),Vo.prototype[xo]=!0,Vo.prototype.removeEventListener=function(t,e,n,r){Do(this,t,e,n,r)},Vo.prototype.M=function(){if(Vo.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)To(n[r]);delete e.g[t],e.h--}}this.I=null},Vo.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Vo.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Ho=ki.JSON.stringify;function Wo(){var t=Jo,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Zo,Ko=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Go.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Go=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},t}())((function(){return new Qo}),(function(t){return t.reset()})),Qo=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function $o(t){ki.setTimeout((function(){throw t}),0)}function Yo(t,e){Zo||function(){var t=ki.Promise.resolve(void 0);Zo=function(){t.then(ta)}}(),Xo||(Zo(),Xo=!0),Jo.add(t,e)}var Xo=!1,Jo=new Ko;function ta(){for(var t;t=Wo();){try{t.h.call(t.g)}catch(n){$o(n)}var e=Go;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Xo=!1}function ea(t,e){Vo.call(this),this.h=t||1,this.g=e||ki,this.j=Di(this.kb,this),this.l=Date.now()}function na(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function ra(t,e,n){if("function"===typeof t)n&&(t=Di(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Di(t.handleEvent,t)}return 2147483647<Number(e)?-1:ki.setTimeout(t,e||0)}function ia(t){t.g=ra((function(){t.g=null,t.i&&(t.i=!1,ia(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}Mi(ea,Vo),(Ei=ea.prototype).da=!1,Ei.S=null,Ei.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Uo(this,"tick"),this.da&&(na(this),this.start()))}},Ei.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ei.M=function(){ea.Z.M.call(this),na(this),delete this.g};var oa=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}wi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:ia(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(ki.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(zi);function aa(t){zi.call(this),this.h=t,this.g={}}Mi(aa,zi);var sa=[];function ua(t,e,n,r){Array.isArray(n)||(n&&(sa[0]=n.toString()),n=sa);for(var i=0;i<n.length;i++){var o=No(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function la(t){$i(t.g,(function(t,e){this.g.hasOwnProperty(e)&&Ro(t)}),t),t.g={}}function ca(){this.g=!0}function ha(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Ho(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}aa.prototype.M=function(){aa.Z.M.call(this),la(this)},aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ca.prototype.Aa=function(){this.g=!1},ca.prototype.info=function(){};var fa={},da=null;function pa(){return da=da||new Vo}function ma(t){_o.call(this,fa.Ma,t)}function va(t){var e=pa();Uo(e,new ma(e,t))}function ga(t,e){_o.call(this,fa.STAT_EVENT,t),this.stat=e}function ya(t){var e=pa();Uo(e,new ga(e,t))}function _a(t,e){_o.call(this,fa.Na,t),this.size=e}function ba(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return ki.setTimeout((function(){t()}),e)}fa.Ma="serverreachability",Mi(ma,_o),fa.STAT_EVENT="statevent",Mi(ga,_o),fa.Na="timingevent",Mi(_a,_o);var wa={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},xa={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ea(){}function Sa(t){return t.h||(t.h=t.i())}function Ta(){}Ea.prototype.h=null;var ka,Ia={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ca(){_o.call(this,"d")}function Pa(){_o.call(this,"c")}function La(){}function Na(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new aa(this),this.P=Oa,t=oo?125:void 0,this.W=new ea(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Aa}function Aa(){this.i=null,this.g="",this.h=!1}Mi(Ca,_o),Mi(Pa,_o),Mi(La,Ea),La.prototype.g=function(){return new XMLHttpRequest},La.prototype.i=function(){return{}},ka=new La;var Oa=45e3,Da={},Ra={};function Ma(t,e,n){t.K=1,t.v=os(Ja(e)),t.s=n,t.U=!0,za(t,null)}function za(t,e){t.F=Date.now(),Va(t),t.A=Ja(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),ys(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Aa,t.g=bu(t.l,n?e:null,!t.s),0<t.O&&(t.L=new oa(Di(t.Ia,t,t.g),t.O)),ua(t.V,t.g,"readystatechange",t.gb),e=t.H?Yi(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),va(1),function(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+l+"&":a+(c+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function ja(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Ba)}function Fa(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=Ba(t,n))==Ra){4==e&&(t.o=4,ya(14),i=!1),ha(t.j,t.m,null,"[Incomplete Response]");break}if(r==Da){t.o=4,ya(15),ha(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}ha(t.j,t.m,r,null),Za(t,r)}ja(t)&&r!=Ra&&r!=Da&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ya(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),fu(e),e.L=!0,ya(11))):(ha(t.j,t.m,n,"[Invalid Chunked Response]"),Wa(t),Ha(t))}function Ba(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Ra:(n=Number(e.substring(n,r)),isNaN(n)?Da:(r+=1)+n>e.length?Ra:(e=e.substr(r,n),t.C=r+n,e))}function Va(t){t.Y=Date.now()+t.P,Ua(t,t.P)}function Ua(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ba(Di(t.eb,t),e)}function qa(t){t.B&&(ki.clearTimeout(t.B),t.B=null)}function Ha(t){0==t.l.G||t.I||mu(t.l,t)}function Wa(t){qa(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,na(t.W),la(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Za(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||ks(n.i,t)))if(n.I=t.N,!t.J&&ks(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;pu(n),ru(n)}hu(n),ya(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ba(Di(n.ab,n),6e3));if(1>=Ts(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else gu(n,11)}else if((t.J||n.g==t)&&pu(n),!qi(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=t.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=r.i;!h.g&&(Zi(c,"spdy")||Zi(c,"quic")||Zi(c,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Is(h,h.h),h.h=null))}if(r.D){var f=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,is(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=_u(r,r.H?r.la:null,r.W),d.J){Cs(r.i,d);var p=d,m=r.K;m&&p.setTimeout(m),p.B&&(qa(p),Va(p)),r.g=d}else cu(r);0<n.l.length&&au(n)}else"stop"!=o[0]&&"close"!=o[0]||gu(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?gu(n,7):nu(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}va(4)}catch(o){}}function Ka(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ci(t)||"string"===typeof t)Bi(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(Ci(t)||"string"===typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"===typeof t)return t.split("");if(Ci(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ga(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ga)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Qa(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];$a(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)$a(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function $a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Ei=Na.prototype).setTimeout=function(t){this.P=t},Ei.gb=function(t){t=t.target;var e=this.L;e&&3==Ys(t)?e.l():this.Ia(t)},Ei.Ia=function(t){try{if(t==this.g)t:{var e=Ys(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||oo||this.g&&(this.h.h||this.g.ga()||Xs(this.g)))){this.I||4!=e||7==n||va(8==n||0>=r?3:2),qa(this);var i=this.g.ba();this.N=i;e:if(ja(this)){var o=Xs(this.g);t="";var a=o.length,s=4==Ys(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Wa(this),Ha(this);var u="";break e}this.h.i=new ki.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qi(l)){var h=l;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,ya(12),Wa(this),Ha(this);break t}ha(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Za(this,i)}this.U?(Fa(this,e,u),oo&&this.i&&3==e&&(ua(this.V,this.W,"tick",this.fb),this.W.start())):(ha(this.j,this.m,u,null),Za(this,u)),4==e&&Wa(this),this.i&&!this.I&&(4==e?mu(this.l,this):(this.i=!1,Va(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,ya(12)):(this.o=0,ya(13)),Wa(this),Ha(this)}}}catch(e){}},Ei.fb=function(){if(this.g){var t=Ys(this.g),e=this.g.ga();this.C<e.length&&(qa(this),Fa(this,t,e),this.i&&4!=t&&Va(this))}},Ei.cancel=function(){this.I=!0,Wa(this)},Ei.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(va(3),ya(17)),Wa(this),this.o=2,Ha(this)):Ua(this,this.Y-t)},(Ei=Ga.prototype).R=function(){Qa(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},Ei.T=function(){return Qa(this),this.g.concat()},Ei.get=function(t,e){return $a(this.h,t)?this.h[t]:e},Ei.set=function(t,e){$a(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},Ei.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ya=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xa(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Xa){this.g=void 0!==e?e:t.g,ts(this,t.j),this.s=t.s,es(this,t.i),ns(this,t.m),this.l=t.l,e=t.h;var n=new ps;n.i=e.i,e.g&&(n.g=new Ga(e.g),n.h=e.h),rs(this,n),this.o=t.o}else t&&(n=String(t).match(Ya))?(this.g=!!e,ts(this,n[1]||"",!0),this.s=as(n[2]||""),es(this,n[3]||"",!0),ns(this,n[4]),this.l=as(n[5]||"",!0),rs(this,n[6]||"",!0),this.o=as(n[7]||"")):(this.g=!!e,this.h=new ps(null,this.g))}function Ja(t){return new Xa(t)}function ts(t,e,n){t.j=n?as(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function es(t,e,n){t.i=n?as(e,!0):e}function ns(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function rs(t,e,n){e instanceof ps?(t.h=e,function(t,e){e&&!t.j&&(ms(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(vs(this,e),ys(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=ss(e,fs)),t.h=new ps(e,t.g))}function is(t,e,n){t.h.set(e,n)}function os(t){return is(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function as(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ss(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,us),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function us(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Xa.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ss(e,ls,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(ss(e,ls,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(ss(n,"/"==n.charAt(0)?hs:cs,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ss(n,ds)),t.join("")};var ls=/[#\/\?@]/g,cs=/[#\?:]/g,hs=/[#\?]/g,fs=/[#\?@]/g,ds=/#/g;function ps(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ms(t){t.g||(t.g=new Ga,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function vs(t,e){ms(t),e=_s(t,e),$a(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,$a((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Qa(t)))}function gs(t,e){return ms(t),e=_s(t,e),$a(t.g.h,e)}function ys(t,e,n){vs(t,e),0<n.length&&(t.i=null,t.g.set(_s(t,e),Ui(n)),t.h+=n.length)}function _s(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(Ei=ps.prototype).add=function(t,e){ms(this),this.i=null,t=_s(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Ei.forEach=function(t,e){ms(this),this.g.forEach((function(n,r){Bi(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Ei.T=function(){ms(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Ei.R=function(t){ms(this);var e=[];if("string"===typeof t)gs(this,t)&&(e=Vi(e,this.g.get(_s(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Vi(e,t[n])}return e},Ei.set=function(t,e){return ms(this),this.i=null,gs(this,t=_s(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Ei.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},Ei.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.i=t.join("&")};var bs=function(t,e){this.h=t,this.g=e};function ws(t){this.l=t||Es,ki.PerformanceNavigationTiming?t=0<(t=ki.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(ki.g&&ki.g.Ea&&ki.g.Ea()&&ki.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var xs,Es=10;function Ss(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Ts(t){return t.h?1:t.g?t.g.size:0}function ks(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Is(t,e){t.g?t.g.add(e):t.h=e}function Cs(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Ps(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=xi(t.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Ui(t.i)}function Ls(){}function Ns(){this.g=new Ls}function As(t,e,n){var r=n||"";try{Ka(t,(function(t,n){var i=t;Pi(t)&&(i=Ho(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(Zy){throw e.push(r+"type="+encodeURIComponent("_badmap")),Zy}}function Os(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function Ds(t){this.l=t.$b||null,this.j=t.ib||!1}function Rs(t,e){Vo.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Ms,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ws.prototype.cancel=function(){var t,e;if(this.i=Ps(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=xi(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},Ls.prototype.stringify=function(t){return ki.JSON.stringify(t,void 0)},Ls.prototype.parse=function(t){return ki.JSON.parse(t,void 0)},Mi(Ds,Ea),Ds.prototype.g=function(){return new Rs(this.l,this.j)},Ds.prototype.i=(xs={},function(){return xs}),Mi(Rs,Vo);var Ms=0;function zs(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function js(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Fs(t)}function Fs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Ei=Rs.prototype).open=function(t,e){if(this.readyState!=Ms)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Fs(this)},Ei.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||ki).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ei.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,js(this)),this.readyState=Ms},Ei.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Fs(this)),this.g&&(this.readyState=3,Fs(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof ki.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zs(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},Ei.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?js(this):Fs(this),3==this.readyState&&zs(this)}},Ei.Ua=function(t){this.g&&(this.response=this.responseText=t,js(this))},Ei.Ta=function(t){this.g&&(this.response=t,js(this))},Ei.ha=function(){this.g&&js(this)},Ei.setRequestHeader=function(t,e){this.v.append(t,e)},Ei.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Ei.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Rs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Bs=ki.JSON.parse;function Vs(t){Vo.call(this),this.headers=new Ga,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Us,this.K=this.L=!1}Mi(Vs,Vo);var Us="",qs=/^https?$/i,Hs=["POST","PUT"];function Ws(t){return"content-type"==t.toLowerCase()}function Zs(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Ks(t),Qs(t)}function Ks(t){t.D||(t.D=!0,Uo(t,"complete"),Uo(t,"error"))}function Gs(t){if(t.h&&"undefined"!=typeof Ti&&(!t.C[1]||4!=Ys(t)||2!=t.ba()))if(t.v&&4==Ys(t))ra(t.Fa,0,t);else if(Uo(t,"readystatechange"),4==Ys(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(Ya)[1]||null;if(!o&&ki.self&&ki.self.location){var a=ki.self.location.protocol;o=a.substr(0,a.length-1)}i=!qs.test(o?o.toLowerCase():"")}e=i}if(e)Uo(t,"complete"),Uo(t,"success");else{t.m=6;try{var s=2<Ys(t)?t.g.statusText:""}catch(u){s=""}t.j=s+" ["+t.ba()+"]",Ks(t)}}finally{Qs(t)}}}function Qs(t,e){if(t.g){$s(t);var n=t.g,r=t.C[0]?Ii:null;t.g=null,t.C=null,e||Uo(t,"ready");try{n.onreadystatechange=r}catch(Zy){}}}function $s(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ki.clearTimeout(t.A),t.A=null)}function Ys(t){return t.g?t.g.readyState:0}function Xs(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Us:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Js(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return $i(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):is(t,e,n))}function tu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function eu(t){this.za=0,this.l=[],this.h=new ca,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=tu("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=tu("baseRetryDelayMs",5e3,t),this.$a=tu("retryDelaySeedMs",1e4,t),this.Ya=tu("forwardChannelMaxRetries",2,t),this.ra=tu("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new ws(t&&t.concurrentRequestLimit),this.Ca=new Ns,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function nu(t){if(iu(t),3==t.G){var e=t.V++,n=Ja(t.F);is(n,"SID",t.J),is(n,"RID",e),is(n,"TYPE","terminate"),uu(t,n),(e=new Na(t,t.h,e,void 0)).K=2,e.v=os(Ja(n)),n=!1,ki.navigator&&ki.navigator.sendBeacon&&(n=ki.navigator.sendBeacon(e.v.toString(),"")),!n&&ki.Image&&((new Image).src=e.v,n=!0),n||(e.g=bu(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Va(e)}yu(t)}function ru(t){t.g&&(fu(t),t.g.cancel(),t.g=null)}function iu(t){ru(t),t.u&&(ki.clearTimeout(t.u),t.u=null),pu(t),t.i.cancel(),t.m&&("number"===typeof t.m&&ki.clearTimeout(t.m),t.m=null)}function ou(t,e){t.l.push(new bs(t.Za++,e)),3==t.G&&au(t)}function au(t){Ss(t.i)||t.m||(t.m=!0,Yo(t.Ha,t),t.C=0)}function su(t,e){var n;n=e?e.m:t.V++;var r=Ja(t.F);is(r,"SID",t.J),is(r,"RID",n),is(r,"AID",t.U),uu(t,r),t.o&&t.s&&Js(r,t.o,t.s),n=new Na(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=lu(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Is(t.i,n),Ma(n,r,e)}function uu(t,e){t.j&&Ka({},(function(t,n){is(e,n,t)}))}function lu(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Di(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var l=i[u].h,c=i[u].g;if(0>(l-=o))o=Math.max(0,i[u].h-100),s=!1;else try{As(c,a,"req"+l+"_")}catch(nl){r&&r(c)}}if(s){r=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function cu(t){t.g||t.u||(t.Y=1,Yo(t.Ga,t),t.A=0)}function hu(t){return!(t.g||t.u||3<=t.A)&&(t.Y++,t.u=ba(Di(t.Ga,t),vu(t,t.A)),t.A++,!0)}function fu(t){null!=t.B&&(ki.clearTimeout(t.B),t.B=null)}function du(t){t.g=new Na(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Ja(t.oa);is(e,"RID","rpc"),is(e,"SID",t.J),is(e,"CI",t.N?"0":"1"),is(e,"AID",t.U),uu(t,e),is(e,"TYPE","xmlhttp"),t.o&&t.s&&Js(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=os(Ja(e)),n.s=null,n.U=!0,za(n,t)}function pu(t){null!=t.v&&(ki.clearTimeout(t.v),t.v=null)}function mu(t,e){var n=null;if(t.g==e){pu(t),fu(t),t.g=null;var r=2}else{if(!ks(t.i,e))return;n=e.D,Cs(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Uo(r=pa(),new _a(r,n,e,i)),au(t)}else cu(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Ts(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.l=e.D.concat(t.l),!0):!(1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya))&&(t.m=ba(Di(t.Ha,t,e),vu(t,t.C)),t.C++,!0))}(t,e)||2==r&&hu(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:gu(t,5);break;case 4:gu(t,10);break;case 3:gu(t,6);break;default:gu(t,2)}}function vu(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function gu(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Di(t.jb,t);n||(n=new Xa("//www.google.com/images/cleardot.gif"),ki.location&&"http"==ki.location.protocol||ts(n,"https"),os(n)),function(t,e){var n=new ca;if(ki.Image){var r=new Image;r.onload=Ri(Os,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ri(Os,n,r,"TestLoadImage: error",!1,e),r.onabort=Ri(Os,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ri(Os,n,r,"TestLoadImage: timeout",!1,e),ki.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ya(2);t.G=0,t.j&&t.j.va(e),yu(t),iu(t)}function yu(t){t.G=0,t.I=-1,t.j&&(0==Ps(t.i).length&&0==t.l.length||(t.i.i.length=0,Ui(t.l),t.l.length=0),t.j.ua())}function _u(t,e,n){var r=function(t){return t instanceof Xa?Ja(t):new Xa(t,void 0)}(n);if(""!=r.i)e&&es(r,e+"."+r.i),ns(r,r.m);else{var i=ki.location;r=function(t,e,n,r){var i=new Xa(null,void 0);return t&&ts(i,t),e&&es(i,e),n&&ns(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&$i(t.aa,(function(t,e){is(r,e,t)})),e=t.D,n=t.sa,e&&n&&is(r,e,n),is(r,"VER",t.ma),uu(t,r),r}function bu(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ba&&!t.qa?new Vs(new Ds({ib:!0})):new Vs(t.qa)).L=t.H,e}function wu(){}function xu(){if(ro&&!(10<=Number(go)))throw Error("Environmental error: no available transport.")}function Eu(t,e){Vo.call(this),this.g=new eu(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!qi(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qi(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new ku(this)}function Su(t){Ca.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Tu(){Pa.call(this),this.status=1}function ku(t){this.g=t}(Ei=Vs.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ka.g(),this.C=this.u?Sa(this.u):Sa(ka),this.g.onreadystatechange=Di(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void Zs(this,o)}t=n||"";var i=new Ga(this.headers);r&&Ka(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Ws,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(i.T()),n=ki.FormData&&t instanceof ki.FormData,!(0<=Fi(Hs,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{$s(this),0<this.B&&((this.K=function(t){return ro&&mo()&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Di(this.pa,this)):this.A=ra(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Zs(this,o)}},Ei.pa=function(){"undefined"!=typeof Ti&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Uo(this,"timeout"),this.abort(8))},Ei.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Uo(this,"complete"),Uo(this,"abort"),Qs(this))},Ei.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qs(this,!0)),Vs.Z.M.call(this)},Ei.Fa=function(){this.s||(this.F||this.v||this.l?Gs(this):this.cb())},Ei.cb=function(){Gs(this)},Ei.ba=function(){try{return 2<Ys(this)?this.g.status:-1}catch(xs){return-1}},Ei.ga=function(){try{return this.g?this.g.responseText:""}catch(xs){return""}},Ei.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Bs(e)}},Ei.Da=function(){return this.m},Ei.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ei=eu.prototype).ma=8,Ei.G=1,Ei.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},Ei.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Na(this,this.h,t,void 0),n=this.s;if(this.P&&(n?Ji(n=Yi(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=lu(this,e,r),is(i=Ja(this.F),"RID",t),is(i,"CVER",22),this.D&&is(i,"X-HTTP-Session-Id",this.D),uu(this,i),this.o&&n&&Js(i,this.o,n),Is(this.i,e),this.Ra&&is(i,"TYPE","init"),this.ja?(is(i,"$req",r),is(i,"SID","null"),e.$=!0,Ma(e,i,null)):Ma(e,i,r),this.G=2}}else 3==this.G&&(t?su(this,t):0==this.l.length||Ss(this.i)||su(this))},Ei.Ga=function(){if(this.u=null,du(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=ba(Di(this.bb,this),t)}},Ei.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ya(10),ru(this),du(this))},Ei.ab=function(){null!=this.v&&(this.v=null,ru(this),hu(this),ya(19))},Ei.jb=function(t){t?(this.h.info("Successfully pinged google.com"),ya(2)):(this.h.info("Failed to ping google.com"),ya(1))},(Ei=wu.prototype).xa=function(){},Ei.wa=function(){},Ei.va=function(){},Ei.ua=function(){},Ei.Oa=function(){},xu.prototype.g=function(t,e){return new Eu(t,e)},Mi(Eu,Vo),Eu.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Yo(Di(t.hb,t,e))),ya(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=_u(t,null,t.W),au(t)},Eu.prototype.close=function(){nu(this.g)},Eu.prototype.u=function(t){if("string"===typeof t){var e={};e.__data__=t,ou(this.g,e)}else this.v?((e={}).__data__=Ho(t),ou(this.g,e)):ou(this.g,t)},Eu.prototype.M=function(){this.g.j=null,delete this.j,nu(this.g),delete this.g,Eu.Z.M.call(this)},Mi(Su,Ca),Mi(Tu,Pa),Mi(ku,wu),ku.prototype.xa=function(){Uo(this.g,"a")},ku.prototype.wa=function(t){Uo(this.g,new Su(t))},ku.prototype.va=function(t){Uo(this.g,new Tu(t))},ku.prototype.ua=function(){Uo(this.g,"b")},xu.prototype.createWebChannel=xu.prototype.g,Eu.prototype.send=Eu.prototype.u,Eu.prototype.open=Eu.prototype.m,Eu.prototype.close=Eu.prototype.close,wa.NO_ERROR=0,wa.TIMEOUT=8,wa.HTTP_ERROR=6,xa.COMPLETE="complete",Ta.EventType=Ia,Ia.OPEN="a",Ia.CLOSE="b",Ia.ERROR="c",Ia.MESSAGE="d",Vo.prototype.listen=Vo.prototype.N,Vs.prototype.listenOnce=Vs.prototype.O,Vs.prototype.getLastError=Vs.prototype.La,Vs.prototype.getLastErrorCode=Vs.prototype.Da,Vs.prototype.getStatus=Vs.prototype.ba,Vs.prototype.getResponseJson=Vs.prototype.Qa,Vs.prototype.getResponseText=Vs.prototype.ga,Vs.prototype.send=Vs.prototype.ea;var Iu=function(){return new xu},Cu=function(){return pa()},Pu=wa,Lu=xa,Nu=fa,Au={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ou=Ds,Du=Ta,Ru=Vs,Mu=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Mu.o=-1;var zu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ju=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return wr(e,t),e}(Error),Fu=new ri("@firebase/firestore");function Bu(){return Fu.logLevel}function Vu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Fu.logLevel<=$r.DEBUG){var r=e.map(Hu);Fu.debug.apply(Fu,Ir(["Firestore (8.10.0): "+t],r))}}function Uu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Fu.logLevel<=$r.ERROR){var r=e.map(Hu);Fu.error.apply(Fu,Ir(["Firestore (8.10.0): "+t],r))}}function qu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Fu.logLevel<=$r.WARN){var r=e.map(Hu);Fu.warn.apply(Fu,Ir(["Firestore (8.10.0): "+t],r))}}function Hu(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function Wu(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+t;throw Uu(e),new Error(e)}function Zu(t,e){t||Wu()}function Ku(t,e){return t}function Gu(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Qu=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Gu(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function $u(t,e){return t<e?-1:t>e?1:0}function Yu(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Xu(t){return t+"\0"}var Ju=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ju(zu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ju(zu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ju(zu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ju(zu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?$u(this.nanoseconds,t.nanoseconds):$u(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),tl=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Ju(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function el(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function nl(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rl(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var il=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Wu(),void 0===n?n=t.length-e:n>t.length-e&&Wu(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ol=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wr(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new ju(zu.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(il),al=/^[_a-zA-Z][_a-zA-Z0-9]*$/,sl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wr(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return al.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new ju(zu.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new ju(zu.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ju(zu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new ju(zu.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(il),ul=function(){function t(t){this.fields=t,t.sort(sl.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Yu(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),ll=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return $u(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();ll.EMPTY_BYTE_STRING=new ll("");var cl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hl(t){if(Zu(!!t),"string"==typeof t){var e=0,n=cl.exec(t);if(Zu(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:fl(t.seconds),nanos:fl(t.nanos)}}function fl(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function dl(t){return"string"==typeof t?ll.fromBase64String(t):ll.fromUint8Array(t)}function pl(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ml(t){var e=t.mapValue.fields.__previous_value__;return pl(e)?ml(e):e}function vl(t){var e=hl(t.mapValue.fields.__local_write_time__.timestampValue);return new Ju(e.seconds,e.nanos)}function gl(t){return null==t}function yl(t){return 0===t&&1/t==-1/0}function _l(t){return"number"==typeof t&&Number.isInteger(t)&&!yl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var bl=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(ol.fromString(e))},t.fromName=function(e){return new t(ol.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ol.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return ol.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new ol(e.slice()))},t}();function wl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pl(t)?4:10:Wu()}function xl(t,e){var n=wl(t);if(n!==wl(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vl(t).isEqual(vl(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=hl(t.timestampValue),r=hl(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return dl(t.bytesValue).isEqual(dl(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return fl(t.geoPointValue.latitude)===fl(e.geoPointValue.latitude)&&fl(t.geoPointValue.longitude)===fl(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return fl(t.integerValue)===fl(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=fl(t.doubleValue),r=fl(e.doubleValue);return n===r?yl(n)===yl(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Yu(t.arrayValue.values||[],e.arrayValue.values||[],xl);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(el(n)!==el(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!xl(n[i],r[i])))return!1;return!0}(t,e);default:return Wu()}}function El(t,e){return void 0!==(t.values||[]).find((function(t){return xl(t,e)}))}function Sl(t,e){var n=wl(t),r=wl(e);if(n!==r)return $u(n,r);switch(n){case 0:return 0;case 1:return $u(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=fl(t.integerValue||t.doubleValue),r=fl(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Tl(t.timestampValue,e.timestampValue);case 4:return Tl(vl(t),vl(e));case 5:return $u(t.stringValue,e.stringValue);case 6:return function(t,e){var n=dl(t),r=dl(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=$u(n[i],r[i]);if(0!==o)return o}return $u(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=$u(fl(t.latitude),fl(e.latitude));return 0!==n?n:$u(fl(t.longitude),fl(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Sl(n[i],r[i]);if(o)return o}return $u(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=$u(r[a],o[a]);if(0!==s)return s;var u=Sl(n[r[a]],i[o[a]]);if(0!==u)return u}return $u(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Wu()}}function Tl(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return $u(t,e);var n=hl(t),r=hl(e),i=$u(n.seconds,r.seconds);return 0!==i?i:$u(n.nanos,r.nanos)}function kl(t){return Il(t)}function Il(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=hl(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?dl(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,bl.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Il(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Il(t.fields[o])}return e+"}"}(t.mapValue):Wu();var e,n}function Cl(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Pl(t){return!!t&&"integerValue"in t}function Ll(t){return!!t&&"arrayValue"in t}function Nl(t){return!!t&&"nullValue"in t}function Al(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ol(t){return!!t&&"mapValue"in t}function Dl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return nl(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=Dl(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Dl(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Rl=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Ol(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dl(e)},t.prototype.setAll=function(t){var e=this,n=sl.emptyPath(),r={},i=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var a=e.getFieldsMap(n);e.applyChanges(a,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=Dl(t):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Ol(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return xl(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Ol(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){nl(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete t[o]}},t.prototype.clone=function(){return new t(Dl(this.value))},t}();function Ml(t){var e=[];return nl(t.fields,(function(t,n){var r=new sl([t]);if(Ol(n)){var i=Ml(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new ul(e)}var zl=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,tl.min(),Rl.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Rl.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Rl.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Rl.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Rl.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),jl=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Fl(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new jl(t,e,n,r,i,o,a)}function Bl(t){var e=Ku(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+kl(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),gl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Jl(e.startAt)),e.endAt&&(n+="|ub:",n+=Jl(e.endAt)),e.h=n}return e.h}function Vl(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!ec(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!xl(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rc(t.startAt,e.startAt)&&rc(t.endAt,e.endAt)}function Ul(t){return bl.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var ql=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return wr(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Hl(t,n,r):"array-contains"===n?new Gl(t,r):"in"===n?new Ql(t,r):"not-in"===n?new $l(t,r):"array-contains-any"===n?new Yl(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Wl(t,n):new Zl(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Sl(e,this.value)):null!==e&&wl(this.value)===wl(e)&&this.m(Sl(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Wu()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Hl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=bl.fromName(r.referenceValue),i}return wr(e,t),e.prototype.matches=function(t){var e=bl.comparator(t.key,this.key);return this.m(e)},e}(ql),Wl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Kl("in",n),r}return wr(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(ql),Zl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Kl("not-in",n),r}return wr(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(ql);function Kl(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return bl.fromName(t.referenceValue)}))}var Gl=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return wr(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Ll(e)&&El(e.arrayValue,this.value)},e}(ql),Ql=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return wr(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&El(this.value.arrayValue,e)},e}(ql),$l=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return wr(e,t),e.prototype.matches=function(t){if(El(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!El(this.value.arrayValue,e)},e}(ql),Yl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return wr(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Ll(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return El(e.value.arrayValue,t)}))},e}(ql),Xl=function(t,e){this.position=t,this.before=e};function Jl(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return kl(t)})).join(",")}var tc=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function ec(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function nc(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?bl.comparator(bl.fromName(a.referenceValue),n.key):Sl(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function rc(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!xl(t.position[n],e.position[n]))return!1;return!0}var ic=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function oc(t,e,n,r,i,o,a,s){return new ic(t,e,n,r,i,o,a,s)}function ac(t){return new ic(t)}function sc(t){return!gl(t.limit)&&"F"===t.limitType}function uc(t){return!gl(t.limit)&&"L"===t.limitType}function lc(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function cc(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function hc(t){return null!==t.collectionGroup}function fc(t){var e=Ku(t);if(null===e.p){e.p=[];var n=cc(e),r=lc(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new tc(n)),e.p.push(new tc(sl.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new tc(sl.keyField(),u))}}}return e.p}function dc(t){var e=Ku(t);if(!e.T)if("F"===e.limitType)e.T=Fl(e.path,e.collectionGroup,fc(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=fc(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new tc(o.field,a))}var s=e.endAt?new Xl(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Xl(e.startAt.position,!e.startAt.before):null;e.T=Fl(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.T}function pc(t,e,n){return new ic(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mc(t,e){return Vl(dc(t),dc(e))&&t.limitType===e.limitType}function vc(t){return Bl(dc(t))+"|lt:"+t.limitType}function gc(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+kl(e.value);var e})).join(", ")+"]"),gl(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Jl(t.startAt)),t.endAt&&(e+=", endAt: "+Jl(t.endAt)),"Target("+e+")"}(dc(t))+"; limitType="+t.limitType+")"}function yc(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):bl.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!nc(t.startAt,fc(t),e))&&(!t.endAt||!nc(t.endAt,fc(t),e))}(t,e)}function _c(t){return function(e,n){for(var r=!1,i=0,o=fc(t);i<o.length;i++){var a=o[i],s=bc(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function bc(t,e,n){var r=t.field.isKeyField()?bl.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Sl(r,i):Wu()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Wu()}}function wc(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yl(e)?"-0":e}}function xc(t){return{integerValue:""+t}}function Ec(t,e){return _l(e)?xc(e):wc(t,e)}var Sc=function(){this._=void 0};function Tc(t,e,n){return t instanceof Cc?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Pc?Lc(t,e):t instanceof Nc?Ac(t,e):function(t,e){var n=Ic(t,e),r=Dc(n)+Dc(t.A);return Pl(n)&&Pl(t.A)?xc(r):wc(t.R,r)}(t,e)}function kc(t,e,n){return t instanceof Pc?Lc(t,e):t instanceof Nc?Ac(t,e):n}function Ic(t,e){return t instanceof Oc?Pl(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Cc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wr(e,t),e}(Sc),Pc=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return wr(e,t),e}(Sc);function Lc(t,e){for(var n=Rc(e),r=function(t){n.some((function(e){return xl(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Nc=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return wr(e,t),e}(Sc);function Ac(t,e){for(var n=Rc(e),r=function(t){n=n.filter((function(e){return!xl(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Oc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return wr(e,t),e}(Sc);function Dc(t){return fl(t.integerValue||t.doubleValue)}function Rc(t){return Ll(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Mc=function(t,e){this.field=t,this.transform=e},zc=function(t,e){this.version=t,this.transformResults=e},jc=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Fc(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Bc=function(){};function Vc(t,e,n){t instanceof Zc?function(t,e,n){var r=t.value.clone(),i=Qc(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Kc?function(t,e,n){if(Fc(t.precondition,e)){var r=Qc(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Gc(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Uc(t,e,n){t instanceof Zc?function(t,e,n){if(Fc(t.precondition,e)){var r=t.value.clone(),i=$c(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Wc(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Kc?function(t,e,n){if(Fc(t.precondition,e)){var r=$c(t.fieldTransforms,n,e),i=e.data;i.setAll(Gc(t)),i.setAll(r),e.convertToFoundDocument(Wc(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Fc(t.precondition,e)&&e.convertToNoDocument(tl.min())}(t,e)}function qc(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=Ic(o.transform,a||null);null!=s&&(null==n&&(n=Rl.empty()),n.set(o.field,s))}return n||null}function Hc(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Yu(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Pc&&e instanceof Pc||t instanceof Nc&&e instanceof Nc?Yu(t.elements,e.elements,xl):t instanceof Oc&&e instanceof Oc?xl(t.A,e.A):t instanceof Cc&&e instanceof Cc}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Wc(t){return t.isFoundDocument()?t.version:tl.min()}var Zc=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return wr(e,t),e}(Bc),Kc=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return wr(e,t),e}(Bc);function Gc(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function Qc(t,e,n){var r=new Map;Zu(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,kc(a,s,n[i]))}return r}function $c(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Tc(s,u,e))}return r}var Yc,Xc,Jc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return wr(e,t),e}(Bc),th=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return wr(e,t),e}(Bc),eh=function(t){this.count=t};function nh(t){switch(t){case zu.OK:return Wu();case zu.CANCELLED:case zu.UNKNOWN:case zu.DEADLINE_EXCEEDED:case zu.RESOURCE_EXHAUSTED:case zu.INTERNAL:case zu.UNAVAILABLE:case zu.UNAUTHENTICATED:return!1;case zu.INVALID_ARGUMENT:case zu.NOT_FOUND:case zu.ALREADY_EXISTS:case zu.PERMISSION_DENIED:case zu.FAILED_PRECONDITION:case zu.ABORTED:case zu.OUT_OF_RANGE:case zu.UNIMPLEMENTED:case zu.DATA_LOSS:return!0;default:return Wu()}}function rh(t){if(void 0===t)return Uu("GRPC error has no .code"),zu.UNKNOWN;switch(t){case Yc.OK:return zu.OK;case Yc.CANCELLED:return zu.CANCELLED;case Yc.UNKNOWN:return zu.UNKNOWN;case Yc.DEADLINE_EXCEEDED:return zu.DEADLINE_EXCEEDED;case Yc.RESOURCE_EXHAUSTED:return zu.RESOURCE_EXHAUSTED;case Yc.INTERNAL:return zu.INTERNAL;case Yc.UNAVAILABLE:return zu.UNAVAILABLE;case Yc.UNAUTHENTICATED:return zu.UNAUTHENTICATED;case Yc.INVALID_ARGUMENT:return zu.INVALID_ARGUMENT;case Yc.NOT_FOUND:return zu.NOT_FOUND;case Yc.ALREADY_EXISTS:return zu.ALREADY_EXISTS;case Yc.PERMISSION_DENIED:return zu.PERMISSION_DENIED;case Yc.FAILED_PRECONDITION:return zu.FAILED_PRECONDITION;case Yc.ABORTED:return zu.ABORTED;case Yc.OUT_OF_RANGE:return zu.OUT_OF_RANGE;case Yc.UNIMPLEMENTED:return zu.UNIMPLEMENTED;case Yc.DATA_LOSS:return zu.DATA_LOSS;default:return Wu()}}(Xc=Yc||(Yc={}))[Xc.OK=0]="OK",Xc[Xc.CANCELLED=1]="CANCELLED",Xc[Xc.UNKNOWN=2]="UNKNOWN",Xc[Xc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xc[Xc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xc[Xc.NOT_FOUND=5]="NOT_FOUND",Xc[Xc.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xc[Xc.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xc[Xc.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xc[Xc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xc[Xc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xc[Xc.ABORTED=10]="ABORTED",Xc[Xc.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xc[Xc.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xc[Xc.INTERNAL=13]="INTERNAL",Xc[Xc.UNAVAILABLE=14]="UNAVAILABLE",Xc[Xc.DATA_LOSS=15]="DATA_LOSS";var ih=function(){function t(t,e){this.comparator=t,this.root=e||ah.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ah.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ah.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new oh(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new oh(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new oh(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new oh(this.root,t,this.comparator,!0)},t}(),oh=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),ah=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Wu();if(this.right.isRed())throw Wu();var t=this.left.check();if(t!==this.right.check())throw Wu();return t+(this.isRed()?0:1)},t}();ah.EMPTY=null,ah.RED=!0,ah.BLACK=!1,ah.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Wu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Wu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Wu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Wu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Wu()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new ah(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var sh=function(){function t(t){this.comparator=t,this.data=new ih(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new uh(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new uh(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),uh=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),lh=new ih(bl.comparator);function ch(){return lh}var hh=new ih(bl.comparator);function fh(){return hh}var dh=new ih(bl.comparator);function ph(){return dh}var mh=new sh(bl.comparator);function vh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=mh,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var gh=new sh($u);function yh(){return gh}var _h=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,bh.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(tl.min(),r,yh(),ch(),vh())},t}(),bh=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(ll.EMPTY_BYTE_STRING,n,vh(),vh(),vh())},t}(),wh=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},xh=function(t,e){this.targetId=t,this.V=e},Eh=function(t,e,n,r){void 0===n&&(n=ll.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Sh=function(){function t(){this.S=0,this.D=Ih(),this.C=ll.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=vh(),e=vh(),n=vh();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Wu()}})),new bh(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=Ih()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),Th=function(){function t(t){this.W=t,this.G=new Map,this.H=ch(),this.J=kh(),this.Y=new sh($u)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Wu()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Ul(i))if(0===n){var o=new bl(i.path);this.tt(e,o,zl.newNoDocument(o,tl.min()))}else Zu(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&Ul(o.target)){var a=new bl(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,zl.newNoDocument(a,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=vh();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new _h(t,n,this.Y,this.H,r);return this.H=ch(),this.J=kh(),this.Y=new sh($u),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Sh,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new sh($u),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Vu("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Sh),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function kh(){return new ih(bl.comparator)}function Ih(){return new ih(bl.comparator)}var Ch={asc:"ASCENDING",desc:"DESCENDING"},Ph={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lh=function(t,e){this.databaseId=t,this.I=e};function Nh(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ah(t,e){return t.I?e.toBase64():e.toUint8Array()}function Oh(t,e){return Nh(t,e.toTimestamp())}function Dh(t){return Zu(!!t),tl.fromTimestamp(function(t){var e=hl(t);return new Ju(e.seconds,e.nanos)}(t))}function Rh(t,e){return function(t){return new ol(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Mh(t){var e=ol.fromString(t);return Zu(sf(e)),e}function zh(t,e){return Rh(t.databaseId,e.path)}function jh(t,e){var n=Mh(e);if(n.get(1)!==t.databaseId.projectId)throw new ju(zu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ju(zu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new bl(Uh(n))}function Fh(t,e){return Rh(t.databaseId,e)}function Bh(t){var e=Mh(t);return 4===e.length?ol.emptyPath():Uh(e)}function Vh(t){return new ol(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Uh(t){return Zu(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function qh(t,e,n){return{name:zh(t,e),fields:n.value.mapValue.fields}}function Hh(t,e,n){var r=jh(t,e.name),i=Dh(e.updateTime),o=new Rl({mapValue:{fields:e.fields}}),a=zl.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Wh(t,e){var n;if(e instanceof Zc)n={update:qh(t,e.key,e.value)};else if(e instanceof Jc)n={delete:zh(t,e.key)};else if(e instanceof Kc)n={update:qh(t,e.key,e.data),updateMask:af(e.fieldMask)};else{if(!(e instanceof th))return Wu();n={verify:zh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Cc)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Pc)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Nc)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Oc)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Wu()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Oh(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Wu()}(t,e.precondition)),n}function Zh(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?jc.updateTime(Dh(t.updateTime)):void 0!==t.exists?jc.exists(t.exists):jc.none()}(e.currentDocument):jc.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Zu("REQUEST_TIME"===e.setToServerValue),n=new Cc;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Pc(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new Nc(i)}else"increment"in e?n=new Oc(t,e.increment):Wu();var o=sl.fromServerFormat(e.fieldPath);return new Mc(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=jh(t,e.update.name),o=new Rl({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new ul(e.map((function(t){return sl.fromServerFormat(t)})))}(e.updateMask);return new Kc(i,o,a,n,r)}return new Zc(i,o,n,r)}if(e.delete){var s=jh(t,e.delete);return new Jc(s,n)}if(e.verify){var u=jh(t,e.verify);return new th(u,n)}return Wu()}function Kh(t,e){return{documents:[Fh(t,e.path)]}}function Gh(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Fh(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Fh(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Al(t.value))return{unaryFilter:{field:ef(t.field),op:"IS_NAN"}};if(Nl(t.value))return{unaryFilter:{field:ef(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Al(t.value))return{unaryFilter:{field:ef(t.field),op:"IS_NOT_NAN"}};if(Nl(t.value))return{unaryFilter:{field:ef(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ef(t.field),op:tf(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:ef(t.field),direction:Jh(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||gl(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Yh(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Yh(e.endAt)),n}function Qh(t){var e=Bh(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Zu(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=$h(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new tc(nf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return gl(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=Xh(n.startAt));var c=null;return n.endAt&&(c=Xh(n.endAt)),oc(e,i,s,a,u,"F",l,c)}function $h(t){return t?void 0!==t.unaryFilter?[of(t)]:void 0!==t.fieldFilter?[rf(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return $h(t)})).reduce((function(t,e){return t.concat(e)})):Wu():[]}function Yh(t){return{before:t.before,values:t.position}}function Xh(t){var e=!!t.before,n=t.values||[];return new Xl(n,e)}function Jh(t){return Ch[t]}function tf(t){return Ph[t]}function ef(t){return{fieldPath:t.canonicalString()}}function nf(t){return sl.fromServerFormat(t.fieldPath)}function rf(t){return ql.create(nf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Wu()}}(t.fieldFilter.op),t.fieldFilter.value)}function of(t){switch(t.unaryFilter.op){case"IS_NAN":var e=nf(t.unaryFilter.field);return ql.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=nf(t.unaryFilter.field);return ql.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=nf(t.unaryFilter.field);return ql.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=nf(t.unaryFilter.field);return ql.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Wu()}}function af(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function sf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function uf(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=cf(e)),e=lf(t.get(n),e);return cf(e)}function lf(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function cf(t){return t+"\x01\x01"}function hf(t){var e=t.length;if(Zu(e>=2),2===e)return Zu("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),ol.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&Wu(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:Wu()}o=a+2}return new ol(r)}var ff=function(t,e){this.seconds=t,this.nanoseconds=e},df=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};df.store="owner",df.key="owner";var pf=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};pf.store="mutationQueues",pf.keyPath="userId";var mf=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};mf.store="mutations",mf.keyPath="batchId",mf.userMutationsIndex="userMutationsIndex",mf.userMutationsKeyPath=["userId","batchId"];var vf=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,uf(e)]},t.key=function(t,e,n){return[t,uf(e),n]},t}();vf.store="documentMutations",vf.PLACEHOLDER=new vf;var gf=function(t,e){this.path=t,this.readTime=e},yf=function(t,e){this.path=t,this.version=e},_f=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};_f.store="remoteDocuments",_f.readTimeIndex="readTimeIndex",_f.readTimeIndexPath="readTime",_f.collectionReadTimeIndex="collectionReadTimeIndex",_f.collectionReadTimeIndexPath=["parentPath","readTime"];var bf=function(t){this.byteSize=t};bf.store="remoteDocumentGlobal",bf.key="remoteDocumentGlobalKey";var wf=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};wf.store="targets",wf.keyPath="targetId",wf.queryTargetsIndexName="queryTargetsIndex",wf.queryTargetsKeyPath=["canonicalId","targetId"];var xf=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};xf.store="targetDocuments",xf.keyPath=["targetId","path"],xf.documentTargetsIndex="documentTargetsIndex",xf.documentTargetsKeyPath=["path","targetId"];var Ef=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Ef.key="targetGlobalKey",Ef.store="targetGlobal";var Sf=function(t,e){this.collectionId=t,this.parent=e};Sf.store="collectionParents",Sf.keyPath=["collectionId","parent"];var Tf=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Tf.store="clientMetadata",Tf.keyPath="clientId";var kf=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};kf.store="bundles",kf.keyPath="bundleId";var If=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};If.store="namedQueries",If.keyPath="name";var Cf=Ir(Ir([],Ir(Ir([],Ir(Ir([],Ir(Ir([],[pf.store,mf.store,vf.store,_f.store,wf.store,df.store,Ef.store,xf.store]),[Tf.store])),[bf.store])),[Sf.store])),[kf.store,If.store]),Pf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Lf=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),Nf=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Af=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Wu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),Of=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Nf,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Mf(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Vf(e.target.error);n.ft.reject(new Mf(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Mf(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Vu("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new jf(e)},t}(),Df=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Or())&&Uu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Vu("SimpleDb","Removing database:",t),Ff(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Or(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_DOMAIN:"garuda-55c76.firebaseapp.com",REACT_APP_FIREBASE_KEY:"AIzaSyAoCsgupG3lsLFw9ns2gMWjzPH8t3ntLXo",REACT_APP_FIREBASE_PROJECT_ID:"garuda-55c76",REACT_APP_FIREBASE_SENDER_ID:"981452137997",REACT_APP_FIREBASE_STORAGE_BUCKET:"garuda-55c76.appspot.com",REACT_APP_MEASUREMENT_ID:"G-FJ3G5R7TMX",REACT_APP_MESSAGING_APP_ID:"1:981452137997:web:f52796b809734a84fed744"})||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Er(this,void 0,void 0,(function(){var e,n=this;return Sr(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Vu("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Mf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new ju(zu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Mf(t,n))},i.onupgradeneeded=function(t){Vu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){Vu("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Er(this,void 0,void 0,(function(){var i,o,a,s,u;return Sr(this,(function(l){switch(l.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,l,c;return Sr(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(t)];case 2:return s.db=h.sent(),e=Of.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),Af.reject(t)})).toPromise(),u={},a.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return l=h.sent(),c="FirebaseError"!==l.name&&o<3,Vu("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),s.close(),c?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},s=this,l.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=l.sent()))return[2,u.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Rf=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Ff(this.Pt.delete())},t}(),Mf=function(t){function e(e,n){var r=this;return(r=t.call(this,zu.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return wr(e,t),e}(ju);function zf(t){return"IndexedDbTransactionError"===t.name}var jf=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Vu("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Vu("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ff(n)},t.prototype.add=function(t){return Vu("SimpleDb","ADD",this.store.name,t,t),Ff(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ff(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Vu("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Vu("SimpleDb","DELETE",this.store.name,t),Ff(this.store.delete(t))},t.prototype.count=function(){return Vu("SimpleDb","COUNT",this.store.name),Ff(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.kt=function(t,e){Vu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Af((function(n,r){e.onerror=function(t){var e=Vf(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new Af((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Rf(i),a=e(i.primaryKey,i.value,o);if(a instanceof Af){var s=a.catch((function(t){return o.done(),Af.reject(t)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Af.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ff(t){return new Af((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Vf(t.target.error);n(e)}}))}var Bf=!1;function Vf(t){var e=Df._t(Or());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new ju("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Bf||(Bf=!0,setTimeout((function(){throw r}),0)),r}}return t}var Uf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return wr(e,t),e}(Lf);function qf(t,e){var n=Ku(t);return Df.It(n.Mt,e)}var Hf=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Vc(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Uc(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Uc(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(tl.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),vh())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Yu(this.mutations,t.mutations,(function(t,e){return Hc(t,e)}))&&Yu(this.baseMutations,t.baseMutations,(function(t,e){return Hc(t,e)}))},t}(),Wf=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Zu(e.mutations.length===r.length);for(var i=ph(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Zf=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=tl.min()),void 0===o&&(o=tl.min()),void 0===a&&(a=ll.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Kf=function(t){this.Lt=t};function Gf(t,e){if(e.document)return Hh(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=bl.fromSegments(e.noDocument.path),r=Jf(e.noDocument.readTime),i=zl.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=bl.fromSegments(e.unknownDocument.path);return r=Jf(e.unknownDocument.version),zl.newUnknownDocument(o,r)}return Wu()}function Qf(t,e,n){var r=$f(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:zh(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Nh(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new _f(null,null,o,a,r,i)}if(e.isNoDocument()){var s=e.key.path.toArray(),u=Xf(e.version);return a=e.hasCommittedMutations,new _f(null,new gf(s,u),null,a,r,i)}if(e.isUnknownDocument()){var l=e.key.path.toArray(),c=Xf(e.version);return new _f(new yf(l,c),null,null,!0,r,i)}return Wu()}function $f(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Yf(t){var e=new Ju(t[0],t[1]);return tl.fromTimestamp(e)}function Xf(t){var e=t.toTimestamp();return new ff(e.seconds,e.nanoseconds)}function Jf(t){var e=new Ju(t.seconds,t.nanoseconds);return tl.fromTimestamp(e)}function td(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Zh(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map((function(e){return Zh(t.Lt,e)})),s=Ju.fromMillis(e.localWriteTimeMs);return new Hf(e.batchId,s,n,a)}function ed(t){var e,n,r=Jf(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Jf(t.lastLimboFreeSnapshotVersion):tl.min();return void 0!==t.query.documents?(Zu(1===(n=t.query).documents.length),e=dc(ac(Bh(n.documents[0])))):e=function(t){return dc(Qh(t))}(t.query),new Zf(e,t.targetId,0,t.lastListenSequenceNumber,r,i,ll.fromBase64String(t.resumeToken))}function nd(t,e){var n,r=Xf(e.snapshotVersion),i=Xf(e.lastLimboFreeSnapshotVersion);n=Ul(e.target)?Kh(t.Lt,e.target):Gh(t.Lt,e.target);var o=e.resumeToken.toBase64();return new wf(e.targetId,Bl(e.target),r,o,e.sequenceNumber,i,n)}function rd(t){var e=Qh({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?pc(e,e.limit,"L"):e}var id=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return od(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Jf(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return od(t).put({bundleId:(n=e).id,createTime:Xf(Dh(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return ad(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:rd(e.bundledQuery),readTime:Jf(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return ad(t).put(function(t){return{name:t.name,readTime:Xf(Dh(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function od(t){return qf(t,kf.store)}function ad(t){return qf(t,If.store)}var sd=function(){function t(){this.Bt=new ud}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Af.resolve()},t.prototype.getCollectionParents=function(t,e){return Af.resolve(this.Bt.getEntries(e))},t}(),ud=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new sh(ol.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new sh(ol.comparator)).toArray()},t}(),ld=function(){function t(){this.qt=new ud}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:uf(i)};return cd(t).put(o)}return Af.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Xu(e),""],!1,!0);return cd(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(hf(o.parent))}return n}))},t}();function cd(t){return qf(t,Sf.store)}var hd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fd=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function dd(t,e,n){var r=t.store(mf.store),i=t.store(vf.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){Zu(1===s)})));for(var l=[],c=0,h=n.mutations;c<h.length;c++){var f=h[c],d=vf.key(e,f.key.path,n.batchId);o.push(i.delete(d)),l.push(f.key)}return Af.waitFor(o).next((function(){return l}))}function pd(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Wu();e=t.noDocument}return JSON.stringify(e).length}fd.DEFAULT_COLLECTION_PERCENTILE=10,fd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fd.DEFAULT=new fd(41943040,fd.DEFAULT_COLLECTION_PERCENTILE,fd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fd.DISABLED=new fd(-1,0,0);var md=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return Zu(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gd(t).$t({index:mf.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=yd(t),a=gd(t);return a.add({}).next((function(s){Zu("number"==typeof s);for(var u=new Hf(s,e,n,r),l=function(t,e,n){var r=n.baseMutations.map((function(e){return Wh(t.Lt,e)})),i=n.mutations.map((function(e){return Wh(t.Lt,e)}));return new mf(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),c=[],h=new sh((function(t,e){return $u(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],m=vf.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),c.push(a.put(l)),c.push(o.put(m,vf.PLACEHOLDER))}return h.forEach((function(e){c.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),Af.waitFor(c).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return gd(t).get(e).next((function(t){return t?(Zu(t.userId===n.userId),td(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?Af.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return gd(t).$t({index:mf.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Zu(e.batchId>=r),o=td(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return gd(t).$t({index:mf.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gd(t).Nt(mf.userMutationsIndex,n).next((function(t){return t.map((function(t){return td(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=vf.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return yd(t).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],l=r[2],c=hf(u);if(s===n.userId&&e.path.isEqual(c))return gd(t).get(l).next((function(t){if(!t)throw Wu();Zu(t.userId===n.userId),o.push(td(n.R,t))}));a.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new sh($u),i=[];return e.forEach((function(e){var o=vf.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=yd(t).$t({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],l=hf(s);a===n.userId&&e.path.isEqual(l)?r=r.add(u):o.done()}));i.push(s)})),Af.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=vf.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new sh($u);return yd(t).$t({range:a},(function(t,e,o){var a=t[0],u=t[1],l=t[2],c=hf(u);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(l)):o.done()})).next((function(){return n.Wt(t,s)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(gd(t).get(e).next((function(t){if(null===t)throw Wu();Zu(t.userId===n.userId),r.push(td(n.R,t))})))})),Af.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return dd(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),Af.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return Af.resolve();var r=IDBKeyRange.lowerBound(vf.prefixForUser(e.userId)),i=[];return yd(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var o=hf(t[1]);i.push(o)}else r.done()})).next((function(){Zu(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return vd(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return _d(t).get(this.userId).next((function(t){return t||new pf(e.userId,-1,"")}))},t}();function vd(t,e,n){var r=vf.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return yd(t).$t({range:o,Ft:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function gd(t){return qf(t,mf.store)}function yd(t){return qf(t,vf.store)}function _d(t){return qf(t,pf.store)}var bd=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),wd=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new bd(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return tl.fromTimestamp(new Ju(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return xd(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return Zu(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return xd(t).$t((function(a,s){var u=ed(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return Af.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return xd(t).$t((function(t,n){var r=ed(n);e(r)}))},t.prototype.Xt=function(t){return Ed(t).get(Ef.key).next((function(t){return Zu(null!==t),t}))},t.prototype.Zt=function(t,e){return Ed(t).put(Ef.key,e)},t.prototype.te=function(t,e){return xd(t).put(nd(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=Bl(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return xd(t).$t({range:r,index:wf.queryTargetsIndexName},(function(t,n,r){var o=ed(n);Vl(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Sd(t);return e.forEach((function(e){var a=uf(e.path);i.push(o.put(new xf(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))})),Af.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Sd(t);return Af.forEach(e,(function(e){var o=uf(e.path);return Af.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Sd(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Sd(t),i=vh();return r.$t({range:n,Ft:!0},(function(t,e,n){var r=hf(t[1]),o=new bl(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=uf(e.path),r=IDBKeyRange.bound([n],[Xu(n)],!1,!0),i=0;return Sd(t).$t({index:xf.documentTargetsIndex,Ft:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return xd(t).get(e).next((function(t){return t?ed(t):null}))},t}();function xd(t){return qf(t,wf.store)}function Ed(t){return qf(t,Ef.store)}function Sd(t){return qf(t,xf.store)}function Td(t){return Er(this,void 0,void 0,(function(){return Sr(this,(function(e){if(t.code!==zu.FAILED_PRECONDITION||t.message!==Pf)throw t;return Vu("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function kd(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=$u(n,i);return 0===a?$u(r,o):a}var Id=function(){function t(t){this.ne=t,this.buffer=new sh(kd),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();kd(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Cd=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Vu("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Er(e,void 0,void 0,(function(){var e;return Sr(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return zf(e=n.sent())?(Vu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Td(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Pd=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Af.resolve(Mu.o);var r=new Id(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Vu("LruGarbageCollector","Garbage collection skipped; disabled"),Af.resolve(hd)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Vu("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),hd):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,a,s,u,l=this,c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>l.params.maximumSequenceNumbersToCollect?(Vu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),r=l.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),l.nthSequenceNumber(t,r)})).next((function(r){return n=r,a=Date.now(),l.removeTargets(t,n,e)})).next((function(e){return i=e,s=Date.now(),l.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),Bu()<=$r.DEBUG&&Vu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-c)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-c)+"ms"),Af.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),Ld=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Pd(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return Nd(t,n)},t.prototype.removeReference=function(t,e,n){return Nd(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Nd(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return _d(t).Ot((function(r){return vd(t,r,e).next((function(t){return t&&(n=!0),Af.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(a,s){if(s<=e){var u=n._e(t,a).next((function(e){if(!e)return o++,r.getEntry(t,a).next((function(){return r.removeEntry(a),Sd(t).delete([0,uf(a.path)])}))}));i.push(u)}})).next((function(){return Af.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Nd(t,e)},t.prototype.we=function(t,e){var n,r=Sd(t),i=Mu.o;return r.$t({index:xf.documentTargetsIndex},(function(t,r){var o=t[0];t[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==Mu.o&&e(new bl(hf(n)),i),i=s,n=a):i=Mu.o})).next((function(){i!==Mu.o&&e(new bl(hf(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Nd(t,e){return Sd(t).put(function(t,e){return new xf(0,uf(t.path),e)}(e,t.currentSequenceNumber))}var Ad=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){nl(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype.isEmpty=function(){return rl(this.inner)},t}(),Od=function(){function t(){this.changes=new Ad((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:tl.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:zl.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Af.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Dd=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return zd(t).put(jd(e),n)},t.prototype.removeEntry=function(t,e){var n=zd(t),r=jd(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return zd(t).get(jd(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return zd(t).get(jd(e)).next((function(t){return{document:n.ye(e,t),size:pd(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=ch();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=ch(),i=new ih(bl.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,pd(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Af.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return zd(t).$t({range:r},(function(t,e,r){for(var a=bl.fromSegments(t);o&&bl.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=ch(),o=e.path.length+1,a={};if(n.isEqual(tl.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),l=$f(n);a.range=IDBKeyRange.lowerBound([u,l],!0),a.index=_f.collectionReadTimeIndex}return zd(t).$t(a,(function(t,n,a){if(t.length===o){var s=Gf(r.R,n);e.path.isPrefixOf(s.key.path)?yc(e,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new Rd(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Md(t).get(bf.key).next((function(t){return Zu(!!t),t}))},t.prototype.me=function(t,e){return Md(t).put(bf.key,e)},t.prototype.ye=function(t,e){if(e){var n=Gf(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(tl.min()))return n}return zl.newInvalidDocument(t)},t}(),Rd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Ad((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return wr(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new sh((function(t,e){return $u(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=Qf(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var l=pd(u);r+=l-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var c=Qf(e.Ie.R,zl.newNoDocument(o,tl.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,c))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),Af.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(Od);function Md(t){return qf(t,bf.store)}function zd(t){return qf(t,_f.store)}function jd(t){return t.path.toArray()}var Fd=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Zu(n<r&&n>=0&&r<=11);var o=new Of("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(df.store)}(t),function(t){t.createObjectStore(pf.store,{keyPath:pf.keyPath}),t.createObjectStore(mf.store,{keyPath:mf.keyPath,autoIncrement:!0}).createIndex(mf.userMutationsIndex,mf.userMutationsKeyPath,{unique:!0}),t.createObjectStore(vf.store)}(t),Bd(t),function(t){t.createObjectStore(_f.store)}(t));var a=Af.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(xf.store),t.deleteObjectStore(wf.store),t.deleteObjectStore(Ef.store)}(t),Bd(t)),a=a.next((function(){return function(t){var e=t.store(Ef.store),n=new Ef(0,0,tl.min().toTimestamp(),0);return e.put(Ef.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(mf.store).Nt().next((function(n){t.deleteObjectStore(mf.store),t.createObjectStore(mf.store,{keyPath:mf.keyPath,autoIncrement:!0}).createIndex(mf.userMutationsIndex,mf.userMutationsKeyPath,{unique:!0});var r=e.store(mf.store),i=n.map((function(t){return r.put(t)}));return Af.waitFor(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(Tf.store,{keyPath:Tf.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(bf.store)}(t),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(_f.store);e.createIndex(_f.readTimeIndex,_f.readTimeIndexPath,{unique:!1}),e.createIndex(_f.collectionReadTimeIndex,_f.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(kf.store,{keyPath:kf.keyPath})}(t),function(t){t.createObjectStore(If.store,{keyPath:If.keyPath})}(t)}))),a},t.prototype.be=function(t){var e=0;return t.store(_f.store).$t((function(t,n){e+=pd(n)})).next((function(){var n=new bf(e);return t.store(bf.store).put(bf.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(pf.store),r=t.store(mf.store);return n.Nt().next((function(n){return Af.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(mf.userMutationsIndex,i).next((function(r){return Af.forEach(r,(function(r){Zu(r.userId===n.userId);var i=td(e.R,r);return dd(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(xf.store),n=t.store(_f.store);return t.store(Ef.store).get(Ef.key).next((function(t){var r=[];return n.$t((function(n,i){var o=new ol(n),a=function(t){return[0,uf(t)]}(o);r.push(e.get(a).next((function(n){return n?Af.resolve():function(n){return e.put(new xf(0,uf(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Af.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(Sf.store,{keyPath:Sf.keyPath});var n=e.store(Sf.store),r=new ud,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:uf(i)})}};return e.store(_f.store).$t({Ft:!0},(function(t,e){var n=new ol(t);return i(n.popLast())})).next((function(){return e.store(vf.store).$t({Ft:!0},(function(t,e){t[0];var n=t[1];t[2];var r=hf(n);return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(wf.store);return n.$t((function(t,r){var i=ed(r),o=nd(e.R,i);return n.put(o)}))},t}();function Bd(t){t.createObjectStore(xf.store,{keyPath:xf.keyPath}).createIndex(xf.documentTargetsIndex,xf.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(wf.store,{keyPath:wf.keyPath}).createIndex(wf.queryTargetsIndexName,wf.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Ef.store)}var Vd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ud=function(){function t(e,n,r,i,o,a,s,u,l,c){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=l,this.Ce=c,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new ju(zu.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ld(this,i),this.Le=n+"main",this.R=new Kf(u),this.Be=new Df(this.Le,11,new Fd(this.R)),this.qe=new wd(this.referenceDelegate,this.R),this.Ut=new ld,this.Ue=function(t,e){return new Dd(t,e)}(this.R,this.Ut),this.Ke=new id,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===c&&Uu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new ju(zu.FAILED_PRECONDITION,Vd);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Mu(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Er(e,void 0,void 0,(function(){return Sr(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return Er(e,void 0,void 0,(function(){return Sr(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return Er(e,void 0,void 0,(function(){return Sr(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Hd(e).put(new Tf(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(zf(e))return Vu("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Vu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return qd(t).get(df.key).next((function(t){return Af.resolve(e.tn(t))}))},t.prototype.en=function(t){return Hd(t).delete(this.clientId)},t.prototype.nn=function(){return Er(this,void 0,void 0,(function(){var t,e,n,r,i=this;return Sr(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=qf(t,Tf.store);return e.Nt().next((function(t){var n=i.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return Af.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)r=n[e],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Af.resolve(!0):qd(t).get(df.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new ju(zu.FAILED_PRECONDITION,Vd);return!1}}return!(!e.networkEnabled||!e.inForeground)||Hd(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Vu("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return Er(this,void 0,void 0,(function(){var t=this;return Sr(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[df.store,Tf.store],(function(e){var n=new Uf(e,Mu.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Hd(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return md.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Vu("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,Cf,(function(o){return i=new Uf(o,r.Ne?r.Ne.next():Mu.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw Uu("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new ju(zu.FAILED_PRECONDITION,Pf);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return qd(t).get(df.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new ju(zu.FAILED_PRECONDITION,Vd)}))},t.prototype.Ze=function(t){var e=new df(this.clientId,this.allowTabSynchronization,Date.now());return qd(t).put(df.key,e)},t.yt=function(){return Df.yt()},t.prototype.Xe=function(t){var e=this,n=qd(t);return n.get(df.key).next((function(t){return e.tn(t)?(Vu("IndexedDbPersistence","Releasing primary lease."),n.delete(df.key)):Af.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Uu("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),!Dr()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Vu("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Uu("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Uu("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function qd(t){return qf(t,df.store)}function Hd(t){return qf(t,Tf.store)}function Wd(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Zd=function(t,e){this.progress=t,this.wn=e},Kd=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return bl.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):hc(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new bl(e)).next((function(t){var e=fh();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=fh();return this.Ut.getCollectionParents(t,i).next((function(a){return Af.forEach(a,(function(a){var s=function(t,e){return new ic(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,s,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],l=u.key,c=r.get(l);null==c&&(c=zl.newInvalidDocument(l),r=r.insert(l,c)),Uc(u,c,o.localWriteTime),c.isFoundDocument()||(r=r.remove(l))}}))})).next((function(){return r.forEach((function(t,n){yc(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=vh(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Kc&&null===n.get(u.key)&&(r=r.add(u.key))}var l=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(l=l.insert(t,e))})),l}))},t}(),Gd=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=vh(),i=vh(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Qd=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(tl.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var a=i.Cn(e,o);return(sc(e)||uc(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(Bu()<=$r.DEBUG&&Vu("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),gc(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return a.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new sh(_c(t));return e.forEach((function(e,r){yc(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Bu()<=$r.DEBUG&&Vu("QueryEngine","Using full collection scan to execute query:",gc(e)),this.Sn.getDocumentsMatchingQuery(t,e,tl.min())},t}(),$d=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new ih($u),this.Fn=new Ad((function(t){return Bl(t)}),Vl),this.$n=tl.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Kd(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.kn)}))},t}();function Yd(t,e,n,r){return new $d(t,e,n,r)}function Xd(t,e){return Er(this,void 0,void 0,(function(){var n,r,i,o;return Sr(this,(function(a){switch(a.label){case 0:return n=Ku(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new Kd(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],a=vh(),s=0,u=o;s<u.length;s++){var l=u[s];n.push(l.batchId);for(var c=0,h=l.mutations;c<h.length;c++){var f=h[c];a=a.add(f.key)}}for(var d=0,p=e;d<p.length;d++){var m=p[d];r.push(m.batchId);for(var v=0,g=m.mutations;v<g.length;v++){var y=g[v];a=a.add(y.key)}}return i.pn(t,a).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Jd(t,e){var n=Ku(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=Af.resolve();return o.forEach((function(t){a=a.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);Zu(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),a.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function tp(t){var e=Ku(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function ep(t,e){var n=Ku(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];e.targetChanges.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var l=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,l),function(t,e,n){return Zu(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,l,e)&&a.push(n.qe.updateTargetData(t,l))}}}));var s=ch();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(np(t,o,e.documentUpdates,r,void 0).next((function(t){s=t}))),!r.isEqual(tl.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));a.push(u)}return Af.waitFor(a).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,s)})).next((function(){return s}))})).then((function(t){return n.kn=i,t}))}function np(t,e,n,r,i){var o=vh();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=ch();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(tl.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):Vu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function rp(t,e){var n=Ku(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function ip(t,e){var n=Ku(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,Af.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new Zf(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t}))}function op(t,e,n){return Er(this,void 0,void 0,(function(){var r,i,o,a;return Sr(this,(function(s){switch(s.label){case 0:r=Ku(t),i=r.kn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!zf(a=s.sent()))throw a;return Vu("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}}))}))}function ap(t,e,n){var r=Ku(t),i=tl.min(),o=vh();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Ku(t),i=r.Fn.get(n);return void 0!==i?Af.resolve(r.kn.get(i)):r.qe.getTargetData(e,n)}(r,t,dc(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:tl.min(),n?o:vh())})).next((function(t){return{documents:t,Bn:o}}))}))}function sp(t,e){var n=Ku(t),r=Ku(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function up(t){var e=Ku(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Ku(t),i=ch(),o=$f(n),a=zd(e),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:_f.readTimeIndex,range:s},(function(t,e){var n=Gf(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:Yf(o)}}))}(e.On,t,e.$n)})).then((function(t){var n=t.wn,r=t.readTime;return e.$n=r,n}))}function lp(t){return Er(this,void 0,void 0,(function(){var e;return Sr(this,(function(n){return[2,(e=Ku(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=zd(t),n=tl.min();return e.$t({index:_f.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Yf(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$n=t}))]}))}))}function cp(t,e,n,r){return Er(this,void 0,void 0,(function(){var i,o,a,s,u,l,c,h,f,d;return Sr(this,(function(p){switch(p.label){case 0:for(i=Ku(t),o=vh(),a=ch(),s=ph(),u=0,l=n;u<l.length;u++)c=l[u],h=e.qn(c.metadata.name),c.document&&(o=o.add(h)),a=a.insert(h,e.Un(c)),s=s.insert(h,e.Kn(c.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,ip(i,function(t){return dc(ac(ol.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return np(t,f,a,tl.min(),s).next((function(e){return f.apply(t),e})).next((function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next((function(){return i.qe.addMatchingKeys(t,o,d.targetId)})).next((function(){return i.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function hp(t,e,n){return void 0===n&&(n=vh()),Er(this,void 0,void 0,(function(){var r,i;return Sr(this,(function(o){switch(o.label){case 0:return[4,ip(t,dc(rd(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Ku(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=Dh(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(t,e);var a=r.withResumeToken(ll.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(t,a).next((function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(t,e)}))}))]}}))}))}var fp=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Af.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:Dh(n.createTime)}),Af.resolve()},t.prototype.getNamedQuery=function(t,e){return Af.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:rd(t.bundledQuery),readTime:Dh(t.readTime)}}(e)),Af.resolve()},t}(),dp=function(){function t(){this.Wn=new sh(pp.Gn),this.zn=new sh(pp.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new pp(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new pp(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new bl(new ol([])),r=new pp(n,t),i=new pp(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new bl(new ol([])),n=new pp(e,t),r=new pp(e,t+1),i=vh();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new pp(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),pp=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return bl.comparator(t.key,e.key)||$u(t.ns,e.ns)},t.Hn=function(t,e){return $u(t.ns,e.ns)||bl.comparator(t.key,e.key)},t}(),mp=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new sh(pp.Gn)}return t.prototype.checkEmpty=function(t){return Af.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Hf(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new pp(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Af.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Af.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return Af.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Af.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Af.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new pp(e,0),i=new pp(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),Af.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new sh($u);return e.forEach((function(t){var e=new pp(t,0),i=new pp(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),Af.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;bl.isDocumentKey(i)||(i=i.child(""));var o=new pp(new bl(i),0),a=new sh($u);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)}),o),Af.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Zu(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Af.forEach(e.mutations,(function(i){var o=new pp(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new pp(e,0),r=this.rs.firstAfterOrEqual(n);return Af.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,Af.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),vp=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new ih(bl.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Af.resolve(n?n.document.clone():zl.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=ch();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():zl.newInvalidDocument(t))})),Af.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=ch(),i=new bl(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,l=u.document,c=u.readTime;if(!e.path.isPrefixOf(s.path))break;c.compareTo(n)<=0||yc(e,l)&&(r=r.insert(l.key,l.clone()))}return Af.resolve(r)},t.prototype.fs=function(t,e){return Af.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new gp(this)},t.prototype.getSize=function(t){return Af.resolve(this.size)},t}(),gp=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return wr(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),Af.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Od),yp=function(){function t(t){this.persistence=t,this.ds=new Ad((function(t){return Bl(t)}),Vl),this.lastRemoteSnapshotVersion=tl.min(),this.highestTargetId=0,this.ws=0,this._s=new dp,this.targetCount=0,this.ys=bd.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),Af.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Af.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Af.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Af.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Af.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new bd(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Af.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Af.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Af.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)})),Af.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return Af.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Af.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Af.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),Af.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Af.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Af.resolve(n)},t.prototype.containsKey=function(t,e){return Af.resolve(this._s.containsKey(e))},t}(),_p=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Mu(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new yp(this),this.Ut=new sd,this.Ue=function(t,e){return new vp(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new Kf(e),this.Ke=new fp(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new mp(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Vu("MemoryPersistence","Starting transaction:",t);var i=new bp(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return Af.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),bp=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return wr(e,t),e}(Lf),wp=function(){function t(t){this.persistence=t,this.As=new dp,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Wu()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Af.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Af.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Af.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Af.forEach(this.vs,(function(r){var i=bl.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Af.or([function(){return Af.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),xp=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Ep(t,e){return"firestore_clients_"+t+"_"+e}function Sp(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Tp(t,e){return"firestore_targets_"+t+"_"+e}xp.UNAUTHENTICATED=new xp(null),xp.GOOGLE_CREDENTIALS=new xp("google-credentials-uid"),xp.FIRST_PARTY=new xp("first-party-uid"),xp.MOCK_USER=new xp("mock-user");var kp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new ju(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(Uu("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ip=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ju(i.error.code,i.error.message)),o?new t(e,i.state,r):(Uu("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Cp=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=yh(),a=0;i&&a<r.activeTargetIds.length;++a)i=_l(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(Uu("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Pp=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Uu("SharedClientState","Failed to parse online state: "+e),null)},t}(),Lp=function(){function t(){this.activeTargetIds=yh()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Np=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new ih($u),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Ep(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Lp),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Er(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,l,c,h=this;return Sr(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Ep(this.persistenceKey,r)))&&(o=Cp.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,l=this.$s;u<l.length;u++)c=l[u],this.ks(c);return this.$s=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Tp(this.persistenceKey,t));if(n){var r=Ip.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Tp(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Vu("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Vu("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Vu("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Vu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Uu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Er(e,void 0,void 0,(function(){var t,e,r,i,o,a;return Sr(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(t){var e=Mu.o;if(null!=t)try{var n=JSON.parse(t);Zu("number"==typeof n),e=n}catch(t){Uu("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Mu.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new kp(this.currentUser,t,e,n),i=Sp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Sp(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=Tp(this.persistenceKey,t),i=new Ip(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Cp.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return kp.Vs(new xp(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Ip.Vs(r,e)},t.prototype.js=function(t){return Pp.Vs(t)},t.prototype.ii=function(t){return Er(this,void 0,void 0,(function(){return Sr(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Vu("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=yh();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),Ap=function(){function t(){this.li=new Lp,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Lp,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Op=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Dp=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Vu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Vu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Rp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Mp=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),zp=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return wr(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise((function(i,o){var a=new Ru;a.listenOnce(Lu.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Pu.NO_ERROR:var e=a.getResponseJson();Vu("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Pu.TIMEOUT:Vu("Connection",'RPC "'+t+'" timed out'),o(new ju(zu.DEADLINE_EXCEEDED,"Request time out"));break;case Pu.HTTP_ERROR:var n=a.getStatus();if(Vu("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(zu).indexOf(e)>=0?e:zu.UNKNOWN}(r.status);o(new ju(s,r.message))}else o(new ju(zu.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new ju(zu.UNAVAILABLE,"Connection failed."));break;default:Wu()}}finally{Vu("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Iu(),i=Cu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ou({})),this.ki(o.initMessageHeaders,e),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Or())||"object"===typeof navigator&&"ReactNative"===navigator.product||Or().indexOf("Electron/")>=0||function(){var t=Or();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||Or().indexOf("MSAppHost/")>=0||function(){var t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Vu("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,l=!1,c=new Mp({Ei:function(t){l?Vu("Connection","Not sending because WebChannel is closed:",t):(u||(Vu("Connection","Opening WebChannel transport."),s.open(),u=!0),Vu("Connection","WebChannel sending:",t),s.send(t))},Ti:function(){return s.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(s,Du.EventType.OPEN,(function(){l||Vu("Connection","WebChannel transport opened.")})),h(s,Du.EventType.CLOSE,(function(){l||(l=!0,Vu("Connection","WebChannel transport closed"),c.Vi())})),h(s,Du.EventType.ERROR,(function(t){l||(l=!0,qu("Connection","WebChannel transport errored:",t),c.Vi(new ju(zu.UNAVAILABLE,"The operation could not be completed")))})),h(s,Du.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];Zu(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Vu("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=Yc[t];if(void 0!==e)return rh(e)}(o),u=i.message;void 0===a&&(a=zu.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),l=!0,c.Vi(new ju(a,u)),s.close()}else Vu("Connection","WebChannel received:",n),c.Si(n)}})),h(i,Nu.STAT_EVENT,(function(t){t.stat===Au.PROXY?Vu("Connection","Detected buffering proxy"):t.stat===Au.NOPROXY&&Vu("Connection","Detected no buffering proxy")})),setTimeout((function(){c.Pi()}),0),c},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Vu("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(t,i,o,n).then((function(t){return Vu("RestConnection","Received: ",t),t}),(function(e){throw qu("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=Rp[t];return this.Di+"/v1/"+e+":"+n},t}());function jp(){return"undefined"!=typeof window?window:null}function Fp(){return"undefined"!=typeof document?document:null}function Bp(t){return new Lh(t,!0)}var Vp=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Vu("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Ki=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Up=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Vp(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Er(this,void 0,void 0,(function(){return Sr(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Er(this,void 0,void 0,(function(){return Sr(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Er(this,void 0,void 0,(function(){return Sr(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===zu.RESOURCE_EXHAUSTED?(Uu(e.toString()),Uu("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===zu.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new ju(zu.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return Er(t,void 0,void 0,(function(){return Sr(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return Vu("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(Vu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),qp=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return wr(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Wu()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Zu(void 0===e||"string"==typeof e),ll.fromBase64String(e||"")):(Zu(void 0===e||e instanceof Uint8Array),ll.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?zu.UNKNOWN:rh(t.code);return new ju(e,t.message||"")}(s);n=new Eh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=jh(t,r.document.name),o=Dh(r.document.updateTime);var s=new Rl({mapValue:{fields:r.document.fields}}),u=(a=zl.newFoundDocument(i,o,s),r.targetIds||[]),l=r.removedTargetIds||[];n=new wh(u,l,a.key,a)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=jh(t,r.document),o=r.readTime?Dh(r.readTime):tl.min(),s=zl.newNoDocument(i,o),a=r.removedTargetIds||[],n=new wh([],a,s.key,s);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=jh(t,r.document),o=r.removedTargetIds||[],n=new wh([],o,i,null);else{if(!("filter"in e))return Wu();e.filter;var c=e.filter;c.targetId,r=c.count||0,i=new eh(r),o=c.targetId,n=new xh(o,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return tl.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?tl.min():e.readTime?Dh(e.readTime):tl.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Vh(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Ul(r)?{documents:Kh(t,r)}:{query:Gh(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Ah(t,e.resumeToken):e.snapshotVersion.compareTo(tl.min())>0&&(n.readTime=Nh(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Wu()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Vh(this.R),e.removeTarget=t,this.cr(e)},e}(Up),Hp=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return wr(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Zu(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Zu(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?Dh(t.updateTime):Dh(e);return n.isEqual(tl.min())&&(n=Dh(e)),new zc(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Dh(t.commitTime);return this.listener.Tr(n,e)}return Zu(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Vh(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Wh(e.R,t)}))};this.cr(n)},e}(Up),Wp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return wr(e,t),e.prototype.br=function(){if(this.Rr)throw new ju(zu.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===zu.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new ju(zu.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===zu.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new ju(zu.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),Zp=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Uu(e),this.Vr=!1):Vu("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Kp=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return Er(o,void 0,void 0,(function(){return Sr(this,(function(t){switch(t.label){case 0:return nm(this)?(Vu("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Er(this,void 0,void 0,(function(){var e;return Sr(this,(function(n){switch(n.label){case 0:return(e=Ku(t)).Or.add(4),[4,Qp(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Gp(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new Zp(n,r)};function Gp(t){return Er(this,void 0,void 0,(function(){var e,n;return Sr(this,(function(r){switch(r.label){case 0:if(!nm(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Qp(t){return Er(this,void 0,void 0,(function(){var e,n;return Sr(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function $p(t,e){var n=Ku(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),em(n)?tm(n):gm(n).er()&&Xp(n,e))}function Yp(t,e){var n=Ku(t),r=gm(n);n.$r.delete(e),r.er()&&Jp(n,e),0===n.$r.size&&(r.er()?r.ir():nm(n)&&n.Br.set("Unknown"))}function Xp(t,e){t.qr.U(e.targetId),gm(t).mr(e)}function Jp(t,e){t.qr.U(e),gm(t).yr(e)}function tm(t){t.qr=new Th({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),gm(t).start(),t.Br.Sr()}function em(t){return nm(t)&&!gm(t).tr()&&t.$r.size>0}function nm(t){return 0===Ku(t).Or.size}function rm(t){t.qr=void 0}function im(t){return Er(this,void 0,void 0,(function(){return Sr(this,(function(e){return t.$r.forEach((function(e,n){Xp(t,e)})),[2]}))}))}function om(t,e){return Er(this,void 0,void 0,(function(){return Sr(this,(function(n){return rm(t),em(t)?(t.Br.Nr(e),tm(t)):t.Br.set("Unknown"),[2]}))}))}function am(t,e,n){return Er(this,void 0,void 0,(function(){var r,i,o;return Sr(this,(function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof Eh&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Er(this,void 0,void 0,(function(){var n,r,i,o;return Sr(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.$r.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.$r.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Vu("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,sm(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof wh?t.qr.X(e):e instanceof xh?t.qr.rt(e):t.qr.et(e),n.isEqual(tl.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,tp(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(ll.EMPTY_BYTE_STRING,n.snapshotVersion)),Jp(t,e);var r=new Zf(n.target,e,1,n.sequenceNumber);Xp(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Vu("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,sm(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function sm(t,e,n){return Er(this,void 0,void 0,(function(){var r=this;return Sr(this,(function(i){switch(i.label){case 0:if(!zf(e))throw e;return t.Or.add(1),[4,Qp(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return tp(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return Er(r,void 0,void 0,(function(){return Sr(this,(function(e){switch(e.label){case 0:return Vu("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Gp(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function um(t,e){return e().catch((function(n){return sm(t,n,e)}))}function lm(t){return Er(this,void 0,void 0,(function(){var e,n,r,i,o;return Sr(this,(function(a){switch(a.label){case 0:e=Ku(t),n=ym(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return nm(t)&&t.Fr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,rp(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.Fr.push(e);var n=ym(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,sm(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return cm(e)&&hm(e),[2]}}))}))}function cm(t){return nm(t)&&!ym(t).tr()&&t.Fr.length>0}function hm(t){ym(t).start()}function fm(t){return Er(this,void 0,void 0,(function(){return Sr(this,(function(e){return ym(t).Ar(),[2]}))}))}function dm(t){return Er(this,void 0,void 0,(function(){var e,n,r,i;return Sr(this,(function(o){for(e=ym(t),n=0,r=t.Fr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]}))}))}function pm(t,e,n){return Er(this,void 0,void 0,(function(){var r,i;return Sr(this,(function(o){switch(o.label){case 0:return r=t.Fr.shift(),i=Wf.from(r,e,n),[4,um(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,lm(t)];case 2:return o.sent(),[2]}}))}))}function mm(t,e){return Er(this,void 0,void 0,(function(){return Sr(this,(function(n){switch(n.label){case 0:return e&&ym(t).pr?[4,function(t,e){return Er(this,void 0,void 0,(function(){var n,r;return Sr(this,(function(i){switch(i.label){case 0:return nh(r=e.code)&&r!==zu.ABORTED?(n=t.Fr.shift(),ym(t).sr(),[4,um(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,lm(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return cm(t)&&hm(t),[2]}}))}))}function vm(t,e){return Er(this,void 0,void 0,(function(){var n;return Sr(this,(function(r){switch(r.label){case 0:return n=Ku(t),e?(n.Or.delete(2),[4,Gp(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Qp(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function gm(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Ku(t);return r.br(),new qp(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:im.bind(null,t),Ri:om.bind(null,t),_r:am.bind(null,t)}),t.Mr.push((function(n){return Er(e,void 0,void 0,(function(){return Sr(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),em(t)?tm(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),rm(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function ym(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=Ku(t);return r.br(),new Hp(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:fm.bind(null,t),Ri:mm.bind(null,t),Ir:dm.bind(null,t),Tr:pm.bind(null,t)}),t.Mr.push((function(n){return Er(e,void 0,void 0,(function(){return Sr(this,(function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,lm(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(Vu("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kr}var _m=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Nf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ju(zu.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function bm(t,e){if(Uu("AsyncQueue",e+": "+t),zf(t))return new ju(zu.UNAVAILABLE,e+": "+t);throw t}var wm=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||bl.comparator(e.key,n.key)}:function(t,e){return bl.comparator(t.key,e.key)},this.keyedMap=fh(),this.sortedSet=new ih(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),xm=function(){function t(){this.Qr=new ih(bl.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Wu():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),Em=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,wm.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Sm=function(){this.Wr=void 0,this.listeners=[]},Tm=function(){this.queries=new Ad((function(t){return vc(t)}),mc),this.onlineState="Unknown",this.Gr=new Set};function km(t,e){return Er(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Sr(this,(function(l){switch(l.label){case 0:if(n=Ku(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Sm),!i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=l.sent(),[3,4];case 3:return s=l.sent(),u=bm(s,"Initialization of query '"+gc(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Lm(n),[2]}}))}))}function Im(t,e){return Er(this,void 0,void 0,(function(){var n,r,i,o,a;return Sr(this,(function(s){return n=Ku(t),r=e.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Cm(t,e){for(var n=Ku(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var l=0,c=u.listeners;l<c.length;l++)c[l].Hr(a)&&(r=!0);u.Wr=a}}r&&Lm(n)}function Pm(t,e,n){var r=Ku(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function Lm(t){t.Gr.forEach((function(t){t.next()}))}var Nm=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Em(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Em.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Am=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Om=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return jh(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Hh(this.R,t.document,!1):zl.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return Dh(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=Dm(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Om(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var l=u[s],c=(e.get(l)||vh()).add(a);e.set(l,c)}}return e},t.prototype.complete=function(){return Er(this,void 0,void 0,(function(){var t,e,n,r,i;return Sr(this,(function(o){switch(o.label){case 0:return[4,cp(this.localStore,new Om(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,hp(this.localStore,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Zd(Object.assign({},this.progress),t))]}}))}))}}();function Dm(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var Rm=function(t){this.key=t},Mm=function(t){this.key=t},zm=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=vh(),this.mutatedKeys=vh(),this.lo=_c(t),this.fo=new wm(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new xm,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=sc(this.query)&&i.size===this.query.limit?i.last():null,l=uc(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var c=i.get(t),h=yc(n.query,e)?e:null,f=!!c&&n.mutatedKeys.has(c.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(c,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||l&&n.lo(h,l)<0)&&(s=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),sc(this.query)||uc(this.query))for(;a.size>this.query.limit;){var c=sc(this.query)?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wu()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new Em(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new xm,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=vh(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new Mm(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new Rm(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=vh();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Em.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),jm=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Fm=function(t){this.key=t,this.bo=!1},Bm=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Ad((function(t){return vc(t)}),mc),this.Vo=new Map,this.So=new Set,this.Do=new ih(bl.comparator),this.Co=new Map,this.No=new dp,this.xo={},this.ko=new Map,this.Fo=bd.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Vm(t,e){return Er(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Sr(this,(function(u){switch(u.label){case 0:return n=vv(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,ip(n.localStore,dc(e))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Um(n,e,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&$p(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function Um(t,e,n,r){return Er(this,void 0,void 0,(function(){var i,o,a,s,u,l;return Sr(this,(function(c){switch(c.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Er(this,void 0,void 0,(function(){var i,o,a;return Sr(this,(function(s){switch(s.label){case 0:return(i=e.view._o(n)).Nn?[4,ap(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(ev(t,e.targetId,a.To),a.snapshot)]}}))}))}(t,e,n,r)},[4,ap(t.localStore,e,!0)];case 1:return i=c.sent(),o=new zm(e,i.Bn),a=o._o(i.documents),s=bh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(a,t.isPrimaryClient,s),ev(t,n,u.To),l=new jm(e,n,o),[2,(t.Po.set(e,l),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function qm(t,e){return Er(this,void 0,void 0,(function(){var n,r,i;return Sr(this,(function(o){switch(o.label){case 0:return n=Ku(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!mc(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,op(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Yp(n.remoteStore,r.targetId),Jm(n,r.targetId)})).catch(Td)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Jm(n,r.targetId),[4,op(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Hm(t,e,n){return Er(this,void 0,void 0,(function(){var r,i,o,a;return Sr(this,(function(s){switch(s.label){case 0:r=gv(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=Ku(t),i=Ju.now(),o=e.reduce((function(t,e){return t.add(e.key)}),vh());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var l=u[s],c=qc(l,n.get(l.key));null!=c&&a.push(new Kc(l.key,c,Ml(c.value.mapValue),jc.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new ih($u)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,iv(r,i.changes)];case 3:return s.sent(),[4,lm(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=bm(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Wm(t,e){return Er(this,void 0,void 0,(function(){var n,r;return Sr(this,(function(i){switch(i.label){case 0:n=Ku(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,ep(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(Zu(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Zu(r.bo):t.removedDocuments.size>0&&(Zu(r.bo),r.bo=!1))})),[4,iv(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Td(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Zm(t,e,n){var r=Ku(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Ku(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&Lm(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Km(t,e,n){return Er(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Sr(this,(function(l){switch(l.label){case 0:return(r=Ku(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new ih(bl.comparator)).insert(o,zl.newNoDocument(o,tl.min())),s=vh().add(o),u=new _h(tl.min(),new Map,new sh($u),a,s),[4,Wm(r,u)]):[3,2];case 1:return l.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),rv(r),[3,4];case 2:return[4,op(r.localStore,e,!1).then((function(){return Jm(r,e,n)})).catch(Td)];case 3:l.sent(),l.label=4;case 4:return[2]}}))}))}function Gm(t,e){return Er(this,void 0,void 0,(function(){var n,r,i;return Sr(this,(function(o){switch(o.label){case 0:n=Ku(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Jd(n.localStore,e)];case 2:return i=o.sent(),Xm(n,r,null),Ym(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,iv(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Td(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Qm(t,e,n){return Er(this,void 0,void 0,(function(){var r,i;return Sr(this,(function(o){switch(o.label){case 0:r=Ku(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Ku(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return Zu(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),Xm(r,e,n),Ym(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,iv(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Td(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function $m(t,e){return Er(this,void 0,void 0,(function(){var n,r,i,o,a;return Sr(this,(function(s){switch(s.label){case 0:nm((n=Ku(t)).remoteStore)||Vu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=Ku(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return o=s.sent(),a=bm(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function Ym(t,e){(t.ko.get(e)||[]).forEach((function(t){t.resolve()})),t.ko.delete(e)}function Xm(t,e,n){var r=Ku(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Jm(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||tv(t,e)}))}function tv(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Yp(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),rv(t))}function ev(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Rm?(t.No.addReference(o.key,e),nv(t,o)):o instanceof Mm?(Vu("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||tv(t,o.key)):Wu()}}function nv(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Vu("SyncEngine","New document in limbo: "+n),t.So.add(r),rv(t))}function rv(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new bl(ol.fromString(e)),r=t.Fo.next();t.Co.set(r,new Fm(n)),t.Do=t.Do.insert(n,r),$p(t.remoteStore,new Zf(dc(ac(n.path)),r,2,Mu.o))}}function iv(t,e,n){return Er(this,void 0,void 0,(function(){var r,i,o,a;return Sr(this,(function(s){switch(s.label){case 0:return r=Ku(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,s){a.push(r.Oo(s,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Gd.Pn(s.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(t,e){return Er(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,l,c;return Sr(this,(function(h){switch(h.label){case 0:n=Ku(t),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Af.forEach(e,(function(e){return Af.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return Af.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!zf(r=h.sent()))throw r;return Vu("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.kn.get(s),l=u.snapshotVersion,c=u.withLastLimboFreeSnapshotVersion(l),n.kn=n.kn.insert(s,c));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function ov(t,e){return Er(this,void 0,void 0,(function(){var n,r;return Sr(this,(function(i){switch(i.label){case 0:return(n=Ku(t)).currentUser.isEqual(e)?[3,3]:(Vu("SyncEngine","User change. New user:",e.toKey()),[4,Xd(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.ko.forEach((function(t){t.forEach((function(t){t.reject(new ju(zu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,iv(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function av(t,e){var n=Ku(t),r=n.Co.get(e);if(r&&r.bo)return vh().add(r.key);var i=vh(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],l=n.Po.get(u);i=i.unionWith(l.view.wo)}return i}function sv(t,e){return Er(this,void 0,void 0,(function(){var n,r,i;return Sr(this,(function(o){switch(o.label){case 0:return[4,ap((n=Ku(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&ev(n,e.targetId,i.To),i)]}}))}))}function uv(t){return Er(this,void 0,void 0,(function(){var e;return Sr(this,(function(n){return[2,up((e=Ku(t)).localStore).then((function(t){return iv(e,t)}))]}))}))}function lv(t,e,n,r){return Er(this,void 0,void 0,(function(){var i,o;return Sr(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=Ku(t),r=Ku(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):Af.resolve(null)}))}))}((i=Ku(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,lm(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Xm(i,e,r||null),Ym(i,e),function(t,e){Ku(Ku(t)._n).Gt(e)}(i.localStore,e)):Wu(),a.label=4;case 4:return[4,iv(i,o)];case 5:return a.sent(),[3,7];case 6:Vu("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function cv(t,e){return Er(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,l;return Sr(this,(function(c){switch(c.label){case 0:return vv(n=Ku(t)),gv(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,hv(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,vm(n.remoteStore,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)s=a[o],$p(n.remoteStore,s);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(u=[],l=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):l=l.then((function(){return Jm(n,e),op(n.localStore,e,!0)})),Yp(n.remoteStore,e)})),[4,l]);case 4:return c.sent(),[4,hv(n,u)];case 5:return c.sent(),function(t){var e=Ku(t);e.Co.forEach((function(t,n){Yp(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new ih(bl.comparator)}(n),n.$o=!1,[4,vm(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function hv(t,e,n){return Er(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,l,c,h,f,d,p,m;return Sr(this,(function(v){switch(v.label){case 0:n=Ku(t),r=[],i=[],o=0,a=e,v.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(l=n.Vo.get(s))&&0!==l.length?[4,ip(n.localStore,dc(l[0]))]:[3,7]):[3,13];case 2:u=v.sent(),c=0,h=l,v.label=3;case 3:return c<h.length?(f=h[c],d=n.Po.get(f),[4,sv(n,d)]):[3,6];case 4:(p=v.sent()).snapshot&&i.push(p.snapshot),v.label=5;case 5:return c++,[3,3];case 6:return[3,11];case 7:return[4,sp(n.localStore,s)];case 8:return m=v.sent(),[4,ip(n.localStore,m)];case 9:return u=v.sent(),[4,Um(n,fv(m),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function fv(t){return oc(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function dv(t){var e=Ku(t);return Ku(Ku(e.localStore).persistence).fn()}function pv(t,e,n,r){return Er(this,void 0,void 0,(function(){var i,o,a;return Sr(this,(function(s){switch(s.label){case 0:return(i=Ku(t)).$o?(Vu("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,up(i.localStore)];case 3:return o=s.sent(),a=_h.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,iv(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,op(i.localStore,e,!0)];case 6:return s.sent(),Jm(i,e,r),[3,8];case 7:Wu(),s.label=8;case 8:return[2]}}))}))}function mv(t,e,n){return Er(this,void 0,void 0,(function(){var r,i,o,a,s,u,l,c,h,f;return Sr(this,(function(d){switch(d.label){case 0:if(!(r=vv(t)).$o)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(Vu("SyncEngine","Adding an already active target "+a),[3,5]):[4,sp(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,ip(r.localStore,s)];case 3:return u=d.sent(),[4,Um(r,fv(s),u.targetId,!1)];case 4:d.sent(),$p(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:l=function(t){return Sr(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,op(r.localStore,t,!1).then((function(){Yp(r.remoteStore,t),Jm(r,t)})).catch(Td)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},c=0,h=n,d.label=7;case 7:return c<h.length?(f=h[c],[5,l(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))}function vv(t){var e=Ku(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=av.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Km.bind(null,e),e.vo._r=Cm.bind(null,e.eventManager),e.vo.Mo=Pm.bind(null,e.eventManager),e}function gv(t){var e=Ku(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Gm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qm.bind(null,e),e}var yv=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Er(this,void 0,void 0,(function(){return Sr(this,(function(e){switch(e.label){case 0:return this.R=Bp(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return Yd(this.persistence,new Qd,t.initialUser,this.R)},t.prototype.qo=function(t){return new _p(wp.bs,this.R)},t.prototype.Bo=function(t){return new Ap},t.prototype.terminate=function(){return Er(this,void 0,void 0,(function(){return Sr(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),_v=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return wr(e,t),e.prototype.initialize=function(e){return Er(this,void 0,void 0,(function(){var n=this;return Sr(this,(function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,lp(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,gv(this.Qo.syncEngine)];case 4:return r.sent(),[4,lm(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},e.prototype.Ko=function(t){return Yd(this.persistence,new Qd,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new Cd(e,t.asyncQueue)},e.prototype.qo=function(t){var e=Wd(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?fd.withCacheSize(this.cacheSizeBytes):fd.DEFAULT;return new Ud(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,jp(),Fp(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Ap},e}(yv),bv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return wr(e,t),e.prototype.initialize=function(e){return Er(this,void 0,void 0,(function(){var n,r=this;return Sr(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Np?(this.sharedClientState.syncEngine={ui:lv.bind(null,n),ai:pv.bind(null,n),hi:mv.bind(null,n),fn:dv.bind(null,n),ci:uv.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return Er(r,void 0,void 0,(function(){return Sr(this,(function(e){switch(e.label){case 0:return[4,cv(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=jp();if(!Np.yt(e))throw new ju(zu.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Wd(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Np(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(_v),wv=function(){function t(){}return t.prototype.initialize=function(t,e){return Er(this,void 0,void 0,(function(){var n=this;return Sr(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Zm(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ov.bind(null,this.syncEngine),[4,vm(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new Tm},t.prototype.createDatastore=function(t){var e,n=Bp(t.databaseInfo.databaseId),r=(e=t.databaseInfo,new zp(e));return function(t,e,n){return new Wp(t,e,n)}(t.credentials,r,n)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Zm(a.syncEngine,t,0)},o=Dp.yt()?new Dp:new Op,new Kp(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new Bm(t,e,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Er(this,void 0,void 0,(function(){var e;return Sr(this,(function(n){switch(n.label){case 0:return e=Ku(t),Vu("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Qp(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}();var xv=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Ev=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Nf,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Er(this,void 0,void 0,(function(){return Sr(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return Er(this,void 0,void 0,(function(){return Sr(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return Er(this,void 0,void 0,(function(){var t,e,n,r;return Sr(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Am(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return Er(this,void 0,void 0,(function(){var t,e;return Sr(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return Er(this,void 0,void 0,(function(){var e;return Sr(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Er(this,void 0,void 0,(function(){var t,e;return Sr(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Er(this,void 0,void 0,(function(){var e,n=this;return Sr(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ju(zu.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Er(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Sr(this,(function(u){switch(u.label){case 0:return n=Ku(t),r=Vh(n.R)+"/documents",i={documents:e.map((function(t){return zh(n.R,t)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Zu(!!e.found),e.found.name,e.found.updateTime;var n=jh(t,e.found.name),r=Dh(e.found.updateTime),i=new Rl({mapValue:{fields:e.found.fields}});return zl.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Zu(!!e.missing),Zu(!!e.readTime);var n=jh(t,e.missing),r=Dh(e.readTime);return zl.newNoDocument(n,r)}(t,e):Wu()}(n.R,t);a.set(e.key.toString(),e)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());Zu(!!e),s.push(e)})),s)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Jc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Er(this,void 0,void 0,(function(){var t,e=this;return Sr(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=bl.fromPath(n);e.mutations.push(new th(r,e.precondition(r)))})),[4,function(t,e){return Er(this,void 0,void 0,(function(){var n,r,i;return Sr(this,(function(o){switch(o.label){case 0:return n=Ku(t),r=Vh(n.R)+"/documents",i={writes:e.map((function(t){return Wh(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Wu();e=tl.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new ju(zu.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?jc.updateTime(e):jc.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(tl.min()))throw new ju(zu.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jc.updateTime(e)}return jc.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Sv=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Vp(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return Er(t,void 0,void 0,(function(){var t,e,n=this;return Sr(this,(function(r){return t=new Ev(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!gl(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!nh(e)}return!1},t}(),Tv=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=xp.UNAUTHENTICATED,this.clientId=Qu.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return Er(r,void 0,void 0,(function(){return Sr(this,(function(e){switch(e.label){case 0:return Vu("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return Er(this,void 0,void 0,(function(){return Sr(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ju(zu.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Nf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Er(t,void 0,void 0,(function(){var t,n;return Sr(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=bm(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function kv(t,e){return Er(this,void 0,void 0,(function(){var n,r,i=this;return Sr(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Vu("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return Er(i,void 0,void 0,(function(){return Sr(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Xd(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function Iv(t,e){return Er(this,void 0,void 0,(function(){var n,r;return Sr(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Cv(t)];case 1:return n=i.sent(),Vu("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return Er(this,void 0,void 0,(function(){var n,r;return Sr(this,(function(i){switch(i.label){case 0:return(n=Ku(t)).asyncQueue.verifyOperationInProgress(),Vu("RemoteStore","RemoteStore received new credentials"),r=nm(n),n.Or.add(3),[4,Qp(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Gp(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function Cv(t){return Er(this,void 0,void 0,(function(){return Sr(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Vu("FirestoreClient","Using default OfflineComponentProvider"),[4,kv(t,new yv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function Pv(t){return Er(this,void 0,void 0,(function(){return Sr(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Vu("FirestoreClient","Using default OnlineComponentProvider"),[4,Iv(t,new wv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function Lv(t){return Cv(t).then((function(t){return t.persistence}))}function Nv(t){return Cv(t).then((function(t){return t.localStore}))}function Av(t){return Pv(t).then((function(t){return t.remoteStore}))}function Ov(t){return Pv(t).then((function(t){return t.syncEngine}))}function Dv(t){return Er(this,void 0,void 0,(function(){var e,n;return Sr(this,(function(r){switch(r.label){case 0:return[4,Pv(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Vm.bind(null,e.syncEngine),n.onUnlisten=qm.bind(null,e.syncEngine),n)]}}))}))}function Rv(t,e,n){var r=this;void 0===n&&(n={});var i=new Nf;return t.asyncQueue.enqueueAndForget((function(){return Er(r,void 0,void 0,(function(){var r;return Sr(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new xv({next:function(o){e.enqueueAndForget((function(){return Im(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new ju(zu.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new ju(zu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Nm(ac(n.path),o,{includeMetadataChanges:!0,so:!0});return km(t,a)},[4,Dv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function Mv(t,e,n){var r=this;void 0===n&&(n={});var i=new Nf;return t.asyncQueue.enqueueAndForget((function(){return Er(r,void 0,void 0,(function(){var r;return Sr(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new xv({next:function(n){e.enqueueAndForget((function(){return Im(t,a)})),n.fromCache&&"server"===r.source?i.reject(new ju(zu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Nm(n,o,{includeMetadataChanges:!0,so:!0});return km(t,a)},[4,Dv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var zv=function(t,e,n,r,i,o,a,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},jv=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Fv=new Map,Bv=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Vv=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(xp.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Uv=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),qv=function(){function t(t){var e=this;this.currentUser=xp.UNAUTHENTICATED,this.oc=new Nf,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){Vu("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(Vu("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(Vu("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Zu("string"==typeof n.accessToken),new Bv(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable((function(){return Er(n,void 0,void 0,(function(){return Sr(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}}))}))}))},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Zu(null===t||"string"==typeof t),new xp(t)},t}(),Hv=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=xp.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Wv=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new Hv(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(xp.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Zv(t,e,n){if(!n)throw new ju(zu.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Kv(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ju(zu.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Gv(t,e,n,r){if(!0===e&&!0===r)throw new ju(zu.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Qv(t){if(!bl.isDocumentKey(t))throw new ju(zu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function $v(t){if(bl.isDocumentKey(t))throw new ju(zu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Yv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Wu()}function Xv(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ju(zu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Yv(t);throw new ju(zu.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Jv(t,e){if(e<=0)throw new ju(zu.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var tg=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ju(zu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ju(zu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Gv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),eg=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tg({}),this._settingsFrozen=!1,t instanceof jv?(this._databaseId=t,this._credentials=new Vv):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ju(zu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jv(t.options.projectId)}(t),this._credentials=new qv(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new ju(zu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new ju(zu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tg(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Vv;switch(t.type){case"gapi":var e=t.client;return Zu(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Wv(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new ju(zu.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return this,(t=Fv.get(this))&&(Vu("ComponentProvider","Removing Datastore"),Fv.delete(this),t.terminate()),Promise.resolve();var t},t}(),ng=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ig(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),rg=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),ig=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,ac(r))||this)._path=r,i.type="collection",i}return wr(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new ng(this.firestore,null,new bl(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(rg);function og(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=qr(t),Zv("collection","path",e),t instanceof eg)return $v(n=ol.fromString.apply(ol,Ir([e],r))),new ig(t,null,n);if(!(t instanceof ng||t instanceof ig))throw new ju(zu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return $v(n=ol.fromString.apply(ol,Ir([t.path],r)).child(ol.fromString(e))),new ig(t.firestore,null,n)}function ag(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=qr(t),1===arguments.length&&(e=Qu.u()),Zv("doc","path",e),t instanceof eg)return Qv(n=ol.fromString.apply(ol,Ir([e],r))),new ng(t,null,new bl(n));if(!(t instanceof ng||t instanceof ig))throw new ju(zu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Qv(n=t._path.child(ol.fromString.apply(ol,Ir([e],r)))),new ng(t.firestore,t instanceof ig?t.converter:null,new bl(n))}function sg(t,e){return t=qr(t),e=qr(e),(t instanceof ng||t instanceof ig)&&(e instanceof ng||e instanceof ig)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function ug(t,e){return t=qr(t),e=qr(e),t instanceof rg&&e instanceof rg&&t.firestore===e.firestore&&mc(t._query,e._query)&&t.converter===e.converter}var lg=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Vp(this,"async_queue_retry"),this.Ic=function(){var e=Fp();e&&Vu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Fp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=Fp();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new Nf;return this.Rc((function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.wc.push(t),e.bc()}))},t.prototype.bc=function(){return Er(this,void 0,void 0,(function(){var t,e=this;return Sr(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!zf(t=n.sent()))throw t;return Vu("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return e.bc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Rc=function(t){var e=this,n=this.dc.then((function(){return e.gc=!0,t().catch((function(t){throw e.yc=t,e.gc=!1,Uu("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gc=!1,t}))}));return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=_m.createAndSchedule(this,t,e,n,(function(t){return r.vc(t)}));return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&Wu()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return Er(this,void 0,void 0,(function(){var t;return Sr(this,(function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then((function(){e.mc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()}))},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function cg(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Nf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var hg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new lg,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return wr(e,t),e.prototype._terminate=function(){return this._firestoreClient||dg(this),this._firestoreClient.terminate()},e}(eg);function fg(t){return t._firestoreClient||dg(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function dg(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new zv(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Tv(t._credentials,t._queue,r)}function pg(t,e,n){var r=this,i=new Nf;return t.asyncQueue.enqueue((function(){return Er(r,void 0,void 0,(function(){var r;return Sr(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,kv(t,n)];case 1:return o.sent(),[4,Iv(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===zu.FAILED_PRECONDITION||t.code===zu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function mg(t){if(t._initialized||t._terminated)throw new ju(zu.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var vg=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new ju(zu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sl(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),gg=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(ll.fromBase64String(e))}catch(e){throw new ju(zu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(ll.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),yg=function(t){this._methodName=t},_g=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new ju(zu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ju(zu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return $u(this._lat,t._lat)||$u(this._long,t._long)},t}(),bg=/^__.*__$/,wg=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Kc(t,this.data,this.fieldMask,e,this.fieldTransforms):new Zc(t,this.data,e,this.fieldTransforms)},t}(),xg=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Kc(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Eg(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wu()}}var Sg=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return Hg(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(Eg(this.Nc)&&bg.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),Tg=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Bp(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new Sg({Nc:t,methodName:e,qc:n,path:sl.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function kg(t){var e=t._freezeSettings(),n=Bp(t._databaseId);return new Tg(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ig(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);Bg("Data must be an object, but it was:",a,r);var s,u,l=jg(r,a);if(o.merge)s=new ul(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var c=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Vg(e,f[h],n);if(!a.contains(d))throw new ju(zu.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Wg(c,d)||c.push(d)}s=new ul(c),u=a.fieldTransforms.filter((function(t){return s.covers(t.field)}))}else s=null,u=a.fieldTransforms;return new wg(new Rl(l),s,u)}var Cg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wr(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw 1===t.Nc?t.Lc(this._methodName+"() can only appear at the top level of your update data"):t.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(yg);function Pg(t,e,n){return new Sg({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Lg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wr(e,t),e.prototype._toFieldTransform=function(t){return new Mc(t.path,new Cc)},e.prototype.isEqual=function(t){return t instanceof e},e}(yg),Ng=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return wr(e,t),e.prototype._toFieldTransform=function(t){var e=Pg(this,t,!0),n=this.Kc.map((function(t){return zg(t,e)})),r=new Pc(n);return new Mc(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(yg),Ag=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return wr(e,t),e.prototype._toFieldTransform=function(t){var e=Pg(this,t,!0),n=this.Kc.map((function(t){return zg(t,e)})),r=new Nc(n);return new Mc(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(yg),Og=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return wr(e,t),e.prototype._toFieldTransform=function(t){var e=new Oc(t.R,Ec(t.R,this.Qc));return new Mc(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(yg);function Dg(t,e,n,r){var i=t.Uc(1,e,n);Bg("Data must be an object, but it was:",i,r);var o=[],a=Rl.empty();nl(r,(function(t,r){var s=qg(e,t,n);r=qr(r);var u=i.Oc(s);if(r instanceof Cg)o.push(s);else{var l=zg(r,u);null!=l&&(o.push(s),a.set(s,l))}}));var s=new ul(o);return new xg(a,s,i.fieldTransforms)}function Rg(t,e,n,r,i,o){var a=t.Uc(1,e,n),s=[Vg(e,r,n)],u=[i];if(o.length%2!=0)throw new ju(zu.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<o.length;l+=2)s.push(Vg(e,o[l])),u.push(o[l+1]);for(var c=[],h=Rl.empty(),f=s.length-1;f>=0;--f)if(!Wg(c,s[f])){var d=s[f],p=u[f];p=qr(p);var m=a.Oc(d);if(p instanceof Cg)c.push(d);else{var v=zg(p,m);null!=v&&(c.push(d),h.set(d,v))}}var g=new ul(c);return new xg(h,g,a.fieldTransforms)}function Mg(t,e,n,r){return void 0===r&&(r=!1),zg(n,t.Uc(r?4:3,e))}function zg(t,e){if(Fg(t=qr(t)))return Bg("Unsupported field value:",e,t),jg(t,e);if(t instanceof yg)return function(t,e){if(!Eg(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=zg(o[i],e.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=qr(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ec(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Ju.fromDate(t);return{timestampValue:Nh(e.R,n)}}if(t instanceof Ju)return n=new Ju(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Nh(e.R,n)};if(t instanceof _g)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof gg)return{bytesValue:Ah(e.R,t._byteString)};if(t instanceof ng){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Rh(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+Yv(t))}(t,e)}function jg(t,e){var n={};return rl(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nl(t,(function(t,r){var i=zg(r,e.kc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Fg(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ju||t instanceof _g||t instanceof gg||t instanceof ng||t instanceof yg)}function Bg(t,e,n){if(!Fg(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Yv(n);throw"an object"===r?e.Lc(t+" a custom object"):e.Lc(t+" "+r)}}function Vg(t,e,n){if((e=qr(e))instanceof vg)return e._internalPath;if("string"==typeof e)return qg(t,e);throw Hg("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Ug=new RegExp("[~\\*/\\[\\]]");function qg(t,e,n){if(e.search(Ug)>=0)throw Hg("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(vg.bind.apply(vg,Ir([void 0],e.split(".")))))._internalPath}catch(Zy){throw Hg("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Hg(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new ju(zu.INVALID_ARGUMENT,(s+=". ")+t+u)}function Wg(t,e){return t.some((function(t){return t.isEqual(e)}))}var Zg=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ng(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Kg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Gg("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Kg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wr(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Zg);function Gg(t,e){return"string"==typeof e?qg(t,e):e instanceof vg?e._internalPath:e._delegate._internalPath}var Qg=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),$g=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return wr(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Yg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Gg("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Zg),Yg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wr(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}($g),Xg=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Qg(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new Yg(n._firestore,n._userDataWriter,r.key,r,new Qg(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ju(zu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new Yg(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Qg(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Yg(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Qg(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Jg(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Jg(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wu()}}function ty(t,e){return t instanceof $g&&e instanceof $g?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Xg&&e instanceof Xg&&t._firestore===e._firestore&&ug(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function ey(t){if(uc(t)&&0===t.explicitOrderBy.length)throw new ju(zu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ny=function(){};function ry(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var iy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return wr(e,t),e.prototype._apply=function(t){var e=kg(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new ju(zu.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){hy(a,o);for(var u=[],l=0,c=a;l<c.length;l++){var h=c[l];u.push(cy(r,t,h))}s={arrayValue:{values:u}}}else s=cy(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||hy(a,o),s=Mg(n,"where",a,"in"===o||"not-in"===o);var f=ql.create(i,o,s);return function(t,e){if(e.g()){var n=cc(t);if(null!==n&&!n.isEqual(e.field))throw new ju(zu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=lc(t);null!==r&&fy(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new ju(zu.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new ju(zu.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new rg(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new ic(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(ny),oy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return wr(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new ju(zu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new ju(zu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new tc(e,n);return function(t,e){if(null===lc(t)){var n=cc(t);null!==n&&fy(t,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new rg(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new ic(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(ny),ay=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return wr(e,t),e.prototype._apply=function(t){return new rg(t.firestore,t.converter,pc(t._query,this.Hc,this.Jc))},e}(ny),sy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return wr(e,t),e.prototype._apply=function(t){var e=ly(t,this.type,this.Yc,this.Xc);return new rg(t.firestore,t.converter,function(t,e){return new ic(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(ny),uy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return wr(e,t),e.prototype._apply=function(t){var e=ly(t,this.type,this.Yc,this.Xc);return new rg(t.firestore,t.converter,function(t,e){return new ic(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(ny);function ly(t,e,n,r){if(n[0]=qr(n[0]),n[0]instanceof Zg)return function(t,e,n,r,i){if(!r)throw new ju(zu.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=fc(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Cl(e,r.key));else{var l=r.data.field(u.field);if(pl(l))throw new ju(zu.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var c=u.field.canonicalString();throw new ju(zu.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}o.push(l)}}return new Xl(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=kg(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new ju(zu.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var l=i[u];if(a[u].field.isKeyField()){if("string"!=typeof l)throw new ju(zu.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof l);if(!hc(t)&&-1!==l.indexOf("/"))throw new ju(zu.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+l+"' contains a slash.");var c=t.path.child(ol.fromString(l));if(!bl.isDocumentKey(c))throw new ju(zu.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+c+"' is not because it contains an odd number of segments.");var h=new bl(c);s.push(Cl(e,h))}else{var f=Mg(n,r,l);s.push(f)}}return new Xl(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function cy(t,e,n){if("string"==typeof(n=qr(n))){if(""===n)throw new ju(zu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!hc(e)&&-1!==n.indexOf("/"))throw new ju(zu.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(ol.fromString(n));if(!bl.isDocumentKey(r))throw new ju(zu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Cl(t,new bl(r))}if(n instanceof ng)return Cl(t,n._key);throw new ju(zu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Yv(n)+".")}function hy(t,e){if(!Array.isArray(t)||0===t.length)throw new ju(zu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new ju(zu.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function fy(t,e,n){if(!n.isEqual(e))throw new ju(zu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var dy=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),wl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fl(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(dl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Wu()}},t.prototype.convertObject=function(t,e){var n=this,r={};return nl(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new _g(fl(t.latitude),fl(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=ml(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(vl(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=hl(t);return new Ju(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=ol.fromString(t);Zu(sf(n));var r=new jv(n.get(1),n.get(3)),i=new bl(n.popFirst(5));return r.isEqual(e)||Uu("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function py(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var my=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return wr(e,t),e.prototype.convertBytes=function(t){return new gg(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new ng(this.firestore,null,e)},e}(dy),vy=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=kg(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=gy(t,this._firestore),i=py(r.converter,e,n),o=Ig(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,jc.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=gy(t,this._firestore);return o="string"==typeof(e=qr(e))||e instanceof vg?Rg(this._dataReader,"WriteBatch.update",a._key,e,n,r):Dg(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,jc.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=gy(t,this._firestore);return this._mutations=this._mutations.concat(new Jc(e._key,jc.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new ju(zu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function gy(t,e){if((t=qr(t)).firestore!==e)throw new ju(zu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var yy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return wr(e,t),e.prototype.convertBytes=function(t){return new gg(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new ng(this.firestore,null,e)},e}(dy);function _y(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Xv(t,ng);var o=Xv(t.firestore,hg),a=kg(o);return wy(o,[("string"==typeof(e=qr(e))||e instanceof vg?Rg(a,"updateDoc",t._key,e,n,r):Dg(a,"updateDoc",t._key,e)).toMutation(t._key,jc.exists(!0))])}function by(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=qr(t);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||cg(i[s])||(a=i[s],s++);var u,l,c,h={includeMetadataChanges:a.includeMetadataChanges};if(cg(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof ng)l=Xv(t.firestore,hg),c=ac(t._key.path),u={next:function(e){i[s]&&i[s](xy(l,t,e))},error:i[s+1],complete:i[s+2]};else{var d=Xv(t,rg);l=Xv(d.firestore,hg),c=d._query;var p=new yy(l);u={next:function(t){i[s]&&i[s](new Xg(l,p,d,t))},error:i[s+1],complete:i[s+2]},ey(t._query)}return function(t,e,n,r){var i=this,o=new xv(r),a=new Nm(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return Er(i,void 0,void 0,(function(){var e;return Sr(this,(function(n){switch(n.label){case 0:return e=km,[4,Dv(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return Er(i,void 0,void 0,(function(){var e;return Sr(this,(function(n){switch(n.label){case 0:return e=Im,[4,Dv(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(fg(l),c,h,u)}function wy(t,e){return function(t,e){var n=this,r=new Nf;return t.asyncQueue.enqueueAndForget((function(){return Er(n,void 0,void 0,(function(){var n;return Sr(this,(function(i){switch(i.label){case 0:return n=Hm,[4,Ov(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(fg(t),e)}function xy(t,e,n){var r=n.docs.get(e._key),i=new yy(t);return new $g(t,i,e._key,r,new Qg(n.hasPendingWrites,n.fromCache),e.converter)}var Ey=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return wr(e,t),e.prototype.get=function(e){var n=this,r=gy(e,this._firestore),i=new yy(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new $g(n._firestore,i,r._key,t._document,new Qg(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=kg(t)}return t.prototype.get=function(t){var e=this,n=gy(t,this._firestore),r=new my(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Wu();var i=t[0];if(i.isFoundDocument())return new Zg(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Zg(e._firestore,r,n._key,null,n.converter);throw Wu()}))},t.prototype.set=function(t,e,n){var r=gy(t,this._firestore),i=py(r.converter,e,n),o=Ig(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=gy(t,this._firestore);return o="string"==typeof(e=qr(e))||e instanceof vg?Rg(this._dataReader,"Transaction.update",a._key,e,n,r):Dg(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=gy(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Sy(){if("undefined"==typeof Uint8Array)throw new ju(zu.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ty(){if("undefined"==typeof atob)throw new ju(zu.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ky=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Ty(),new t(gg.fromBase64String(e))},t.fromUint8Array=function(e){return Sy(),new t(gg.fromUint8Array(e))},t.prototype.toBase64=function(){return Ty(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Sy(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Iy=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){mg(t=Xv(t,hg));var n=fg(t),r=t._freezeSettings(),i=new wv;return pg(n,i,new _v(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){mg(t=Xv(t,hg));var e=fg(t),n=t._freezeSettings(),r=new wv;return pg(e,r,new bv(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new ju(zu.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Nf;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return Er(e,void 0,void 0,(function(){var e;return Sr(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Er(this,void 0,void 0,(function(){var e;return Sr(this,(function(n){switch(n.label){case 0:return Df.yt()?(e=t+"main",[4,Df.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Wd(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),Cy=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof jv||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||qu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){var i;void 0===r&&(r={});var o=(t=Xv(t,eg))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&qu("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:e+":"+n,ssl:!1})),r.mockUserToken){var a,s;if("string"==typeof r.mockUserToken)a=r.mockUserToken,s=xp.MOCK_USER;else{a=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=xr({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Lr(JSON.stringify({alg:"none",type:"JWT"})),Lr(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ju(zu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new xp(u)}t._credentials=new Uv(new Bv(a,s))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Er(e,void 0,void 0,(function(){var e,n;return Sr(this,(function(r){switch(r.label){case 0:return[4,Lv(t)];case 1:return e=r.sent(),[4,Av(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Ku(t);return e.Or.delete(0),Gp(e)}(n))]}}))}))}))}(fg(Xv(this._delegate,hg)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Er(e,void 0,void 0,(function(){var e,n;return Sr(this,(function(r){switch(r.label){case 0:return[4,Lv(t)];case 1:return e=r.sent(),[4,Av(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Er(this,void 0,void 0,(function(){var e;return Sr(this,(function(n){switch(n.label){case 0:return(e=Ku(t)).Or.add(0),[4,Qp(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(fg(Xv(this._delegate,hg)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Gv("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Nf;return t.asyncQueue.enqueueAndForget((function(){return Er(e,void 0,void 0,(function(){var e;return Sr(this,(function(r){switch(r.label){case 0:return e=$m,[4,Ov(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(fg(Xv(this._delegate,hg)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new xv(e);return t.asyncQueue.enqueueAndForget((function(){return Er(n,void 0,void 0,(function(){var e;return Sr(this,(function(n){switch(n.label){case 0:return e=function(t,e){Ku(t).Gr.add(e),e.next()},[4,Dv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return Er(n,void 0,void 0,(function(){var e;return Sr(this,(function(n){switch(n.label){case 0:return e=function(t,e){Ku(t).Gr.delete(e)},[4,Dv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(fg(t=Xv(t,hg)),cg(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new ju(zu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Uy(this,og(this._delegate,t))}catch(t){throw Dy(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Oy(this,ag(this._delegate,t))}catch(t){throw Dy(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Fy(this,function(t,e){if(t=Xv(t,eg),Zv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ju(zu.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new rg(t,null,function(t){return new ic(ol.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Dy(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Nf;return t.asyncQueue.enqueueAndForget((function(){return Er(n,void 0,void 0,(function(){var n;return Sr(this,(function(i){switch(i.label){case 0:return[4,function(t){return Pv(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new Sv(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(fg(t),(function(n){return e(new Ey(t,n))}))}(this._delegate,(function(n){return t(new Ly(e,n))}))},t.prototype.batch=function(){var t=this;return fg(this._delegate),new Ny(new vy(this._delegate,(function(e){return wy(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new ju(zu.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new ju(zu.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Py=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return wr(e,t),e.prototype.convertBytes=function(t){return new ky(new gg(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Oy.eu(e,this.firestore,null)},e}(dy);var Ly=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Py(t)}return t.prototype.get=function(t){var e=this,n=qy(t);return this._delegate.get(n).then((function(t){return new zy(e._firestore,new $g(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=qy(t);return n?(Kv("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=qy(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Ir([a,e,n],i)),this},t.prototype.delete=function(t){var e=qy(t);return this._delegate.delete(e),this},t}(),Ny=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=qy(t);return n?(Kv("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=qy(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Ir([a,e,n],i)),this},t.prototype.delete=function(t){var e=qy(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Ay=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Yg(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new jy(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Py(e),n),i.set(n,o)),o},t}();Ay.su=new WeakMap;var Oy=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Py(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new ju(zu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new ng(n._delegate,r,new bl(e)))},t.eu=function(e,n,r){return new t(n,new ng(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Uy(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Uy(this.firestore,og(this._delegate,t))}catch(t){throw Dy(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=qr(t))instanceof ng&&sg(this._delegate,t)},t.prototype.set=function(t,e){e=Kv("DocumentReference.set",e);try{return function(t,e,n){t=Xv(t,ng);var r=Xv(t.firestore,hg),i=py(t.converter,e,n);return wy(r,[Ig(kg(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,jc.none())])}(this._delegate,t,e)}catch(t){throw Dy(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?_y(this._delegate,t):_y.apply(void 0,Ir([this._delegate,t,e],n))}catch(t){throw Dy(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return wy(Xv((t=this._delegate).firestore,hg),[new Jc(t._key,jc.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ry(e),i=My(e,(function(e){return new zy(t.firestore,new $g(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return by(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Xv(t,ng);var e=Xv(t.firestore,hg),n=fg(e),r=new yy(e);return function(t,e){var n=this,r=new Nf;return t.asyncQueue.enqueueAndForget((function(){return Er(n,void 0,void 0,(function(){var n;return Sr(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Er(this,void 0,void 0,(function(){var r,i;return Sr(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Ku(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new ju(zu.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=bm(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Nv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new $g(e,r,t._key,n,new Qg(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Xv(t,ng);var e=Xv(t.firestore,hg);return Rv(fg(e),t._key,{source:"server"}).then((function(n){return xy(e,t,n)}))}(this._delegate):function(t){t=Xv(t,ng);var e=Xv(t.firestore,hg);return Rv(fg(e),t._key).then((function(n){return xy(e,t,n)}))}(this._delegate)).then((function(t){return new zy(e.firestore,new $g(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Ay.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function Dy(t,e,n){return t.message=t.message.replace(e,n),t}function Ry(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!cg(r))return r}return{}}function My(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=cg(t[0])?t[0]:cg(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var zy=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Oy(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return ty(this._delegate,t._delegate)},t}(),jy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wr(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(zy),Fy=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Py(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,ry(this._delegate,function(t,e,n){var r=e,i=Gg("where",t);return new iy(i,r,n)}(e,n,r)))}catch(e){throw Dy(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,ry(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Gg("orderBy",t);return new oy(r,n)}(e,n)))}catch(e){throw Dy(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,ry(this._delegate,function(t){return Jv("limit",t),new ay("limit",t,"F")}(e)))}catch(e){throw Dy(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,ry(this._delegate,function(t){return Jv("limitToLast",t),new ay("limitToLast",t,"L")}(e)))}catch(e){throw Dy(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,ry(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sy("startAt",t,!0)}.apply(void 0,e)))}catch(e){throw Dy(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,ry(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sy("startAfter",t,!1)}.apply(void 0,e)))}catch(e){throw Dy(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,ry(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new uy("endBefore",t,!0)}.apply(void 0,e)))}catch(e){throw Dy(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,ry(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new uy("endAt",t,!1)}.apply(void 0,e)))}catch(e){throw Dy(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return ug(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Xv(t,rg);var e=Xv(t.firestore,hg),n=fg(e),r=new yy(e);return function(t,e){var n=this,r=new Nf;return t.asyncQueue.enqueueAndForget((function(){return Er(n,void 0,void 0,(function(){var n;return Sr(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Er(this,void 0,void 0,(function(){var r,i,o,a,s;return Sr(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,ap(t,e,!0)];case 1:return s=u.sent(),r=new zm(e,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=bm(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,Nv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new Xg(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Xv(t,rg);var e=Xv(t.firestore,hg),n=fg(e),r=new yy(e);return Mv(n,t._query,{source:"server"}).then((function(n){return new Xg(e,r,t,n)}))}(this._delegate):function(t){t=Xv(t,rg);var e=Xv(t.firestore,hg),n=fg(e),r=new yy(e);return ey(t._query),Mv(n,t._query).then((function(n){return new Xg(e,r,t,n)}))}(this._delegate)).then((function(t){return new Vy(e.firestore,new Xg(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ry(e),i=My(e,(function(e){return new Vy(t.firestore,new Xg(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return by(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Ay.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),By=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new jy(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Vy=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Fy(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new jy(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new By(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new jy(n._firestore,r))}))},t.prototype.isEqual=function(t){return ty(this._delegate,t._delegate)},t}(),Uy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return wr(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Oy(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Oy(this.firestore,void 0===t?ag(this._delegate):ag(this._delegate,t))}catch(t){throw Dy(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Xv(t.firestore,hg),r=ag(t),i=py(t.converter,e);return wy(n,[Ig(kg(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,jc.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new Oy(e.firestore,t)}))},e.prototype.isEqual=function(t){return sg(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Ay.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(Fy);function qy(t){return Xv(t,ng)}var Hy=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(vg.bind.apply(vg,Ir([void 0],t)))}return t.documentId=function(){return new t(sl.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=qr(t))instanceof vg&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Wy=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Lg("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Cg("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ng("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ag("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Og("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}();var Zy,Ky={Firestore:Cy,GeoPoint:_g,Timestamp:Ju,Blob:ky,Transaction:Ly,WriteBatch:Ny,DocumentReference:Oy,DocumentSnapshot:zy,Query:Fy,QueryDocumentSnapshot:jy,QuerySnapshot:Vy,CollectionReference:Uy,FieldPath:Hy,FieldValue:Wy,setLogLevel:function(t){var e;e=t,Fu.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Hr("firestore",(function(t){return function(t,e){return new Cy(t,new hg(t,e),new Iy)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Ky)))})(Zy=_i),Zy.registerVersion("@firebase/firestore","2.4.0");_i.initializeApp({apiKey:"AIzaSyAoCsgupG3lsLFw9ns2gMWjzPH8t3ntLXo",authDomain:"garuda-55c76.firebaseapp.com",projectId:"garuda-55c76",storageBucket:"garuda-55c76.appspot.com",messagingSenderId:"981452137997",appId:"1:981452137997:web:f52796b809734a84fed744",measurementId:"G-FJ3G5R7TMX"});var Gy=_i.firestore().collection("locations"),Qy=function(){function t(){i(this,t)}return a(t,[{key:"getAll",value:function(){return Gy}},{key:"create",value:function(t){return Gy.add(t)}},{key:"update",value:function(t,e){return Gy.doc(t).update(e)}},{key:"delete",value:function(t){return Gy.doc(t).delete()}}]),t}(),$y=new Qy,Yy=function(t){u(n,t);var e=d(n);function n(t){var r;return i(this,n),(r=e.call(this,t)).state={location:""},r}return a(n,[{key:"formSubmit",value:function(t){var e=this;t.preventDefault();var n=new RegExp("\\(([\\d.-]+),\\s+([\\d.-]+)\\)","g").exec(t.target.address.value);if(null!==n&&3===n.length)return this.uploadToFirebase(t,parseFloat(n[1]),parseFloat(n[2]));var r="http://api.positionstack.com/v1/forward?access_key=bedfc7a12881cb1b9a3009b1712a0bb0&query=".concat(t.target.address.value);fetch(r).then((function(t){return t.json()})).then((function(n){var r=n.data;if(r.length>0){var i,o,a=null===(i=r[0])||void 0===i?void 0:i.latitude,s=null===(o=r[0])||void 0===o?void 0:o.longitude;if(void 0===a||void 0===s)return;e.uploadToFirebase(t,a,s)}})).catch((function(t){return console.log(t)}))}},{key:"uploadToFirebase",value:function(t,e,n){var r=t.target.image.files[0],i=new FileReader;i.onload=function(r){var o,a,s,u,l,c,h,f,d,p,m,v,g,y,_,b,w={title:null===(o=t.target)||void 0===o||null===(a=o.eventName)||void 0===a?void 0:a.value,host:null===(s=t.target)||void 0===s||null===(u=s.hostName)||void 0===u?void 0:u.value,startDate:null===(l=t.target)||void 0===l||null===(c=l.startDate)||void 0===c?void 0:c.value.toString(),endDate:null===(h=t.target)||void 0===h||null===(f=h.endDate)||void 0===f?void 0:f.value.toString(),description:null===(d=t.target)||void 0===d||null===(p=d.description)||void 0===p?void 0:p.value,website:null===(m=t.target)||void 0===m||null===(v=m.website)||void 0===v?void 0:v.value,image:i.result,coords:[e,n],email:null===(g=t.target)||void 0===g||null===(y=g.email)||void 0===y?void 0:y.value,number:null===(_=t.target)||void 0===_||null===(b=_.phone)||void 0===b?void 0:b.value};$y.create(w).then((function(){console.log("Created new item successfully!"),alert("Event successfuly registered!"),window.location.reload()})).catch((function(t){console.log(t)}))},i.readAsDataURL(r)}},{key:"getLocation",value:function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){_r(o,r,i,a,s,"next",t)}function s(t){_r(o,r,i,a,s,"throw",t)}a(void 0)}))}}(yr().mark((function t(){return yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,e){navigator.geolocation.getCurrentPosition((function(e){t(e.coords)}))})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return(0,et.jsxs)("div",{className:"pageContainer",children:[(0,et.jsx)(mr,{page:"login",sticky:!1}),(0,et.jsx)(st,{className:"loginContainer",children:(0,et.jsxs)("form",{className:"registerDiv",onSubmit:function(e){return t.formSubmit(e)},children:[(0,et.jsx)("h2",{children:"Register"}),(0,et.jsxs)("div",{className:"inputGroup",children:[(0,et.jsx)("label",{htmlFor:"hostName",children:"Host Name: "}),(0,et.jsx)("input",{id:"hostName",name:"hostName",className:"form-control",placeholder:"Host Name",type:"text",autoComplete:"off",required:!0})]}),(0,et.jsxs)("div",{className:"inputGroup",children:[(0,et.jsx)("label",{htmlFor:"eventName",children:"Event Name: "}),(0,et.jsx)("input",{id:"eventName",name:"eventName",className:"form-control",placeholder:"Event Name",type:"text",autoComplete:"off",required:!0})]}),(0,et.jsxs)("div",{className:"inputGroup",children:[(0,et.jsx)("label",{htmlFor:"startDate",children:"Start Date/Time: "}),(0,et.jsx)("input",{id:"startDate",name:"startDate",className:"form-control",placeholder:"Start Date",type:"datetime-local",autoComplete:"off",required:!0})]}),(0,et.jsxs)("div",{className:"inputGroup",children:[(0,et.jsx)("label",{htmlFor:"endDate",children:"End Date/Time: "}),(0,et.jsx)("input",{id:"endDate",name:"endDate",className:"form-control",placeholder:"End Date",type:"datetime-local",autoComplete:"off",required:!0})]}),(0,et.jsxs)("div",{className:"inputGroup",children:[(0,et.jsx)("label",{htmlFor:"description",children:"Event Description: "}),(0,et.jsx)("input",{id:"description",name:"description",className:"form-control",placeholder:"Event Description",type:"text",autoComplete:"off",required:!0})]}),(0,et.jsxs)("div",{className:"inputGroup form-group has-feedback",children:[(0,et.jsx)("label",{htmlFor:"address",children:"Address or (Lat, Long) "}),(0,et.jsx)("input",{id:"address",name:"address",className:"form-control",value:this.state.location,placeholder:"Allow Location Access or Manually Enter",type:"text",autoComplete:"off",onClick:function(){""===t.state.location&&t.getLocation().then((function(e){t.setState({location:"(".concat(e.latitude,", ").concat(e.longitude,")")})}))},onChange:function(e){t.setState({location:e.target.value})},required:!0})]}),(0,et.jsxs)("div",{className:"inputGroup",children:[(0,et.jsx)("label",{htmlFor:"image",children:"Image: "}),(0,et.jsx)("input",{id:"image",name:"image",className:"form-control",placeholder:"Image Location (URL)",type:"file",accept:"image/png, image/jpeg, image/jpg",autoComplete:"off",required:!0})]}),(0,et.jsxs)("div",{className:"inputGroup",children:[(0,et.jsx)("label",{htmlFor:"website",children:"Website: "}),(0,et.jsx)("input",{id:"website",name:"website",className:"form-control",placeholder:"Website",type:"url",autoComplete:"off"})]}),(0,et.jsxs)("div",{className:"inputGroup",children:[(0,et.jsx)("label",{htmlFor:"email",children:"Email Address: "}),(0,et.jsx)("input",{id:"email",name:"email",className:"form-control",placeholder:"Email (will be displayed)",type:"email",autoComplete:"off"})]}),(0,et.jsxs)("div",{className:"inputGroup",children:[(0,et.jsx)("label",{htmlFor:"phone",children:"Phone Number: "}),(0,et.jsx)("input",{id:"phone",name:"phone",className:"form-control",placeholder:"Phone Number (will be displayed)",type:"tel",autoComplete:"off"})]}),(0,et.jsx)("button",{className:"btn btn-primary",children:"Submit"})]})})]})}}]),n}(e.Component),Xy=Yy;var Jy=(0,e.createContext)(null),t_=Jy.Provider;var e_=n(559),n_=["bounds","boundsOptions","center","children","className","id","placeholder","style","whenReady","zoom"];function r_(){return r_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r_.apply(this,arguments)}function i_(t,n){var r=t.bounds,i=t.boundsOptions,o=t.center,a=t.children,s=t.className,u=t.id,l=t.placeholder,c=t.style,h=t.whenReady,f=t.zoom,d=X(t,n_),p=v((0,e.useState)({className:s,id:u,style:c}),1)[0],m=v((0,e.useState)(null),2),g=m[0],y=m[1];(0,e.useImperativeHandle)(n,(function(){var t;return null!==(t=null===g||void 0===g?void 0:g.map)&&void 0!==t?t:null}),[g]);var _=(0,e.useCallback)((function(t){if(null!==t&&null===g){var e=new e_.Map(t,d);null!=o&&null!=f?e.setView(o,f):null!=r&&e.fitBounds(r,i),null!=h&&e.whenReady(h),y(function(t){return Object.freeze({__version:1,map:t})}(e))}}),[]);(0,e.useEffect)((function(){return function(){null===g||void 0===g||g.map.remove()}}),[g]);var b=g?e.createElement(t_,{value:g},a):null!==l&&void 0!==l?l:null;return e.createElement("div",r_({},p,{ref:_}),b)}var o_=(0,e.forwardRef)(i_);function a_(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function s_(t,n){return null==n?function(n,r){var i=(0,e.useRef)();return i.current||(i.current=t(n,r)),i}:function(r,i){var o=(0,e.useRef)();o.current||(o.current=t(r,i));var a=(0,e.useRef)(r),s=o.current.instance;return(0,e.useEffect)((function(){a.current!==r&&(n(s,r,a.current),a.current=r)}),[s,r,i]),o}}function u_(t,e){var n,r=null!==(n=t.pane)&&void 0!==n?n:e.pane;return r?$($({},t),{},{pane:r}):t}function l_(t){return function(n){var r=function(){var t=(0,e.useContext)(Jy);if(null==t)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}(),i=t(u_(n,r),r);return function(t,n){var r=(0,e.useRef)(n);(0,e.useEffect)((function(){n!==r.current&&null!=t.attributionControl&&(null!=r.current&&t.attributionControl.removeAttribution(r.current),null!=n&&t.attributionControl.addAttribution(n)),r.current=n}),[t,n])}(r.map,n.attribution),function(t,n){var r=(0,e.useRef)();(0,e.useEffect)((function(){return null!=n&&t.instance.on(n),r.current=n,function(){null!=r.current&&t.instance.off(r.current),r.current=null}}),[t,n])}(i.current,n.eventHandlers),function(t,n){(0,e.useEffect)((function(){var e;return(null!==(e=n.layerContainer)&&void 0!==e?e:n.map).addLayer(t.instance),function(){var e;null===(e=n.layerContainer)||void 0===e||e.removeLayer(t.instance),n.map.removeLayer(t.instance)}}),[n,t])}(i.current,r),i}}var c_=["url"],h_=function(t,n){return function(t){function n(n,r){var i=t(n).current.instance;return(0,e.useImperativeHandle)(r,(function(){return i})),null}return(0,e.forwardRef)(n)}(l_(s_(t,n)))}((function(t,e){var n=t.url,r=X(t,c_);return a_(new e_.TileLayer(n,u_(r,e)),e)}),(function(t,e,n){var r=e.opacity,i=e.zIndex;null!=r&&r!==n.opacity&&t.setOpacity(r),null!=i&&i!==n.zIndex&&t.setZIndex(i)})),f_=["position"],d_=function(t,n){return function(t){function n(n,r){var i=t(n).current,o=i.instance,a=i.context;return(0,e.useImperativeHandle)(r,(function(){return o})),null==n.children?null:e.createElement(t_,{value:a},n.children)}return(0,e.forwardRef)(n)}(l_(s_(t,n)))}((function(t,e){var n,r,i=t.position,o=X(t,f_),a=new e_.Marker(i,o);return a_(a,(n=e,r={overlayContainer:a},Object.freeze($($({},n),r))))}),(function(t,e,n){e.position!==n.position&&t.setLatLng(e.position),null!=e.icon&&e.icon!==n.icon&&t.setIcon(e.icon),null!=e.zIndexOffset&&e.zIndexOffset!==n.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),null!=e.opacity&&e.opacity!==n.opacity&&t.setOpacity(e.opacity),null!=t.dragging&&e.draggable!==n.draggable&&(!0===e.draggable?t.dragging.enable():t.dragging.disable())})),p_=function(t){u(r,t);var n=d(r);function r(t){var o;return i(this,r),(o=n.call(this,t)).divElements=void 0,o.timeout=void 0,o.locationsListElement=void 0,o.state={focusedElementIndex:null,searchValue:"",locations:[]},o.divElements=[],o.locationsListElement=e.createRef(),o.focusElement=o.focusElement.bind(h(o)),o.searchChanged=o.searchChanged.bind(h(o)),o.filterWithSearch=o.filterWithSearch.bind(h(o)),o}return a(r,[{key:"focusElement",value:function(t){var e=this;this.timeout&&clearTimeout(this.timeout),this.setState({focusedElementIndex:t}),null!==t&&(this.divElements[t].scrollIntoView(),this.locationsListElement.current.scrollBy(0,-10),this.timeout=setTimeout((function(){return e.focusElement(null)}),2e3))}},{key:"searchChanged",value:function(t){var e,n=null===t||void 0===t||null===(e=t.target)||void 0===e?void 0:e.value;void 0!==n&&this.setState({searchValue:n})}},{key:"filterWithSearch",value:function(t){return 0===this.state.searchValue.length||(t.title.toLowerCase().includes(this.state.searchValue.toLowerCase())||t.host.toLowerCase().includes(this.state.searchValue.toLowerCase())||t.description.toLowerCase().includes(this.state.searchValue.toLowerCase())||t.website.toLowerCase().includes(this.state.searchValue.toLowerCase())||t.email.toLowerCase().includes(this.state.searchValue.toLowerCase())||t.number.toLowerCase().includes(this.state.searchValue.toLowerCase()))}},{key:"componentDidMount",value:function(){var t=this;$y.getAll().orderBy("title","asc").onSnapshot((function(e){var n=new Array;e.forEach((function(t){var e=t.id,r=t.data();n.push({id:e,host:r.host,title:r.title,description:r.description,startDate:r.startDate,endDate:r.endDate,image:r.image,website:r.website,coords:r.coords,email:r.email,number:r.number})})),t.setState({locations:n})}))}},{key:"render",value:function(){var t=this;return(0,et.jsxs)("div",{className:"pageContainer",children:[(0,et.jsx)(mr,{page:"map",sticky:!1}),(0,et.jsxs)("div",{className:"mapContainer",children:[(0,et.jsxs)(o_,{center:this.props.position,zoom:6,scrollWheelZoom:!0,children:[(0,et.jsx)(h_,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),this.state.locations.filter(this.filterWithSearch).map((function(e,n){return(0,et.jsx)(d_,{position:e.coords,eventHandlers:{click:function(e){t.focusElement(n)}}},n)}))]}),(0,et.jsxs)("div",{className:"locationsContainer",children:[(0,et.jsx)("input",{name:"search",id:"search",className:"form-control",placeholder:"Search",type:"text",onChange:this.searchChanged,autoComplete:"off"}),(0,et.jsx)("div",{className:"locationsList",ref:this.locationsListElement,children:this.state.locations.filter(this.filterWithSearch).map((function(e,n){return(0,et.jsxs)("div",{className:"eventGroup".concat(t.state.focusedElementIndex===n?" focus":""),ref:function(e){return t.divElements.push(e)},children:[(0,et.jsx)("img",{src:e.image}),(0,et.jsxs)("div",{className:"eventText",children:[(0,et.jsx)("h1",{children:(0,et.jsx)("a",{href:e.website,target:"_blank",children:e.title})}),(0,et.jsxs)("h2",{className:"host",children:["Hosted by ",e.host]}),(0,et.jsxs)("p",{className:"dates",children:[new Date(e.startDate).toLocaleString("en-us",{dateStyle:"short",timeStyle:"short"})," - ",new Date(e.endDate).toLocaleString("en-us",{dateStyle:"short",timeStyle:"short"})]}),(0,et.jsx)("p",{className:"description",children:e.description}),(0,et.jsxs)("p",{className:"contacts",children:[(0,et.jsx)("strong",{children:"Email:"})," ",e.email,", ",(0,et.jsx)("strong",{children:"Phone Number"}),": ",e.number]})]})]},n)}))})]})]})]})}}]),r}(e.Component),m_=p_,v_=function(t){u(n,t);var e=d(n);function n(){return i(this,n),e.apply(this,arguments)}return a(n,[{key:"render",value:function(){return(0,et.jsx)(K,{children:(0,et.jsxs)(W,{children:[(0,et.jsx)(q,{path:"/",element:(0,et.jsx)(gr,{})}),(0,et.jsx)(q,{path:"/register",element:(0,et.jsx)(Xy,{})}),(0,et.jsx)(q,{path:"/map",element:(0,et.jsx)(m_,{position:[.789,113.921]})})]})})}}]),n}(e.Component),g_=v_;r.createRoot(document.getElementById("root")).render((0,et.jsx)(e.StrictMode,{children:(0,et.jsx)(g_,{})}))}()}();
//# sourceMappingURL=main.8d1bd0df.js.map